(function () { function $o(t, e) { return t.set(e[0], e[1]), t } function Wo(t, e) { return t.add(e), t } function Ko(t, e, n) { switch (n.length) { case 0: return t.call(e); case 1: return t.call(e, n[0]); case 2: return t.call(e, n[0], n[1]); case 3: return t.call(e, n[0], n[1], n[2]) }return t.apply(e, n) } function Vo(t, e, n, r) { for (var i = -1, o = null == t ? 0 : t.length; ++i < o;) { var s = t[i]; e(r, s, n(s), t) } return r } function Xo(t, e) { for (var n = -1, r = null == t ? 0 : t.length; ++n < r && !1 !== e(t[n], n, t);); return t } function Qo(t, e) { for (var n = -1, r = null == t ? 0 : t.length; ++n < r;)if (!e(t[n], n, t)) return !1; return !0 } function Go(t, e) { for (var n = -1, r = null == t ? 0 : t.length, i = 0, o = []; ++n < r;) { var s = t[n]; e(s, n, t) && (o[i++] = s) } return o } function Jo(t, e) { return !(null == t || !t.length) && -1 < as(t, e, 0) } function Zo(t, e, n) { for (var r = -1, i = null == t ? 0 : t.length; ++r < i;)if (n(e, t[r])) return !0; return !1 } function ts(t, e) { for (var n = -1, r = null == t ? 0 : t.length, i = Array(r); ++n < r;)i[n] = e(t[n], n, t); return i } function es(t, e) { for (var n = -1, r = e.length, i = t.length; ++n < r;)t[i + n] = e[n]; return t } function ns(t, e, n, r) { var i = -1, o = null == t ? 0 : t.length; for (r && o && (n = t[++i]); ++i < o;)n = e(n, t[i], i, t); return n } function rs(t, e, n, r) { var i = null == t ? 0 : t.length; for (r && i && (n = t[--i]); i--;)n = e(n, t[i], i, t); return n } function is(t, e) { for (var n = -1, r = null == t ? 0 : t.length; ++n < r;)if (e(t[n], n, t)) return !0; return !1 } function os(t, r, e) { var i; return e(t, function (t, e, n) { if (r(t, e, n)) return i = e, !1 }), i } function ss(t, e, n, r) { var i = t.length; for (n += r ? 1 : -1; r ? n-- : ++n < i;)if (e(t[n], n, t)) return n; return -1 } function as(t, e, n) { if (e == e) t: { --n; for (var r = t.length; ++n < r;)if (t[n] === e) { t = n; break t } t = -1 } else t = ss(t, us, n); return t } function ls(t, e, n, r) { --n; for (var i = t.length; ++n < i;)if (r(t[n], e)) return n; return -1 } function us(t) { return t != t } function cs(t, e) { var n = null == t ? 0 : t.length; return n ? ds(t, e) / n : As } function fs(e) { return function (t) { return null == t ? Ss : t[e] } } function t(e) { return function (t) { return null == e ? Ss : e[t] } } function hs(t, r, i, o, e) { return e(t, function (t, e, n) { i = o ? (o = !1, t) : r(i, t, e, n) }), i } function ds(t, e) { for (var n, r = -1, i = t.length; ++r < i;) { var o = e(t[r]); o !== Ss && (n = n === Ss ? o : n + o) } return n } function ps(t, e) { for (var n = -1, r = Array(t); ++n < t;)r[n] = e(n); return r } function gs(e) { return function (t) { return e(t) } } function ms(e, t) { return ts(t, function (t) { return e[t] }) } function ys(t, e) { return t.has(e) } function vs(t, e) { for (var n = -1, r = t.length; ++n < r && -1 < as(e, t[n], 0);); return n } function bs(t, e) { for (var n = t.length; n-- && -1 < as(e, t[n], 0);); return n } function _s(t) { return "\\" + o[t] } function ws(t) { var n = -1, r = Array(t.size); return t.forEach(function (t, e) { r[++n] = [e, t] }), r } function xs(e, n) { return function (t) { return e(n(t)) } } function Es(t, e) { for (var n = -1, r = t.length, i = 0, o = []; ++n < r;) { var s = t[n]; s !== e && "__lodash_placeholder__" !== s || (t[n] = "__lodash_placeholder__", o[i++] = n) } return o } function Ts(t) { var e = -1, n = Array(t.size); return t.forEach(function (t) { n[++e] = t }), n } function ks(t) { if (pa.test(t)) { for (var e = r.lastIndex = 0; r.test(t);)++e; t = e } else t = f(t); return t } function js(t) { return pa.test(t) ? t.match(r) || [] : t.split("") } var Ss, Os = 1 / 0, As = NaN, Ls = [["ary", 128], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", 16], ["flip", 512], ["partial", 32], ["partialRight", 64], ["rearg", 256]], Cs = /\b__p\+='';/g, Ps = /\b(__p\+=)''\+/g, Ns = /(__e\(.*?\)|\b__t\))\+'';/g, Ms = /&(?:amp|lt|gt|quot|#39);/g, Ds = /[&<>"']/g, Rs = RegExp(Ms.source), qs = RegExp(Ds.source), Is = /<%-([\s\S]+?)%>/g, Bs = /<%([\s\S]+?)%>/g, Hs = /<%=([\s\S]+?)%>/g, Us = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Fs = /^\w*$/, Ys = /^\./, zs = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, $s = /[\\^$.*+?()[\]{}|]/g, Ws = RegExp($s.source), Ks = /^\s+|\s+$/g, Vs = /^\s+/, Xs = /\s+$/, Qs = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, Gs = /\{\n\/\* \[wrapped with (.+)\] \*/, Js = /,? & /, Zs = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, ta = /\\(\\)?/g, ea = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, na = /\w*$/, ra = /^[-+]0x[0-9a-f]+$/i, ia = /^0b[01]+$/i, oa = /^\[object .+?Constructor\]$/, sa = /^0o[0-7]+$/i, aa = /^(?:0|[1-9]\d*)$/, la = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, ua = /($^)/, ca = /['\n\r\u2028\u2029\\]/g, e = "[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*", n = "(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])" + e, fa = RegExp("['’]", "g"), ha = RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", "g"), r = RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])" + e, "g"), da = RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)|\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)|\\d+", n].join("|"), "g"), pa = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"), ga = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, ma = "Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "), ya = {}; ya["[object Float32Array]"] = ya["[object Float64Array]"] = ya["[object Int8Array]"] = ya["[object Int16Array]"] = ya["[object Int32Array]"] = ya["[object Uint8Array]"] = ya["[object Uint8ClampedArray]"] = ya["[object Uint16Array]"] = ya["[object Uint32Array]"] = !0, ya["[object Arguments]"] = ya["[object Array]"] = ya["[object ArrayBuffer]"] = ya["[object Boolean]"] = ya["[object DataView]"] = ya["[object Date]"] = ya["[object Error]"] = ya["[object Function]"] = ya["[object Map]"] = ya["[object Number]"] = ya["[object Object]"] = ya["[object RegExp]"] = ya["[object Set]"] = ya["[object String]"] = ya["[object WeakMap]"] = !1; var va = {}; va["[object Arguments]"] = va["[object Array]"] = va["[object ArrayBuffer]"] = va["[object DataView]"] = va["[object Boolean]"] = va["[object Date]"] = va["[object Float32Array]"] = va["[object Float64Array]"] = va["[object Int8Array]"] = va["[object Int16Array]"] = va["[object Int32Array]"] = va["[object Map]"] = va["[object Number]"] = va["[object Object]"] = va["[object RegExp]"] = va["[object Set]"] = va["[object String]"] = va["[object Symbol]"] = va["[object Uint8Array]"] = va["[object Uint8ClampedArray]"] = va["[object Uint16Array]"] = va["[object Uint32Array]"] = !0, va["[object Error]"] = va["[object Function]"] = va["[object WeakMap]"] = !1; var i, o = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" }, ba = parseFloat, _a = parseInt, s = "object" == typeof global && global && global.Object === Object && global, a = "object" == typeof self && self && self.Object === Object && self, wa = s || a || Function("return this")(), l = "object" == typeof exports && exports && !exports.nodeType && exports, u = l && "object" == typeof module && module && !module.nodeType && module, xa = u && u.exports === l, c = xa && s.process; t: { try { i = c && c.binding && c.binding("util"); break t } catch ($o) { } i = void 0 } var Ea = i && i.isArrayBuffer, Ta = i && i.isDate, ka = i && i.isMap, ja = i && i.isRegExp, Sa = i && i.isSet, Oa = i && i.isTypedArray, f = fs("length"), Aa = t({ "À": "A", "Á": "A", "Â": "A", "Ã": "A", "Ä": "A", "Å": "A", "à": "a", "á": "a", "â": "a", "ã": "a", "ä": "a", "å": "a", "Ç": "C", "ç": "c", "Ð": "D", "ð": "d", "È": "E", "É": "E", "Ê": "E", "Ë": "E", "è": "e", "é": "e", "ê": "e", "ë": "e", "Ì": "I", "Í": "I", "Î": "I", "Ï": "I", "ì": "i", "í": "i", "î": "i", "ï": "i", "Ñ": "N", "ñ": "n", "Ò": "O", "Ó": "O", "Ô": "O", "Õ": "O", "Ö": "O", "Ø": "O", "ò": "o", "ó": "o", "ô": "o", "õ": "o", "ö": "o", "ø": "o", "Ù": "U", "Ú": "U", "Û": "U", "Ü": "U", "ù": "u", "ú": "u", "û": "u", "ü": "u", "Ý": "Y", "ý": "y", "ÿ": "y", "Æ": "Ae", "æ": "ae", "Þ": "Th", "þ": "th", "ß": "ss", "Ā": "A", "Ă": "A", "Ą": "A", "ā": "a", "ă": "a", "ą": "a", "Ć": "C", "Ĉ": "C", "Ċ": "C", "Č": "C", "ć": "c", "ĉ": "c", "ċ": "c", "č": "c", "Ď": "D", "Đ": "D", "ď": "d", "đ": "d", "Ē": "E", "Ĕ": "E", "Ė": "E", "Ę": "E", "Ě": "E", "ē": "e", "ĕ": "e", "ė": "e", "ę": "e", "ě": "e", "Ĝ": "G", "Ğ": "G", "Ġ": "G", "Ģ": "G", "ĝ": "g", "ğ": "g", "ġ": "g", "ģ": "g", "Ĥ": "H", "Ħ": "H", "ĥ": "h", "ħ": "h", "Ĩ": "I", "Ī": "I", "Ĭ": "I", "Į": "I", "İ": "I", "ĩ": "i", "ī": "i", "ĭ": "i", "į": "i", "ı": "i", "Ĵ": "J", "ĵ": "j", "Ķ": "K", "ķ": "k", "ĸ": "k", "Ĺ": "L", "Ļ": "L", "Ľ": "L", "Ŀ": "L", "Ł": "L", "ĺ": "l", "ļ": "l", "ľ": "l", "ŀ": "l", "ł": "l", "Ń": "N", "Ņ": "N", "Ň": "N", "Ŋ": "N", "ń": "n", "ņ": "n", "ň": "n", "ŋ": "n", "Ō": "O", "Ŏ": "O", "Ő": "O", "ō": "o", "ŏ": "o", "ő": "o", "Ŕ": "R", "Ŗ": "R", "Ř": "R", "ŕ": "r", "ŗ": "r", "ř": "r", "Ś": "S", "Ŝ": "S", "Ş": "S", "Š": "S", "ś": "s", "ŝ": "s", "ş": "s", "š": "s", "Ţ": "T", "Ť": "T", "Ŧ": "T", "ţ": "t", "ť": "t", "ŧ": "t", "Ũ": "U", "Ū": "U", "Ŭ": "U", "Ů": "U", "Ű": "U", "Ų": "U", "ũ": "u", "ū": "u", "ŭ": "u", "ů": "u", "ű": "u", "ų": "u", "Ŵ": "W", "ŵ": "w", "Ŷ": "Y", "ŷ": "y", "Ÿ": "Y", "Ź": "Z", "Ż": "Z", "Ž": "Z", "ź": "z", "ż": "z", "ž": "z", "Ĳ": "IJ", "ĳ": "ij", "Œ": "Oe", "œ": "oe", "ŉ": "'n", "ſ": "s" }), La = t({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }), Ca = t({ "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'" }), Pa = function t(e) { function d(t) { if (tn(t) && !Wi(t) && !(t instanceof g)) { if (t instanceof p) return t; if (zn.call(t, "__wrapped__")) return je(t) } return new p(t) } function o() { } function p(t, e) { this.__wrapped__ = t, this.__actions__ = [], this.__chain__ = !!e, this.__index__ = 0, this.__values__ = Ss } function g(t) { this.__wrapped__ = t, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = 4294967295, this.__views__ = [] } function n(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) { var r = t[e]; this.set(r[0], r[1]) } } function i(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) { var r = t[e]; this.set(r[0], r[1]) } } function s(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) { var r = t[e]; this.set(r[0], r[1]) } } function m(t) { var e = -1, n = null == t ? 0 : t.length; for (this.__data__ = new s; ++e < n;)this.add(t[e]) } function x(t) { this.size = (this.__data__ = new i(t)).size } function a(t, e) { var n, r = Wi(t), i = !r && $i(t), o = !r && !i && Vi(t), s = !r && !i && !o && Zi(t), a = (i = (r = r || i || o || s) ? ps(t.length, In) : []).length; for (n in t) !e && !zn.call(t, n) || r && ("length" == n || o && ("offset" == n || "parent" == n) || s && ("buffer" == n || "byteLength" == n || "byteOffset" == n) || de(n, a)) || i.push(n); return i } function r(t) { var e = t.length; return e ? t[nt(0, e - 1)] : Ss } function y(t, e, n) { (n === Ss || We(t[e], n)) && (n !== Ss || e in t) || c(t, e, n) } function E(t, e, n) { var r = t[e]; zn.call(t, e) && We(r, n) && (n !== Ss || e in t) || c(t, e, n) } function l(t, e) { for (var n = t.length; n--;)if (We(t[n][0], e)) return n; return -1 } function u(t, r, i, o) { return Fr(t, function (t, e, n) { r(o, t, i(t), n) }), o } function T(t, e) { return t && Lt(e, gn(e), t) } function c(t, e, n) { "__proto__" == e && lr ? lr(t, e, { configurable: !0, enumerable: !0, value: n, writable: !0 }) : t[e] = n } function f(t, e) { for (var n = -1, r = e.length, i = Cn(r), o = null == t; ++n < r;)i[n] = o ? Ss : dn(t, e[n]); return i } function h(t, e, n) { return t == t && (n !== Ss && (t = t <= n ? t : n), e !== Ss && (t = e <= t ? t : e)), t } function k(n, r, i, t, e, o) { var s, a, l, u, c, f, h, d, p, g, m = 1 & r, y = 2 & r, v = 4 & r; if (i && (s = e ? i(n, t, e, o) : i(n)), s !== Ss) return s; if (!Ze(n)) return n; if (t = Wi(n)) { if (p = (d = n).length, g = d.constructor(p), p && "string" == typeof d[0] && zn.call(d, "index") && (g.index = d.index, g.input = d.input), s = g, !m) return At(n, s) } else { var b = Zr(n), _ = "[object Function]" == b || "[object GeneratorFunction]" == b; if (Vi(n)) return Et(n, m); if ("[object Object]" == b || "[object Arguments]" == b || _ && !e) { if (s = y || _ ? {} : fe(n), !m) return y ? (h = u = n, c = (f = s) && Lt(h, mn(h), f), Lt(u, Jr(u), c)) : (l = T(s, a = n), Lt(a, Gr(a), l)) } else { if (!va[b]) return e ? n : {}; s = function (t, e, n, r) { var i = t.constructor; switch (e) { case "[object ArrayBuffer]": return Tt(t); case "[object Boolean]": case "[object Date]": return new i(+t); case "[object DataView]": return e = r ? Tt(t.buffer) : t.buffer, new t.constructor(e, t.byteOffset, t.byteLength); case "[object Float32Array]": case "[object Float64Array]": case "[object Int8Array]": case "[object Int16Array]": case "[object Int32Array]": case "[object Uint8Array]": case "[object Uint8ClampedArray]": case "[object Uint16Array]": case "[object Uint32Array]": return kt(t, r); case "[object Map]": return ns(e = r ? n(ws(t), 1) : ws(t), $o, new t.constructor); case "[object Number]": case "[object String]": return new i(t); case "[object RegExp]": return (e = new t.constructor(t.source, na.exec(t))).lastIndex = t.lastIndex, e; case "[object Set]": return ns(e = r ? n(Ts(t), 1) : Ts(t), Wo, new t.constructor); case "[object Symbol]": return Br ? Rn(Br.call(t)) : {} } }(n, b, k, m) } } if (o || (o = new x), e = o.get(n)) return e; o.set(n, s); y = v ? y ? re : ne : y ? mn : gn; var w = t ? Ss : y(n); return Xo(w || n, function (t, e) { w && (t = n[e = t]), E(s, e, k(t, r, i, e, n, o)) }), s } function v(t, e, n) { var r = n.length; if (null == t) return !r; for (t = Rn(t); r--;) { var i = n[r], o = e[i], s = t[i]; if (s === Ss && !(i in t) || !o(s)) return !1 } return !0 } function b(t, e, n) { if ("function" != typeof t) throw new Bn("Expected a function"); return ii(function () { t.apply(Ss, n) }, e) } function _(t, e, n, r) { var i = -1, o = Jo, s = !0, a = t.length, l = [], u = e.length; if (!a) return l; n && (e = ts(e, gs(n))), r ? (o = Zo, s = !1) : 200 <= e.length && (o = ys, s = !1, e = new m(e)); t: for (; ++i < a;) { var c = t[i], f = null == n ? c : n(c); c = r || 0 !== c ? c : 0; if (s && f == f) { for (var h = u; h--;)if (e[h] === f) continue t; l.push(c) } else o(e, f, r) || l.push(c) } return l } function w(t, r) { var i = !0; return Fr(t, function (t, e, n) { return i = !!r(t, e, n) }), i } function j(t, e, n) { for (var r = -1, i = t.length; ++r < i;) { var o = t[r], s = e(o); if (null != s && (a === Ss ? s == s && !on(s) : n(s, a))) var a = s, l = o } return l } function S(t, r) { var i = []; return Fr(t, function (t, e, n) { r(t, e, n) && i.push(t) }), i } function O(t, e, n, r, i) { var o = -1, s = t.length; for (n || (n = he), i || (i = []); ++o < s;) { var a = t[o]; 0 < e && n(a) ? 1 < e ? O(a, e - 1, n, r, i) : es(i, a) : r || (i[i.length] = a) } return i } function A(t, e) { return t && zr(t, e, gn) } function L(t, e) { return t && $r(t, e, gn) } function C(e, t) { return Go(t, function (t) { return Qe(e[t]) }) } function P(t, e) { for (var n = 0, r = (e = wt(e, t)).length; null != t && n < r;)t = t[Ee(e[n++])]; return n && n == r ? t : Ss } function N(t, e, n) { return e = e(t), Wi(t) ? e : es(e, n(t)) } function M(t) { if (null == t) t = t === Ss ? "[object Undefined]" : "[object Null]"; else if (ar && ar in Rn(t)) { var e = zn.call(t, ar), n = t[ar]; try { t[ar] = Ss; var r = !0 } catch (t) { } var i = Kn.call(t); r && (e ? t[ar] = n : delete t[ar]), t = i } else t = Kn.call(t); return t } function D(t, e) { return e < t } function R(t, e) { return null != t && zn.call(t, e) } function q(t, e) { return null != t && e in Rn(t) } function I(t, e, n) { for (var r = n ? Zo : Jo, i = t[0].length, o = t.length, s = o, a = Cn(o), l = 1 / 0, u = []; s--;) { var c = t[s]; s && e && (c = ts(c, gs(e))), l = _r(c.length, l), a[s] = !n && (e || 120 <= i && 120 <= c.length) ? new m(s && c) : Ss } c = t[0]; var f = -1, h = a[0]; t: for (; ++f < i && u.length < l;) { var d = c[f], p = e ? e(d) : d; d = n || 0 !== d ? d : 0; if (h ? !ys(h, p) : !r(u, p, n)) { for (s = o; --s;) { var g = a[s]; if (g ? !ys(g, p) : !r(t[s], p, n)) continue t } h && h.push(p), u.push(d) } } return u } function B(t, e, n) { return null == (e = null == (t = (e = wt(e, t)).length < 2 ? t : P(t, st(e, 0, -1))) ? t : t[Ee(Ce(e))]) ? Ss : Ko(e, t, n) } function H(t) { return tn(t) && "[object Arguments]" == M(t) } function U(t, e, n, r, i) { if (t === e) e = !0; else if (null == t || null == e || !tn(t) && !tn(e)) e = t != t && e != e; else t: { var o, s, a = Wi(t), l = Wi(e), u = "[object Object]" == (o = "[object Arguments]" == (o = a ? "[object Array]" : Zr(t)) ? "[object Object]" : o); l = "[object Object]" == (s = "[object Arguments]" == (s = l ? "[object Array]" : Zr(e)) ? "[object Object]" : s); if ((s = o == s) && Vi(t)) { if (!Vi(e)) { e = !1; break t } u = !(a = !0) } if (s && !u) i || (i = new x), e = a || Zi(t) ? te(t, e, n, r, U, i) : function (t, e, n, r, i, o, s) { switch (n) { case "[object DataView]": if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) break; t = t.buffer, e = e.buffer; case "[object ArrayBuffer]": if (t.byteLength != e.byteLength || !o(new Zn(t), new Zn(e))) break; return !0; case "[object Boolean]": case "[object Date]": case "[object Number]": return We(+t, +e); case "[object Error]": return t.name == e.name && t.message == e.message; case "[object RegExp]": case "[object String]": return t == e + ""; case "[object Map]": var a = ws; case "[object Set]": if (a || (a = Ts), t.size != e.size && !(1 & r)) break; return (n = s.get(t)) ? n == e : (r |= 2, s.set(t, e), e = te(a(t), a(e), r, i, o, s), s.delete(t), e); case "[object Symbol]": if (Br) return Br.call(t) == Br.call(e) }return !1 }(t, e, o, n, r, U, i); else { if (!(1 & n) && (a = u && zn.call(t, "__wrapped__"), o = l && zn.call(e, "__wrapped__"), a || o)) { t = a ? t.value() : t, e = o ? e.value() : e, i || (i = new x), e = U(t, e, n, r, i); break t } if (s) e: if (i || (i = new x), a = 1 & n, o = ne(t), l = o.length, s = ne(e).length, l == s || a) { for (u = l; u--;) { var c = o[u]; if (!(a ? c in e : zn.call(e, c))) { e = !1; break e } } if ((s = i.get(t)) && i.get(e)) e = s == e; else { s = !0, i.set(t, e), i.set(e, t); for (var f = a; ++u < l;) { var h = t[c = o[u]], d = e[c]; if (r) var p = a ? r(d, h, c, e, t, i) : r(h, d, c, t, e, i); if (p === Ss ? h !== d && !U(h, d, n, r, i) : !p) { s = !1; break } f || (f = "constructor" == c) } s && !f && ((n = t.constructor) != (r = e.constructor) && "constructor" in t && "constructor" in e && !("function" == typeof n && n instanceof n && "function" == typeof r && r instanceof r) && (s = !1)), i.delete(t), i.delete(e), e = s } } else e = !1; else e = !1 } } return e } function F(t, e, n, r) { var i = n.length, o = i, s = !r; if (null == t) return !o; for (t = Rn(t); i--;) { var a = n[i]; if (s && a[2] ? a[1] !== t[a[0]] : !(a[0] in t)) return !1 } for (; ++i < o;) { var l = (a = n[i])[0], u = t[l], c = a[1]; if (s && a[2]) { if (u === Ss && !(l in t)) return !1 } else { if (a = new x, r) var f = r(u, c, l, t, e, a); if (f === Ss ? !U(c, u, 3, r, a) : !f) return !1 } } return !0 } function Y(t) { return !(!Ze(t) || Wn && Wn in t) && (Qe(t) ? Qn : oa).test(Te(t)) } function z(t) { return "function" == typeof t ? t : null == t ? En : "object" == typeof t ? Wi(t) ? X(t[0], t[1]) : V(t) : Sn(t) } function $(t) { if (!ye(t)) return vr(t); var e, n = []; for (e in Rn(t)) zn.call(t, e) && "constructor" != e && n.push(e); return n } function W(t, e) { return t < e } function K(t, r) { var i = -1, o = Ke(t) ? Cn(t.length) : []; return Fr(t, function (t, e, n) { o[++i] = r(t, e, n) }), o } function V(e) { var n = le(e); return 1 == n.length && n[0][2] ? ve(n[0][0], n[0][1]) : function (t) { return t === e || F(t, e, n) } } function X(n, r) { return ge(n) && r == r && !Ze(r) ? ve(Ee(n), r) : function (t) { var e = dn(t, n); return e === Ss && e === r ? pn(t, n) : U(r, e, 3) } } function Q(c, f, h, d, p) { c !== f && zr(f, function (t, e) { if (Ze(t)) { p || (p = new x); var n = p, r = c[e], i = f[e]; if (u = n.get(i)) y(c, e, u); else { var o = (u = d ? d(r, i, e + "", c, f, n) : Ss) === Ss; if (o) { var s = Wi(i), a = !s && Vi(i), l = !s && !a && Zi(i), u = i; s || a || l ? Wi(r) ? u = r : Ve(r) ? u = At(r) : a ? u = Et(i, !(o = !1)) : l ? u = kt(i, !(o = !1)) : u = [] : nn(i) || $i(i) ? $i(u = r) ? u = fn(r) : (!Ze(r) || h && Qe(r)) && (u = fe(i)) : o = !1 } o && (n.set(i, u), Q(u, i, h, d, n), n.delete(i)), y(c, e, u) } } else (n = d ? d(c[e], t, e + "", c, f, p) : Ss) === Ss && (n = t), y(c, e, n) }, mn) } function G(t, e) { var n = t.length; if (n) return de(e += e < 0 ? n : 0, n) ? t[e] : Ss } function J(t, n, l) { var r = -1; return n = ts(n.length ? n : [En], gs(se())), function (t, e) { var n = t.length; for (t.sort(e); n--;)t[n] = t[n].c; return t }(t = K(t, function (e) { return { a: ts(n, function (t) { return t(e) }), b: ++r, c: e } }), function (t, e) { var n; t: { n = -1; for (var r = t.a, i = e.a, o = r.length, s = l.length; ++n < o;) { var a = jt(r[n], i[n]); if (a) { n = s <= n ? a : a * ("desc" == l[n] ? -1 : 1); break t } } n = t.b - e.b } return n }) } function Z(t, e, n) { for (var r = -1, i = e.length, o = {}; ++r < i;) { var s = e[r], a = P(t, s); n(a, s) && ot(o, wt(s, t), a) } return o } function tt(t, e, n, r) { var i = r ? ls : as, o = -1, s = e.length, a = t; for (t === e && (e = At(e)), n && (a = ts(t, gs(n))); ++o < s;) { var l = 0, u = e[o]; for (u = n ? n(u) : u; -1 < (l = i(a, u, l, r));)a !== t && ir.call(a, l, 1), ir.call(t, l, 1) } return t } function et(t, e) { for (var n = t ? e.length : 0, r = n - 1; n--;) { var i = e[n]; if (n == r || i !== o) { var o = i; de(i) ? ir.call(t, i, 1) : pt(t, i) } } } function nt(t, e) { return t + dr(Er() * (e - t + 1)) } function rt(t, e) { var n = ""; if (!t || e < 1 || 9007199254740991 < e) return n; for (; e % 2 && (n += t), (e = dr(e / 2)) && (t += t), e;); return n } function it(t, e) { return oi(be(t, e, En), t + "") } function ot(t, e, n, r) { if (!Ze(t)) return t; for (var i = -1, o = (e = wt(e, t)).length, s = o - 1, a = t; null != a && ++i < o;) { var l = Ee(e[i]), u = n; if (i != s) { var c = a[l]; (u = r ? r(c, l, a) : Ss) === Ss && (u = Ze(c) ? c : de(e[i + 1]) ? [] : {}) } E(a, l, u), a = a[l] } return t } function st(t, e, n) { var r = -1, i = t.length; for (e < 0 && (e = i < -e ? 0 : i + e), (n = i < n ? i : n) < 0 && (n += i), i = n < e ? 0 : n - e >>> 0, e >>>= 0, n = Cn(i); ++r < i;)n[r] = t[r + e]; return n } function at(t, r) { var i; return Fr(t, function (t, e, n) { return !(i = r(t, e, n)) }), !!i } function lt(t, e, n) { var r = 0, i = null == t ? r : t.length; if ("number" == typeof e && e == e && i <= 2147483647) { for (; r < i;) { var o = r + i >>> 1, s = t[o]; null !== s && !on(s) && (n ? s <= e : s < e) ? r = o + 1 : i = o } return i } return ut(t, e, En, n) } function ut(t, e, n, r) { e = n(e); for (var i = 0, o = null == t ? 0 : t.length, s = e != e, a = null === e, l = on(e), u = e === Ss; i < o;) { var c = dr((i + o) / 2), f = n(t[c]), h = f !== Ss, d = null === f, p = f == f, g = on(f); (s ? r || p : u ? p && (r || h) : a ? p && h && (r || !d) : l ? p && h && !d && (r || !g) : !d && !g && (r ? f <= e : f < e)) ? i = c + 1 : o = c } return _r(o, 4294967294) } function ct(t, e) { for (var n = -1, r = t.length, i = 0, o = []; ++n < r;) { var s = t[n], a = e ? e(s) : s; if (!n || !We(a, l)) { var l = a; o[i++] = 0 === s ? 0 : s } } return o } function ft(t) { return "number" == typeof t ? t : on(t) ? As : +t } function ht(t) { if ("string" == typeof t) return t; if (Wi(t)) return ts(t, ht) + ""; if (on(t)) return Hr ? Hr.call(t) : ""; var e = t + ""; return "0" == e && 1 / t == -Os ? "-0" : e } function dt(t, e, n) { var r = -1, i = Jo, o = t.length, s = !0, a = [], l = a; if (n) s = !1, i = Zo; else if (200 <= o) { if (i = e ? null : Xr(t)) return Ts(i); s = !1, i = ys, l = new m } else l = e ? [] : a; t: for (; ++r < o;) { var u = t[r], c = e ? e(u) : u; u = n || 0 !== u ? u : 0; if (s && c == c) { for (var f = l.length; f--;)if (l[f] === c) continue t; e && l.push(c), a.push(u) } else i(l, c, n) || (l !== a && l.push(c), a.push(u)) } return a } function pt(t, e) { return null == (t = (e = wt(e, t)).length < 2 ? t : P(t, st(e, 0, -1))) || delete t[Ee(Ce(e))] } function gt(t, e, n, r) { for (var i = t.length, o = r ? i : -1; (r ? o-- : ++o < i) && e(t[o], o, t);); return n ? st(t, r ? 0 : o, r ? o + 1 : i) : st(t, r ? o + 1 : 0, r ? i : o) } function mt(t, e) { var n = t; return n instanceof g && (n = n.value()), ns(e, function (t, e) { return e.func.apply(e.thisArg, es([t], e.args)) }, n) } function yt(t, e, n) { var r = t.length; if (r < 2) return r ? dt(t[0]) : []; for (var i = -1, o = Cn(r); ++i < r;)for (var s = t[i], a = -1; ++a < r;)a != i && (o[i] = _(o[i] || s, t[a], e, n)); return dt(O(o, 1), e, n) } function vt(t, e, n) { for (var r = -1, i = t.length, o = e.length, s = {}; ++r < i;)n(s, t[r], r < o ? e[r] : Ss); return s } function bt(t) { return Ve(t) ? t : [] } function _t(t) { return "function" == typeof t ? t : En } function wt(t, e) { return Wi(t) ? t : ge(t, e) ? [t] : si(hn(t)) } function xt(t, e, n) { var r = t.length; return n = n === Ss ? r : n, !e && r <= n ? t : st(t, e, n) } function Et(t, e) { if (e) return t.slice(); var n = t.length; n = tr ? tr(n) : new t.constructor(n); return t.copy(n), n } function Tt(t) { var e = new t.constructor(t.byteLength); return new Zn(e).set(new Zn(t)), e } function kt(t, e) { return new t.constructor(e ? Tt(t.buffer) : t.buffer, t.byteOffset, t.length) } function jt(t, e) { if (t !== e) { var n = t !== Ss, r = null === t, i = t == t, o = on(t), s = e !== Ss, a = null === e, l = e == e, u = on(e); if (!a && !u && !o && e < t || o && s && l && !a && !u || r && s && l || !n && l || !i) return 1; if (!r && !o && !u && t < e || u && n && i && !r && !o || a && n && i || !s && i || !l) return -1 } return 0 } function St(t, e, n, r) { var i = -1, o = t.length, s = n.length, a = -1, l = e.length, u = br(o - s, 0), c = Cn(l + u); for (r = !r; ++a < l;)c[a] = e[a]; for (; ++i < s;)(r || i < o) && (c[n[i]] = t[i]); for (; u--;)c[a++] = t[i++]; return c } function Ot(t, e, n, r) { var i = -1, o = t.length, s = -1, a = n.length, l = -1, u = e.length, c = br(o - a, 0), f = Cn(c + u); for (r = !r; ++i < c;)f[i] = t[i]; for (c = i; ++l < u;)f[c + l] = e[l]; for (; ++s < a;)(r || i < o) && (f[c + n[s]] = t[i++]); return f } function At(t, e) { var n = -1, r = t.length; for (e || (e = Cn(r)); ++n < r;)e[n] = t[n]; return e } function Lt(t, e, n, r) { var i = !n; n || (n = {}); for (var o = -1, s = e.length; ++o < s;) { var a = e[o], l = r ? r(n[a], t[a], a, n, t) : Ss; l === Ss && (l = t[a]), i ? c(n, a, l) : E(n, a, l) } return n } function Ct(i, o) { return function (t, e) { var n = Wi(t) ? Vo : u, r = o ? o() : {}; return n(t, i, se(e, 2), r) } } function Pt(s) { return it(function (t, e) { var n = -1, r = e.length, i = 1 < r ? e[r - 1] : Ss, o = 2 < r ? e[2] : Ss; i = 3 < s.length && "function" == typeof i ? (r-- , i) : Ss; for (o && pe(e[0], e[1], o) && (i = r < 3 ? Ss : i, r = 1), t = Rn(t); ++n < r;)(o = e[n]) && s(t, o, n, i); return t }) } function Nt(o, s) { return function (t, e) { if (null == t) return t; if (!Ke(t)) return o(t, e); for (var n = t.length, r = s ? n : -1, i = Rn(t); (s ? r-- : ++r < n) && !1 !== e(i[r], r, i);); return t } } function Mt(a) { return function (t, e, n) { for (var r = -1, i = Rn(t), o = (n = n(t)).length; o--;) { var s = n[a ? o : ++r]; if (!1 === e(i[s], s, i)) break } return t } } function Dt(r) { return function (t) { t = hn(t); var e = pa.test(t) ? js(t) : Ss, n = e ? e[0] : t.charAt(0); return t = e ? xt(e, 1).join("") : t.slice(1), n[r]() + t } } function Rt(e) { return function (t) { return ns(wn(_n(t).replace(fa, "")), e, "") } } function qt(n) { return function () { switch ((t = arguments).length) { case 0: return new n; case 1: return new n(t[0]); case 2: return new n(t[0], t[1]); case 3: return new n(t[0], t[1], t[2]); case 4: return new n(t[0], t[1], t[2], t[3]); case 5: return new n(t[0], t[1], t[2], t[3], t[4]); case 6: return new n(t[0], t[1], t[2], t[3], t[4], t[5]); case 7: return new n(t[0], t[1], t[2], t[3], t[4], t[5], t[6]) }var t, e = Ur(n.prototype); return Ze(t = n.apply(e, t)) ? t : e } } function It(o) { return function (t, e, n) { var r = Rn(t); if (!Ke(t)) { var i = se(e, 3); t = gn(t), e = function (t) { return i(r[t], t, r) } } return -1 < (e = o(t, e, n)) ? r[i ? t[e] : e] : Ss } } function Bt(a) { return ee(function (r) { var i = r.length, t = i, e = p.prototype.thru; for (a && r.reverse(); t--;) { if ("function" != typeof (n = r[t])) throw new Bn("Expected a function"); if (e && !o && "wrapper" == ie(n)) var o = new p([], !0) } for (t = o ? t : i; ++t < i;) { var n, s = "wrapper" == (e = ie(n = r[t])) ? Qr(n) : Ss; o = s && me(s[0]) && 424 == s[1] && !s[4].length && 1 == s[9] ? o[ie(s[0])].apply(o, s[3]) : 1 == n.length && me(n) ? o[e]() : o.thru(n) } return function () { var t = (n = arguments)[0]; if (o && 1 == n.length && Wi(t)) return o.plant(t).value(); for (var e = 0, n = i ? r[e].apply(this, n) : t; ++e < i;)n = r[e].call(this, n); return n } }) } function Ht(u, c, f, h, d, p, g, m, y, v) { var b = 128 & c, _ = 1 & c, w = 2 & c, x = 24 & c, E = 512 & c, T = w ? Ss : qt(u); return function t() { for (var e = arguments.length, n = Cn(e), r = e; r--;)n[r] = arguments[r]; if (x) { var i, o = oe(t); for (r = n.length, i = 0; r--;)n[r] === o && ++i } if (h && (n = St(n, h, d, x)), p && (n = Ot(n, p, g, x)), e -= i, x && e < v) return o = Es(n, o), Kt(u, c, Ht, t.placeholder, f, n, o, m, y, v - e); if (o = _ ? f : this, r = w ? o[u] : u, e = n.length, m) { i = n.length; for (var s = _r(m.length, i), a = At(n); s--;) { var l = m[s]; n[s] = de(l, i) ? a[l] : Ss } } else E && 1 < e && n.reverse(); return b && y < e && (n.length = y), this && this !== wa && this instanceof t && (r = T || qt(r)), r.apply(o, n) } } function Ut(s, a) { return function (t, e) { return n = t, r = s, i = a(e), o = {}, A(n, function (t, e, n) { r(o, i(t), e, n) }), o; var n, r, i, o } } function Ft(r, i) { return function (t, e) { var n; if (t === Ss && e === Ss) return i; if (t !== Ss && (n = t), e !== Ss) { if (n === Ss) return e; "string" == typeof t || "string" == typeof e ? (t = ht(t), e = ht(e)) : (t = ft(t), e = ft(e)), n = r(t, e) } return n } } function Yt(r) { return ee(function (t) { return t = ts(t, gs(se())), it(function (e) { var n = this; return r(t, function (t) { return Ko(t, n, e) }) }) }) } function zt(t, e) { var n = (e = e === Ss ? " " : ht(e)).length; return n < 2 ? n ? rt(e, t) : e : (n = rt(e, hr(t / ks(e))), pa.test(e) ? xt(js(n), 0, t).join("") : n.slice(0, t)) } function $t(o) { return function (t, e, n) { n && "number" != typeof n && pe(t, e, n) && (e = n = Ss), t = an(t), e === Ss ? (e = t, t = 0) : e = an(e), n = n === Ss ? t < e ? 1 : -1 : an(n); var r = -1; e = br(hr((e - t) / (n || 1)), 0); for (var i = Cn(e); e--;)i[o ? e : ++r] = t, t += n; return i } } function Wt(n) { return function (t, e) { return "string" == typeof t && "string" == typeof e || (t = cn(t), e = cn(e)), n(t, e) } } function Kt(t, e, n, r, i, o, s, a, l, u) { var c = 8 & e; return 4 & (e = (e | (c ? 32 : 64)) & ~(c ? 64 : 32)) || (e &= -4), i = [t, e, i, c ? o : Ss, c ? s : Ss, o = c ? Ss : o, s = c ? Ss : s, a, l, u], n = n.apply(Ss, i), me(t) && ri(n, i), n.placeholder = r, _e(n, t, e) } function Vt(t) { var r = Dn[t]; return function (t, e) { if (t = cn(t), e = null == e ? 0 : _r(ln(e), 292)) { var n = (hn(t) + "e").split("e"); return +((n = (hn(n = r(n[0] + "e" + (+n[1] + e))) + "e").split("e"))[0] + "e" + (+n[1] - e)) } return r(t) } } function Xt(s) { return function (t) { var e, n, r, i, o = Zr(t); return "[object Map]" == o ? ws(t) : "[object Set]" == o ? (n = t, r = -1, i = Array(n.size), n.forEach(function (t) { i[++r] = [t, t] }), i) : ts(s(e = t), function (t) { return [t, e[t]] }) } } function Qt(t, e, n, r, i, o, s, a) { var l = 2 & e; if (!l && "function" != typeof t) throw new Bn("Expected a function"); var u = r ? r.length : 0; if (u || (e &= -97, r = i = Ss), s = s === Ss ? s : br(ln(s), 0), a = a === Ss ? a : ln(a), u -= i ? i.length : 0, 64 & e) { var c = r, f = i; r = i = Ss } var h, d, p, g, m, y, v, b, _, w, x, E, T, k = l ? Ss : Qr(t); return o = [t, e, n, r, i, c, f, o, s, a], k && (e = (n = o[1]) | (t = k[1]), r = 128 == t && 8 == n || 128 == t && 256 == n && o[7].length <= k[8] || 384 == t && k[7].length <= k[8] && 8 == n, e < 131 || r) && (1 & t && (o[2] = k[2], e |= 1 & n ? 0 : 4), (n = k[3]) && (r = o[3], o[3] = r ? St(r, n, k[4]) : n, o[4] = r ? Es(o[3], "__lodash_placeholder__") : k[4]), (n = k[5]) && (r = o[5], o[5] = r ? Ot(r, n, k[6]) : n, o[6] = r ? Es(o[5], "__lodash_placeholder__") : k[6]), (n = k[7]) && (o[7] = n), 128 & t && (o[8] = null == o[8] ? k[8] : _r(o[8], k[8])), null == o[9] && (o[9] = k[9]), o[0] = k[0], o[1] = e), t = o[0], e = o[1], n = o[2], r = o[3], i = o[4], !(a = o[9] = o[9] === Ss ? l ? 0 : t.length : br(o[9] - u, 0)) && 24 & e && (e &= -25), _e((k ? Wr : ri)(e && 1 != e ? 8 == e || 16 == e ? (x = e, E = a, T = qt(w = t), function t() { for (var e = arguments.length, n = Cn(e), r = e, i = oe(t); r--;)n[r] = arguments[r]; return (e -= (r = e < 3 && n[0] !== i && n[e - 1] !== i ? [] : Es(n, i)).length) < E ? Kt(w, x, Ht, t.placeholder, Ss, n, r, Ss, Ss, E - e) : Ko(this && this !== wa && this instanceof t ? T : w, this, n) }) : 32 != e && 33 != e || i.length ? Ht.apply(Ss, o) : (y = n, v = r, b = 1 & e, _ = qt(m = t), function t() { for (var e = -1, n = arguments.length, r = -1, i = v.length, o = Cn(i + n), s = this && this !== wa && this instanceof t ? _ : m; ++r < i;)o[r] = v[r]; for (; n--;)o[r++] = arguments[++e]; return Ko(s, b ? y : this, o) }) : (d = n, p = 1 & e, g = qt(h = t), function t() { return (this && this !== wa && this instanceof t ? g : h).apply(p ? d : this, arguments) }), o), t, e) } function Gt(t, e, n, r) { return t === Ss || We(t, Un[n]) && !zn.call(r, n) ? e : t } function Jt(t, e, n, r, i, o) { return Ze(t) && Ze(e) && (o.set(e, t), Q(t, e, Ss, Jt, o), o.delete(e)), t } function Zt(t) { return nn(t) ? Ss : t } function te(t, e, n, r, i, o) { var s = 1 & n, a = t.length; if (a != (l = e.length) && !(s && a < l)) return !1; if ((l = o.get(t)) && o.get(e)) return l == e; var l = -1, u = !0, c = 2 & n ? new m : Ss; for (o.set(t, e), o.set(e, t); ++l < a;) { var f = t[l], h = e[l]; if (r) var d = s ? r(h, f, l, e, t, o) : r(f, h, l, t, e, o); if (d !== Ss) { if (d) continue; u = !1; break } if (c) { if (!is(e, function (t, e) { if (!ys(c, e) && (f === t || i(f, t, n, r, o))) return c.push(e) })) { u = !1; break } } else if (f !== h && !i(f, h, n, r, o)) { u = !1; break } } return o.delete(t), o.delete(e), u } function ee(t) { return oi(be(t, Ss, Ae), t + "") } function ne(t) { return N(t, gn, Gr) } function re(t) { return N(t, mn, Jr) } function ie(t) { for (var e = t.name + "", n = Pr[e], r = zn.call(Pr, e) ? n.length : 0; r--;) { var i = n[r], o = i.func; if (null == o || o == t) return i.name } return e } function oe(t) { return (zn.call(d, "placeholder") ? d : t).placeholder } function se() { var t = (t = d.iteratee || Tn) === Tn ? z : t; return arguments.length ? t(arguments[0], arguments[1]) : t } function ae(t, e) { var n = t.__data__, r = typeof e; return ("string" == r || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== e : null === e) ? n["string" == typeof e ? "string" : "hash"] : n.map } function le(t) { for (var e = gn(t), n = e.length; n--;) { var r = e[n], i = t[r]; e[n] = [r, i, i == i && !Ze(i)] } return e } function ue(t, e) { var n = null == t ? Ss : t[e]; return Y(n) ? n : Ss } function ce(t, e, n) { for (var r = -1, i = (e = wt(e, t)).length, o = !1; ++r < i;) { var s = Ee(e[r]); if (!(o = null != t && n(t, s))) break; t = t[s] } return o || ++r != i ? o : !!(i = null == t ? 0 : t.length) && Je(i) && de(s, i) && (Wi(t) || $i(t)) } function fe(t) { return "function" != typeof t.constructor || ye(t) ? {} : Ur(er(t)) } function he(t) { return Wi(t) || $i(t) || !!(or && t && t[or]) } function de(t, e) { return !!(e = null == e ? 9007199254740991 : e) && ("number" == typeof t || aa.test(t)) && -1 < t && 0 == t % 1 && t < e } function pe(t, e, n) { if (!Ze(n)) return !1; var r = typeof e; return !!("number" == r ? Ke(n) && de(e, n.length) : "string" == r && e in n) && We(n[e], t) } function ge(t, e) { if (Wi(t)) return !1; var n = typeof t; return !("number" != n && "symbol" != n && "boolean" != n && null != t && !on(t)) || Fs.test(t) || !Us.test(t) || null != e && t in Rn(e) } function me(t) { var e = ie(t), n = d[e]; return "function" == typeof n && e in g.prototype && (t === n || !!(e = Qr(n)) && t === e[0]) } function ye(t) { var e = t && t.constructor; return t === ("function" == typeof e && e.prototype || Un) } function ve(e, n) { return function (t) { return null != t && t[e] === n && (n !== Ss || e in Rn(t)) } } function be(i, o, s) { return o = br(o === Ss ? i.length - 1 : o, 0), function () { for (var t = arguments, e = -1, n = br(t.length - o, 0), r = Cn(n); ++e < n;)r[e] = t[o + e]; for (e = -1, n = Cn(o + 1); ++e < o;)n[e] = t[e]; return n[o] = s(r), Ko(i, this, n) } } function _e(t, e, n) { var r = e + ""; e = oi; var i, o = ke; return (o = (n = o(i = (i = r.match(Gs)) ? i[1].split(Js) : [], n)).length) && (n[i = o - 1] = (1 < o ? "& " : "") + n[i], n = n.join(2 < o ? ", " : " "), r = r.replace(Qs, "{\n/* [wrapped with " + n + "] */\n")), e(t, r) } function we(n) { var r = 0, i = 0; return function () { var t = wr(), e = 16 - (t - i); if (i = t, 0 < e) { if (800 <= ++r) return arguments[0] } else r = 0; return n.apply(Ss, arguments) } } function xe(t, e) { var n = -1, r = (i = t.length) - 1; for (e = e === Ss ? i : e; ++n < e;) { var i, o = t[i = nt(n, r)]; t[i] = t[n], t[n] = o } return t.length = e, t } function Ee(t) { if ("string" == typeof t || on(t)) return t; var e = t + ""; return "0" == e && 1 / t == -Os ? "-0" : e } function Te(t) { if (null != t) { try { return Yn.call(t) } catch (t) { } return t + "" } return "" } function ke(n, r) { return Xo(Ls, function (t) { var e = "_." + t[0]; r & t[1] && !Jo(n, e) && n.push(e) }), n.sort() } function je(t) { if (t instanceof g) return t.clone(); var e = new p(t.__wrapped__, t.__chain__); return e.__actions__ = At(t.__actions__), e.__index__ = t.__index__, e.__values__ = t.__values__, e } function Se(t, e, n) { var r = null == t ? 0 : t.length; return r ? ((n = null == n ? 0 : ln(n)) < 0 && (n = br(r + n, 0)), ss(t, se(e, 3), n)) : -1 } function Oe(t, e, n) { var r = null == t ? 0 : t.length; if (!r) return -1; var i = r - 1; return n !== Ss && (i = ln(n), i = n < 0 ? br(r + i, 0) : _r(i, r - 1)), ss(t, se(e, 3), i, !0) } function Ae(t) { return null != t && t.length ? O(t, 1) : [] } function Le(t) { return t && t.length ? t[0] : Ss } function Ce(t) { var e = null == t ? 0 : t.length; return e ? t[e - 1] : Ss } function Pe(t, e) { return t && t.length && e && e.length ? tt(t, e) : t } function Ne(t) { return null == t ? t : Tr.call(t) } function Me(e) { if (!e || !e.length) return []; var n = 0; return e = Go(e, function (t) { if (Ve(t)) return n = br(t.length, n), !0 }), ps(n, function (t) { return ts(e, fs(t)) }) } function De(t, e) { if (!t || !t.length) return []; var n = Me(t); return null == e ? n : ts(n, function (t) { return Ko(e, Ss, t) }) } function Re(t) { return (t = d(t)).__chain__ = !0, t } function qe(t, e) { return e(t) } function Ie(t, e) { return (Wi(t) ? Xo : Fr)(t, se(e, 3)) } function Be(t, e) { return (Wi(t) ? function (t, e) { for (var n = null == t ? 0 : t.length; n-- && !1 !== e(t[n], n, t);); return t } : Yr)(t, se(e, 3)) } function He(t, e) { return (Wi(t) ? ts : K)(t, se(e, 3)) } function Ue(t, e, n) { return e = n ? Ss : e, e = t && null == e ? t.length : e, Qt(t, 128, Ss, Ss, Ss, Ss, e) } function Fe(t, e) { var n; if ("function" != typeof e) throw new Bn("Expected a function"); return t = ln(t), function () { return 0 < --t && (n = e.apply(this, arguments)), t <= 1 && (e = Ss), n } } function Ye(r, i, t) { function n(t) { var e = l, n = u; return l = u = Ss, p = t, f = r.apply(n, e) } function o(t) { var e = t - d; return t -= p, d === Ss || i <= e || e < 0 || m && c <= t } function s() { var t = Ni(); if (o(t)) return a(t); var e, n = ii; e = t - p, t = i - (t - d), e = m ? _r(t, c - e) : t, h = n(s, e) } function a(t) { return h = Ss, y && l ? n(t) : (l = u = Ss, f) } function e() { var t = Ni(), e = o(t); if (l = arguments, u = this, d = t, e) { if (h === Ss) return p = t = d, h = ii(s, i), g ? n(t) : f; if (m) return h = ii(s, i), n(d) } return h === Ss && (h = ii(s, i)), f } var l, u, c, f, h, d, p = 0, g = !1, m = !1, y = !0; if ("function" != typeof r) throw new Bn("Expected a function"); return i = cn(i) || 0, Ze(t) && (g = !!t.leading, c = (m = "maxWait" in t) ? br(cn(t.maxWait) || 0, i) : c, y = "trailing" in t ? !!t.trailing : y), e.cancel = function () { h !== Ss && Vr(h), p = 0, l = d = u = h = Ss }, e.flush = function () { return h === Ss ? f : a(Ni()) }, e } function ze(r, i) { function o() { var t = arguments, e = i ? i.apply(this, t) : t[0], n = o.cache; return n.has(e) ? n.get(e) : (t = r.apply(this, t), o.cache = n.set(e, t) || n, t) } if ("function" != typeof r || null != i && "function" != typeof i) throw new Bn("Expected a function"); return o.cache = new (ze.Cache || s), o } function $e(e) { if ("function" != typeof e) throw new Bn("Expected a function"); return function () { var t = arguments; switch (t.length) { case 0: return !e.call(this); case 1: return !e.call(this, t[0]); case 2: return !e.call(this, t[0], t[1]); case 3: return !e.call(this, t[0], t[1], t[2]) }return !e.apply(this, t) } } function We(t, e) { return t === e || t != t && e != e } function Ke(t) { return null != t && Je(t.length) && !Qe(t) } function Ve(t) { return tn(t) && Ke(t) } function Xe(t) { if (!tn(t)) return !1; var e = M(t); return "[object Error]" == e || "[object DOMException]" == e || "string" == typeof t.message && "string" == typeof t.name && !nn(t) } function Qe(t) { return !!Ze(t) && ("[object Function]" == (t = M(t)) || "[object GeneratorFunction]" == t || "[object AsyncFunction]" == t || "[object Proxy]" == t) } function Ge(t) { return "number" == typeof t && t == ln(t) } function Je(t) { return "number" == typeof t && -1 < t && 0 == t % 1 && t <= 9007199254740991 } function Ze(t) { var e = typeof t; return null != t && ("object" == e || "function" == e) } function tn(t) { return null != t && "object" == typeof t } function en(t) { return "number" == typeof t || tn(t) && "[object Number]" == M(t) } function nn(t) { return !(!tn(t) || "[object Object]" != M(t)) && (null === (t = er(t)) || "function" == typeof (t = zn.call(t, "constructor") && t.constructor) && t instanceof t && Yn.call(t) == Vn) } function rn(t) { return "string" == typeof t || !Wi(t) && tn(t) && "[object String]" == M(t) } function on(t) { return "symbol" == typeof t || tn(t) && "[object Symbol]" == M(t) } function sn(t) { if (!t) return []; if (Ke(t)) return rn(t) ? js(t) : At(t); if (sr && t[sr]) { t = t[sr](); for (var e, n = []; !(e = t.next()).done;)n.push(e.value); return n } return ("[object Map]" == (e = Zr(t)) ? ws : "[object Set]" == e ? Ts : vn)(t) } function an(t) { return t ? (t = cn(t)) === Os || t === -Os ? 17976931348623157e292 * (t < 0 ? -1 : 1) : t == t ? t : 0 : 0 === t ? t : 0 } function ln(t) { var e = (t = an(t)) % 1; return t == t ? e ? t - e : t : 0 } function un(t) { return t ? h(ln(t), 0, 4294967295) : 0 } function cn(t) { if ("number" == typeof t) return t; if (on(t)) return As; if (Ze(t) && (t = Ze(t = "function" == typeof t.valueOf ? t.valueOf() : t) ? t + "" : t), "string" != typeof t) return 0 === t ? t : +t; t = t.replace(Ks, ""); var e = ia.test(t); return e || sa.test(t) ? _a(t.slice(2), e ? 2 : 8) : ra.test(t) ? As : +t } function fn(t) { return Lt(t, mn(t)) } function hn(t) { return null == t ? "" : ht(t) } function dn(t, e, n) { return (t = null == t ? Ss : P(t, e)) === Ss ? n : t } function pn(t, e) { return null != t && ce(t, e, q) } function gn(t) { return Ke(t) ? a(t) : $(t) } function mn(t) { if (Ke(t)) t = a(t, !0); else if (Ze(t)) { var e, n = ye(t), r = []; for (e in t) ("constructor" != e || !n && zn.call(t, e)) && r.push(e); t = r } else { if (e = [], null != t) for (n in Rn(t)) e.push(n); t = e } return t } function yn(t, n) { if (null == t) return {}; var e = ts(re(t), function (t) { return [t] }); return n = se(n), Z(t, e, function (t, e) { return n(t, e[0]) }) } function vn(t) { return null == t ? [] : ms(t, gn(t)) } function bn(t) { return jo(hn(t).toLowerCase()) } function _n(t) { return (t = hn(t)) && t.replace(la, Aa).replace(ha, "") } function wn(t, e, n) { return t = hn(t), (e = n ? Ss : e) === Ss ? ga.test(t) ? t.match(da) || [] : t.match(Zs) || [] : t.match(e) || [] } function xn(t) { return function () { return t } } function En(t) { return t } function Tn(t) { return z("function" == typeof t ? t : k(t, 1)) } function kn(r, e, t) { var n = gn(e), i = C(e, n); null != t || Ze(e) && (i.length || !n.length) || (t = e, e = r, r = this, i = C(e, gn(e))); var o = !(Ze(t) && "chain" in t && !t.chain), s = Qe(r); return Xo(i, function (t) { var n = e[t]; r[t] = n, s && (r.prototype[t] = function () { var t = this.__chain__; if (o || t) { var e = r(this.__wrapped__); return (e.__actions__ = At(this.__actions__)).push({ func: n, args: arguments, thisArg: r }), e.__chain__ = t, e } return n.apply(r, es([this.value()], arguments)) }) }), r } function jn() { } function Sn(t) { return ge(t) ? fs(Ee(t)) : (e = t, function (t) { return P(t, e) }); var e } function On() { return [] } function An() { return !1 } var Ln, Cn = (e = null == e ? wa : Pa.defaults(wa.Object(), e, Pa.pick(wa, ma))).Array, Pn = e.Date, Nn = e.Error, Mn = e.Function, Dn = e.Math, Rn = e.Object, qn = e.RegExp, In = e.String, Bn = e.TypeError, Hn = Cn.prototype, Un = Rn.prototype, Fn = e["__core-js_shared__"], Yn = Mn.prototype.toString, zn = Un.hasOwnProperty, $n = 0, Wn = (Ln = /[^.]+$/.exec(Fn && Fn.keys && Fn.keys.IE_PROTO || "")) ? "Symbol(src)_1." + Ln : "", Kn = Un.toString, Vn = Yn.call(Rn), Xn = wa._, Qn = qn("^" + Yn.call(zn).replace($s, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), Gn = xa ? e.Buffer : Ss, Jn = e.Symbol, Zn = e.Uint8Array, tr = Gn ? Gn.f : Ss, er = xs(Rn.getPrototypeOf, Rn), nr = Rn.create, rr = Un.propertyIsEnumerable, ir = Hn.splice, or = Jn ? Jn.isConcatSpreadable : Ss, sr = Jn ? Jn.iterator : Ss, ar = Jn ? Jn.toStringTag : Ss, lr = function () { try { var t = ue(Rn, "defineProperty"); return t({}, "", {}), t } catch (t) { } }(), ur = e.clearTimeout !== wa.clearTimeout && e.clearTimeout, cr = Pn && Pn.now !== wa.Date.now && Pn.now, fr = e.setTimeout !== wa.setTimeout && e.setTimeout, hr = Dn.ceil, dr = Dn.floor, pr = Rn.getOwnPropertySymbols, gr = Gn ? Gn.isBuffer : Ss, mr = e.isFinite, yr = Hn.join, vr = xs(Rn.keys, Rn), br = Dn.max, _r = Dn.min, wr = Pn.now, xr = e.parseInt, Er = Dn.random, Tr = Hn.reverse, kr = ue(e, "DataView"), jr = ue(e, "Map"), Sr = ue(e, "Promise"), Or = ue(e, "Set"), Ar = ue(e, "WeakMap"), Lr = ue(Rn, "create"), Cr = Ar && new Ar, Pr = {}, Nr = Te(kr), Mr = Te(jr), Dr = Te(Sr), Rr = Te(Or), qr = Te(Ar), Ir = Jn ? Jn.prototype : Ss, Br = Ir ? Ir.valueOf : Ss, Hr = Ir ? Ir.toString : Ss, Ur = function () { function e() { } return function (t) { return Ze(t) ? nr ? nr(t) : (e.prototype = t, t = new e, e.prototype = Ss, t) : {} } }(); d.templateSettings = { escape: Is, evaluate: Bs, interpolate: Hs, variable: "", imports: { _: d } }, (d.prototype = o.prototype).constructor = d, (p.prototype = Ur(o.prototype)).constructor = p, (g.prototype = Ur(o.prototype)).constructor = g, n.prototype.clear = function () { this.__data__ = Lr ? Lr(null) : {}, this.size = 0 }, n.prototype.delete = function (t) { return t = this.has(t) && delete this.__data__[t], this.size -= t ? 1 : 0, t }, n.prototype.get = function (t) { var e = this.__data__; return Lr ? "__lodash_hash_undefined__" === (t = e[t]) ? Ss : t : zn.call(e, t) ? e[t] : Ss }, n.prototype.has = function (t) { var e = this.__data__; return Lr ? e[t] !== Ss : zn.call(e, t) }, n.prototype.set = function (t, e) { var n = this.__data__; return this.size += this.has(t) ? 0 : 1, n[t] = Lr && e === Ss ? "__lodash_hash_undefined__" : e, this }, i.prototype.clear = function () { this.__data__ = [], this.size = 0 }, i.prototype.delete = function (t) { var e = this.__data__; return !((t = l(e, t)) < 0 || (t == e.length - 1 ? e.pop() : ir.call(e, t, 1), --this.size, 0)) }, i.prototype.get = function (t) { var e = this.__data__; return (t = l(e, t)) < 0 ? Ss : e[t][1] }, i.prototype.has = function (t) { return -1 < l(this.__data__, t) }, i.prototype.set = function (t, e) { var n = this.__data__, r = l(n, t); return r < 0 ? (++this.size, n.push([t, e])) : n[r][1] = e, this }, s.prototype.clear = function () { this.size = 0, this.__data__ = { hash: new n, map: new (jr || i), string: new n } }, s.prototype.delete = function (t) { return t = ae(this, t).delete(t), this.size -= t ? 1 : 0, t }, s.prototype.get = function (t) { return ae(this, t).get(t) }, s.prototype.has = function (t) { return ae(this, t).has(t) }, s.prototype.set = function (t, e) { var n = ae(this, t), r = n.size; return n.set(t, e), this.size += n.size == r ? 0 : 1, this }, m.prototype.add = m.prototype.push = function (t) { return this.__data__.set(t, "__lodash_hash_undefined__"), this }, m.prototype.has = function (t) { return this.__data__.has(t) }, x.prototype.clear = function () { this.__data__ = new i, this.size = 0 }, x.prototype.delete = function (t) { var e = this.__data__; return t = e.delete(t), this.size = e.size, t }, x.prototype.get = function (t) { return this.__data__.get(t) }, x.prototype.has = function (t) { return this.__data__.has(t) }, x.prototype.set = function (t, e) { var n = this.__data__; if (n instanceof i) { var r = n.__data__; if (!jr || r.length < 199) return r.push([t, e]), this.size = ++n.size, this; n = this.__data__ = new s(r) } return n.set(t, e), this.size = n.size, this }; var Fr = Nt(A), Yr = Nt(L, !0), zr = Mt(), $r = Mt(!0), Wr = Cr ? function (t, e) { return Cr.set(t, e), t } : En, Kr = lr ? function (t, e) { return lr(t, "toString", { configurable: !0, enumerable: !1, value: xn(e), writable: !0 }) } : En, Vr = ur || function (t) { return wa.clearTimeout(t) }, Xr = Or && 1 / Ts(new Or([, -0]))[1] == Os ? function (t) { return new Or(t) } : jn, Qr = Cr ? function (t) { return Cr.get(t) } : jn, Gr = pr ? function (e) { return null == e ? [] : (e = Rn(e), Go(pr(e), function (t) { return rr.call(e, t) })) } : On, Jr = pr ? function (t) { for (var e = []; t;)es(e, Gr(t)), t = er(t); return e } : On, Zr = M; (kr && "[object DataView]" != Zr(new kr(new ArrayBuffer(1))) || jr && "[object Map]" != Zr(new jr) || Sr && "[object Promise]" != Zr(Sr.resolve()) || Or && "[object Set]" != Zr(new Or) || Ar && "[object WeakMap]" != Zr(new Ar)) && (Zr = function (t) { var e = M(t); if (t = (t = "[object Object]" == e ? t.constructor : Ss) ? Te(t) : "") switch (t) { case Nr: return "[object DataView]"; case Mr: return "[object Map]"; case Dr: return "[object Promise]"; case Rr: return "[object Set]"; case qr: return "[object WeakMap]" }return e }); var ti, ei, ni = Fn ? Qe : An, ri = we(Wr), ii = fr || function (t, e) { return wa.setTimeout(t, e) }, oi = we(Kr), si = (ei = (ti = ze(ti = function (t) { var i = []; return Ys.test(t) && i.push(""), t.replace(zs, function (t, e, n, r) { i.push(n ? r.replace(ta, "$1") : e || t) }), i }, function (t) { return 500 === ei.size && ei.clear(), t })).cache, ti), ai = it(function (t, e) { return Ve(t) ? _(t, O(e, 1, Ve, !0)) : [] }), li = it(function (t, e) { var n = Ce(e); return Ve(n) && (n = Ss), Ve(t) ? _(t, O(e, 1, Ve, !0), se(n, 2)) : [] }), ui = it(function (t, e) { var n = Ce(e); return Ve(n) && (n = Ss), Ve(t) ? _(t, O(e, 1, Ve, !0), Ss, n) : [] }), ci = it(function (t) { var e = ts(t, bt); return e.length && e[0] === t[0] ? I(e) : [] }), fi = it(function (t) { var e = Ce(t), n = ts(t, bt); return e === Ce(n) ? e = Ss : n.pop(), n.length && n[0] === t[0] ? I(n, se(e, 2)) : [] }), hi = it(function (t) { var e = Ce(t), n = ts(t, bt); return (e = "function" == typeof e ? e : Ss) && n.pop(), n.length && n[0] === t[0] ? I(n, Ss, e) : [] }), di = it(Pe), pi = ee(function (t, e) { var n = null == t ? 0 : t.length, r = f(t, e); return et(t, ts(e, function (t) { return de(t, n) ? +t : t }).sort(jt)), r }), gi = it(function (t) { return dt(O(t, 1, Ve, !0)) }), mi = it(function (t) { var e = Ce(t); return Ve(e) && (e = Ss), dt(O(t, 1, Ve, !0), se(e, 2)) }), yi = it(function (t) { var e = "function" == typeof (e = Ce(t)) ? e : Ss; return dt(O(t, 1, Ve, !0), Ss, e) }), vi = it(function (t, e) { return Ve(t) ? _(t, e) : [] }), bi = it(function (t) { return yt(Go(t, Ve)) }), _i = it(function (t) { var e = Ce(t); return Ve(e) && (e = Ss), yt(Go(t, Ve), se(e, 2)) }), wi = it(function (t) { var e = "function" == typeof (e = Ce(t)) ? e : Ss; return yt(Go(t, Ve), Ss, e) }), xi = it(Me), Ei = it(function (t) { var e; return De(t, e = "function" == typeof (e = 1 < (e = t.length) ? t[e - 1] : Ss) ? (t.pop(), e) : Ss) }), Ti = ee(function (e) { function t(t) { return f(t, e) } var n = e.length, r = n ? e[0] : 0, i = this.__wrapped__; return !(1 < n || this.__actions__.length) && i instanceof g && de(r) ? ((i = i.slice(r, +r + (n ? 1 : 0))).__actions__.push({ func: qe, args: [t], thisArg: Ss }), new p(i, this.__chain__).thru(function (t) { return n && !t.length && t.push(Ss), t })) : this.thru(t) }), ki = Ct(function (t, e, n) { zn.call(t, n) ? ++t[n] : c(t, n, 1) }), ji = It(Se), Si = It(Oe), Oi = Ct(function (t, e, n) { zn.call(t, n) ? t[n].push(e) : c(t, n, [e]) }), Ai = it(function (t, e, n) { var r = -1, i = "function" == typeof e, o = Ke(t) ? Cn(t.length) : []; return Fr(t, function (t) { o[++r] = i ? Ko(e, t, n) : B(t, e, n) }), o }), Li = Ct(function (t, e, n) { c(t, n, e) }), Ci = Ct(function (t, e, n) { t[n ? 0 : 1].push(e) }, function () { return [[], []] }), Pi = it(function (t, e) { if (null == t) return []; var n = e.length; return 1 < n && pe(t, e[0], e[1]) ? e = [] : 2 < n && pe(e[0], e[1], e[2]) && (e = [e[0]]), J(t, O(e, 1), []) }), Ni = cr || function () { return wa.Date.now() }, Mi = it(function (t, e, n) { var r = 1; if (n.length) { var i = Es(n, oe(Mi)); r = 32 | r } return Qt(t, r, e, n, i) }), Di = it(function (t, e, n) { var r = 3; if (n.length) { var i = Es(n, oe(Di)); r = 32 | r } return Qt(e, r, t, n, i) }), Ri = it(function (t, e) { return b(t, 1, e) }), qi = it(function (t, e, n) { return b(t, cn(e) || 0, n) }); ze.Cache = s; var Ii, Bi = it(function (r, i) { var o = (i = 1 == i.length && Wi(i[0]) ? ts(i[0], gs(se())) : ts(O(i, 1), gs(se()))).length; return it(function (t) { for (var e = -1, n = _r(t.length, o); ++e < n;)t[e] = i[e].call(this, t[e]); return Ko(r, this, t) }) }), Hi = it(function (t, e) { return Qt(t, 32, Ss, e, Es(e, oe(Hi))) }), Ui = it(function (t, e) { return Qt(t, 64, Ss, e, Es(e, oe(Ui))) }), Fi = ee(function (t, e) { return Qt(t, 256, Ss, Ss, Ss, e) }), Yi = Wt(D), zi = Wt(function (t, e) { return e <= t }), $i = H(function () { return arguments }()) ? H : function (t) { return tn(t) && zn.call(t, "callee") && !rr.call(t, "callee") }, Wi = Cn.isArray, Ki = Ea ? gs(Ea) : function (t) { return tn(t) && "[object ArrayBuffer]" == M(t) }, Vi = gr || An, Xi = Ta ? gs(Ta) : function (t) { return tn(t) && "[object Date]" == M(t) }, Qi = ka ? gs(ka) : function (t) { return tn(t) && "[object Map]" == Zr(t) }, Gi = ja ? gs(ja) : function (t) { return tn(t) && "[object RegExp]" == M(t) }, Ji = Sa ? gs(Sa) : function (t) { return tn(t) && "[object Set]" == Zr(t) }, Zi = Oa ? gs(Oa) : function (t) { return tn(t) && Je(t.length) && !!ya[M(t)] }, to = Wt(W), eo = Wt(function (t, e) { return t <= e }), no = Pt(function (t, e) { if (ye(e) || Ke(e)) Lt(e, gn(e), t); else for (var n in e) zn.call(e, n) && E(t, n, e[n]) }), ro = Pt(function (t, e) { Lt(e, mn(e), t) }), io = Pt(function (t, e, n, r) { Lt(e, mn(e), t, r) }), oo = Pt(function (t, e, n, r) { Lt(e, gn(e), t, r) }), so = ee(f), ao = it(function (t) { return t.push(Ss, Gt), Ko(io, Ss, t) }), lo = it(function (t) { return t.push(Ss, Jt), Ko(po, Ss, t) }), uo = Ut(function (t, e, n) { t[e] = n }, xn(En)), co = Ut(function (t, e, n) { zn.call(t, e) ? t[e].push(n) : t[e] = [n] }, se), fo = it(B), ho = Pt(function (t, e, n) { Q(t, e, n) }), po = Pt(function (t, e, n, r) { Q(t, e, n, r) }), go = ee(function (e, t) { var n = {}; if (null == e) return n; var r = !1; t = ts(t, function (t) { return t = wt(t, e), r || (r = 1 < t.length), t }), Lt(e, re(e), n), r && (n = k(n, 7, Zt)); for (var i = t.length; i--;)pt(n, t[i]); return n }), mo = ee(function (t, e) { return null == t ? {} : Z(n = t, e, function (t, e) { return pn(n, e) }); var n }), yo = Xt(gn), vo = Xt(mn), bo = Rt(function (t, e, n) { return e = e.toLowerCase(), t + (n ? bn(e) : e) }), _o = Rt(function (t, e, n) { return t + (n ? "-" : "") + e.toLowerCase() }), wo = Rt(function (t, e, n) { return t + (n ? " " : "") + e.toLowerCase() }), xo = Dt("toLowerCase"), Eo = Rt(function (t, e, n) { return t + (n ? "_" : "") + e.toLowerCase() }), To = Rt(function (t, e, n) { return t + (n ? " " : "") + jo(e) }), ko = Rt(function (t, e, n) { return t + (n ? " " : "") + e.toUpperCase() }), jo = Dt("toUpperCase"), So = it(function (t, e) { try { return Ko(t, Ss, e) } catch (t) { return Xe(t) ? t : new Nn(t) } }), Oo = ee(function (e, t) { return Xo(t, function (t) { t = Ee(t), c(e, t, Mi(e[t], e)) }), e }), Ao = Bt(), Lo = Bt(!0), Co = it(function (e, n) { return function (t) { return B(t, e, n) } }), Po = it(function (e, n) { return function (t) { return B(e, t, n) } }), No = Yt(ts), Mo = Yt(Qo), Do = Yt(is), Ro = $t(), qo = $t(!0), Io = Ft(function (t, e) { return t + e }, 0), Bo = Vt("ceil"), Ho = Ft(function (t, e) { return t / e }, 1), Uo = Vt("floor"), Fo = Ft(function (t, e) { return t * e }, 1), Yo = Vt("round"), zo = Ft(function (t, e) { return t - e }, 0); return d.after = function (t, e) { if ("function" != typeof e) throw new Bn("Expected a function"); return t = ln(t), function () { if (--t < 1) return e.apply(this, arguments) } }, d.ary = Ue, d.assign = no, d.assignIn = ro, d.assignInWith = io, d.assignWith = oo, d.at = so, d.before = Fe, d.bind = Mi, d.bindAll = Oo, d.bindKey = Di, d.castArray = function () { if (!arguments.length) return []; var t = arguments[0]; return Wi(t) ? t : [t] }, d.chain = Re, d.chunk = function (t, e, n) { if (e = (n ? pe(t, e, n) : e === Ss) ? 1 : br(ln(e), 0), !(n = null == t ? 0 : t.length) || e < 1) return []; for (var r = 0, i = 0, o = Cn(hr(n / e)); r < n;)o[i++] = st(t, r, r += e); return o }, d.compact = function (t) { for (var e = -1, n = null == t ? 0 : t.length, r = 0, i = []; ++e < n;) { var o = t[e]; o && (i[r++] = o) } return i }, d.concat = function () { var t = arguments.length; if (!t) return []; for (var e = Cn(t - 1), n = arguments[0]; t--;)e[t - 1] = arguments[t]; return es(Wi(n) ? At(n) : [n], O(e, 1)) }, d.cond = function (r) { var i = null == r ? 0 : r.length, e = se(); return r = i ? ts(r, function (t) { if ("function" != typeof t[1]) throw new Bn("Expected a function"); return [e(t[0]), t[1]] }) : [], it(function (t) { for (var e = -1; ++e < i;) { var n = r[e]; if (Ko(n[0], this, t)) return Ko(n[1], this, t) } }) }, d.conforms = function (t) { return e = k(t, 1), n = gn(e), function (t) { return v(t, e, n) }; var e, n }, d.constant = xn, d.countBy = ki, d.create = function (t, e) { var n = Ur(t); return null == e ? n : T(n, e) }, d.curry = function t(e, n, r) { return (e = Qt(e, 8, Ss, Ss, Ss, Ss, Ss, n = r ? Ss : n)).placeholder = t.placeholder, e }, d.curryRight = function t(e, n, r) { return (e = Qt(e, 16, Ss, Ss, Ss, Ss, Ss, n = r ? Ss : n)).placeholder = t.placeholder, e }, d.debounce = Ye, d.defaults = ao, d.defaultsDeep = lo, d.defer = Ri, d.delay = qi, d.difference = ai, d.differenceBy = li, d.differenceWith = ui, d.drop = function (t, e, n) { var r = null == t ? 0 : t.length; return r ? st(t, (e = n || e === Ss ? 1 : ln(e)) < 0 ? 0 : e, r) : [] }, d.dropRight = function (t, e, n) { var r = null == t ? 0 : t.length; return r ? st(t, 0, (e = r - (e = n || e === Ss ? 1 : ln(e))) < 0 ? 0 : e) : [] }, d.dropRightWhile = function (t, e) { return t && t.length ? gt(t, se(e, 3), !0, !0) : [] }, d.dropWhile = function (t, e) { return t && t.length ? gt(t, se(e, 3), !0) : [] }, d.fill = function (t, e, n, r) { var i = null == t ? 0 : t.length; if (!i) return []; for (n && "number" != typeof n && pe(t, e, n) && (n = 0, r = i), i = t.length, (n = ln(n)) < 0 && (n = i < -n ? 0 : i + n), (r = r === Ss || i < r ? i : ln(r)) < 0 && (r += i), r = r < n ? 0 : un(r); n < r;)t[n++] = e; return t }, d.filter = function (t, e) { return (Wi(t) ? Go : S)(t, se(e, 3)) }, d.flatMap = function (t, e) { return O(He(t, e), 1) }, d.flatMapDeep = function (t, e) { return O(He(t, e), Os) }, d.flatMapDepth = function (t, e, n) { return n = n === Ss ? 1 : ln(n), O(He(t, e), n) }, d.flatten = Ae, d.flattenDeep = function (t) { return null != t && t.length ? O(t, Os) : [] }, d.flattenDepth = function (t, e) { return null != t && t.length ? O(t, e = e === Ss ? 1 : ln(e)) : [] }, d.flip = function (t) { return Qt(t, 512) }, d.flow = Ao, d.flowRight = Lo, d.fromPairs = function (t) { for (var e = -1, n = null == t ? 0 : t.length, r = {}; ++e < n;) { var i = t[e]; r[i[0]] = i[1] } return r }, d.functions = function (t) { return null == t ? [] : C(t, gn(t)) }, d.functionsIn = function (t) { return null == t ? [] : C(t, mn(t)) }, d.groupBy = Oi, d.initial = function (t) { return null != t && t.length ? st(t, 0, -1) : [] }, d.intersection = ci, d.intersectionBy = fi, d.intersectionWith = hi, d.invert = uo, d.invertBy = co, d.invokeMap = Ai, d.iteratee = Tn, d.keyBy = Li, d.keys = gn, d.keysIn = mn, d.map = He, d.mapKeys = function (t, r) { var i = {}; return r = se(r, 3), A(t, function (t, e, n) { c(i, r(t, e, n), t) }), i }, d.mapValues = function (t, r) { var i = {}; return r = se(r, 3), A(t, function (t, e, n) { c(i, e, r(t, e, n)) }), i }, d.matches = function (t) { return V(k(t, 1)) }, d.matchesProperty = function (t, e) { return X(t, k(e, 1)) }, d.memoize = ze, d.merge = ho, d.mergeWith = po, d.method = Co, d.methodOf = Po, d.mixin = kn, d.negate = $e, d.nthArg = function (e) { return e = ln(e), it(function (t) { return G(t, e) }) }, d.omit = go, d.omitBy = function (t, e) { return yn(t, $e(se(e))) }, d.once = function (t) { return Fe(2, t) }, d.orderBy = function (t, e, n, r) { return null == t ? [] : (Wi(e) || (e = null == e ? [] : [e]), Wi(n = r ? Ss : n) || (n = null == n ? [] : [n]), J(t, e, n)) }, d.over = No, d.overArgs = Bi, d.overEvery = Mo, d.overSome = Do, d.partial = Hi, d.partialRight = Ui, d.partition = Ci, d.pick = mo, d.pickBy = yn, d.property = Sn, d.propertyOf = function (e) { return function (t) { return null == e ? Ss : P(e, t) } }, d.pull = di, d.pullAll = Pe, d.pullAllBy = function (t, e, n) { return t && t.length && e && e.length ? tt(t, e, se(n, 2)) : t }, d.pullAllWith = function (t, e, n) { return t && t.length && e && e.length ? tt(t, e, Ss, n) : t }, d.pullAt = pi, d.range = Ro, d.rangeRight = qo, d.rearg = Fi, d.reject = function (t, e) { return (Wi(t) ? Go : S)(t, $e(se(e, 3))) }, d.remove = function (t, e) { var n = []; if (!t || !t.length) return n; var r = -1, i = [], o = t.length; for (e = se(e, 3); ++r < o;) { var s = t[r]; e(s, r, t) && (n.push(s), i.push(r)) } return et(t, i), n }, d.rest = function (t, e) { if ("function" != typeof t) throw new Bn("Expected a function"); return it(t, e = e === Ss ? e : ln(e)) }, d.reverse = Ne, d.sampleSize = function (t, e, n) { return e = (n ? pe(t, e, n) : e === Ss) ? 1 : ln(e), (Wi(t) ? function (t, e) { return xe(At(t), h(e, 0, t.length)) } : function (t, e) { var n = vn(t); return xe(n, h(e, 0, n.length)) })(t, e) }, d.set = function (t, e, n) { return null == t ? t : ot(t, e, n) }, d.setWith = function (t, e, n, r) { return r = "function" == typeof r ? r : Ss, null == t ? t : ot(t, e, n, r) }, d.shuffle = function (t) { return (Wi(t) ? function (t) { return xe(At(t)) } : function (t) { return xe(vn(t)) })(t) }, d.slice = function (t, e, n) { var r = null == t ? 0 : t.length; return r ? (n && "number" != typeof n && pe(t, e, n) ? (e = 0, n = r) : (e = null == e ? 0 : ln(e), n = n === Ss ? r : ln(n)), st(t, e, n)) : [] }, d.sortBy = Pi, d.sortedUniq = function (t) { return t && t.length ? ct(t) : [] }, d.sortedUniqBy = function (t, e) { return t && t.length ? ct(t, se(e, 2)) : [] }, d.split = function (t, e, n) { return n && "number" != typeof n && pe(t, e, n) && (e = n = Ss), (n = n === Ss ? 4294967295 : n >>> 0) ? (t = hn(t)) && ("string" == typeof e || null != e && !Gi(e)) && (!(e = ht(e)) && pa.test(t)) ? xt(js(t), 0, n) : t.split(e, n) : [] }, d.spread = function (n, r) { if ("function" != typeof n) throw new Bn("Expected a function"); return r = null == r ? 0 : br(ln(r), 0), it(function (t) { var e = t[r]; return t = xt(t, 0, r), e && es(t, e), Ko(n, this, t) }) }, d.tail = function (t) { var e = null == t ? 0 : t.length; return e ? st(t, 1, e) : [] }, d.take = function (t, e, n) { return t && t.length ? st(t, 0, (e = n || e === Ss ? 1 : ln(e)) < 0 ? 0 : e) : [] }, d.takeRight = function (t, e, n) { var r = null == t ? 0 : t.length; return r ? st(t, (e = r - (e = n || e === Ss ? 1 : ln(e))) < 0 ? 0 : e, r) : [] }, d.takeRightWhile = function (t, e) { return t && t.length ? gt(t, se(e, 3), !1, !0) : [] }, d.takeWhile = function (t, e) { return t && t.length ? gt(t, se(e, 3)) : [] }, d.tap = function (t, e) { return e(t), t }, d.throttle = function (t, e, n) { var r = !0, i = !0; if ("function" != typeof t) throw new Bn("Expected a function"); return Ze(n) && (r = "leading" in n ? !!n.leading : r, i = "trailing" in n ? !!n.trailing : i), Ye(t, e, { leading: r, maxWait: e, trailing: i }) }, d.thru = qe, d.toArray = sn, d.toPairs = yo, d.toPairsIn = vo, d.toPath = function (t) { return Wi(t) ? ts(t, Ee) : on(t) ? [t] : At(si(hn(t))) }, d.toPlainObject = fn, d.transform = function (t, r, i) { var e = Wi(t), n = e || Vi(t) || Zi(t); if (r = se(r, 4), null == i) { var o = t && t.constructor; i = n ? e ? new o : [] : Ze(t) && Qe(o) ? Ur(er(t)) : {} } return (n ? Xo : A)(t, function (t, e, n) { return r(i, t, e, n) }), i }, d.unary = function (t) { return Ue(t, 1) }, d.union = gi, d.unionBy = mi, d.unionWith = yi, d.uniq = function (t) { return t && t.length ? dt(t) : [] }, d.uniqBy = function (t, e) { return t && t.length ? dt(t, se(e, 2)) : [] }, d.uniqWith = function (t, e) { return e = "function" == typeof e ? e : Ss, t && t.length ? dt(t, Ss, e) : [] }, d.unset = function (t, e) { return null == t || pt(t, e) }, d.unzip = Me, d.unzipWith = De, d.update = function (t, e, n) { return null == t ? t : ot(t, e, _t(n)(P(t, e)), void 0) }, d.updateWith = function (t, e, n, r) { return r = "function" == typeof r ? r : Ss, null != t && (t = ot(t, e, _t(n)(P(t, e)), r)), t }, d.values = vn, d.valuesIn = function (t) { return null == t ? [] : ms(t, mn(t)) }, d.without = vi, d.words = wn, d.wrap = function (t, e) { return Hi(_t(e), t) }, d.xor = bi, d.xorBy = _i, d.xorWith = wi, d.zip = xi, d.zipObject = function (t, e) { return vt(t || [], e || [], E) }, d.zipObjectDeep = function (t, e) { return vt(t || [], e || [], ot) }, d.zipWith = Ei, d.entries = yo, d.entriesIn = vo, d.extend = ro, d.extendWith = io, kn(d, d), d.add = Io, d.attempt = So, d.camelCase = bo, d.capitalize = bn, d.ceil = Bo, d.clamp = function (t, e, n) { return n === Ss && (n = e, e = Ss), n !== Ss && (n = (n = cn(n)) == n ? n : 0), e !== Ss && (e = (e = cn(e)) == e ? e : 0), h(cn(t), e, n) }, d.clone = function (t) { return k(t, 4) }, d.cloneDeep = function (t) { return k(t, 5) }, d.cloneDeepWith = function (t, e) { return k(t, 5, e = "function" == typeof e ? e : Ss) }, d.cloneWith = function (t, e) { return k(t, 4, e = "function" == typeof e ? e : Ss) }, d.conformsTo = function (t, e) { return null == e || v(t, e, gn(e)) }, d.deburr = _n, d.defaultTo = function (t, e) { return null == t || t != t ? e : t }, d.divide = Ho, d.endsWith = function (t, e, n) { t = hn(t), e = ht(e); var r = t.length; r = n = n === Ss ? r : h(ln(n), 0, r); return 0 <= (n -= e.length) && t.slice(n, r) == e }, d.eq = We, d.escape = function (t) { return (t = hn(t)) && qs.test(t) ? t.replace(Ds, La) : t }, d.escapeRegExp = function (t) { return (t = hn(t)) && Ws.test(t) ? t.replace($s, "\\$&") : t }, d.every = function (t, e, n) { var r = Wi(t) ? Qo : w; return n && pe(t, e, n) && (e = Ss), r(t, se(e, 3)) }, d.find = ji, d.findIndex = Se, d.findKey = function (t, e) { return os(t, se(e, 3), A) }, d.findLast = Si, d.findLastIndex = Oe, d.findLastKey = function (t, e) { return os(t, se(e, 3), L) }, d.floor = Uo, d.forEach = Ie, d.forEachRight = Be, d.forIn = function (t, e) { return null == t ? t : zr(t, se(e, 3), mn) }, d.forInRight = function (t, e) { return null == t ? t : $r(t, se(e, 3), mn) }, d.forOwn = function (t, e) { return t && A(t, se(e, 3)) }, d.forOwnRight = function (t, e) { return t && L(t, se(e, 3)) }, d.get = dn, d.gt = Yi, d.gte = zi, d.has = function (t, e) { return null != t && ce(t, e, R) }, d.hasIn = pn, d.head = Le, d.identity = En, d.includes = function (t, e, n, r) { return t = Ke(t) ? t : vn(t), n = n && !r ? ln(n) : 0, r = t.length, n < 0 && (n = br(r + n, 0)), rn(t) ? n <= r && -1 < t.indexOf(e, n) : !!r && -1 < as(t, e, n) }, d.indexOf = function (t, e, n) { var r = null == t ? 0 : t.length; return r ? ((n = null == n ? 0 : ln(n)) < 0 && (n = br(r + n, 0)), as(t, e, n)) : -1 }, d.inRange = function (t, e, n) { return e = an(e), n === Ss ? (n = e, e = 0) : n = an(n), (t = cn(t)) >= _r(e, n) && t < br(e, n) }, d.invoke = fo, d.isArguments = $i, d.isArray = Wi, d.isArrayBuffer = Ki, d.isArrayLike = Ke, d.isArrayLikeObject = Ve, d.isBoolean = function (t) { return !0 === t || !1 === t || tn(t) && "[object Boolean]" == M(t) }, d.isBuffer = Vi, d.isDate = Xi, d.isElement = function (t) { return tn(t) && 1 === t.nodeType && !nn(t) }, d.isEmpty = function (t) { if (null == t) return !0; if (Ke(t) && (Wi(t) || "string" == typeof t || "function" == typeof t.splice || Vi(t) || Zi(t) || $i(t))) return !t.length; var e = Zr(t); if ("[object Map]" == e || "[object Set]" == e) return !t.size; if (ye(t)) return !$(t).length; for (var n in t) if (zn.call(t, n)) return !1; return !0 }, d.isEqual = function (t, e) { return U(t, e) }, d.isEqualWith = function (t, e, n) { var r = (n = "function" == typeof n ? n : Ss) ? n(t, e) : Ss; return r === Ss ? U(t, e, Ss, n) : !!r }, d.isError = Xe, d.isFinite = function (t) { return "number" == typeof t && mr(t) }, d.isFunction = Qe, d.isInteger = Ge, d.isLength = Je, d.isMap = Qi, d.isMatch = function (t, e) { return t === e || F(t, e, le(e)) }, d.isMatchWith = function (t, e, n) { return n = "function" == typeof n ? n : Ss, F(t, e, le(e), n) }, d.isNaN = function (t) { return en(t) && t != +t }, d.isNative = function (t) { if (ni(t)) throw new Nn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill."); return Y(t) }, d.isNil = function (t) { return null == t }, d.isNull = function (t) { return null === t }, d.isNumber = en, d.isObject = Ze, d.isObjectLike = tn, d.isPlainObject = nn, d.isRegExp = Gi, d.isSafeInteger = function (t) { return Ge(t) && -9007199254740991 <= t && t <= 9007199254740991 }, d.isSet = Ji, d.isString = rn, d.isSymbol = on, d.isTypedArray = Zi, d.isUndefined = function (t) { return t === Ss }, d.isWeakMap = function (t) { return tn(t) && "[object WeakMap]" == Zr(t) }, d.isWeakSet = function (t) { return tn(t) && "[object WeakSet]" == M(t) }, d.join = function (t, e) { return null == t ? "" : yr.call(t, e) }, d.kebabCase = _o, d.last = Ce, d.lastIndexOf = function (t, e, n) { var r = null == t ? 0 : t.length; if (!r) return -1; var i = r; if (n !== Ss && (i = (i = ln(n)) < 0 ? br(r + i, 0) : _r(i, r - 1)), e == e) { for (n = i + 1; n-- && t[n] !== e;); t = n } else t = ss(t, us, i, !0); return t }, d.lowerCase = wo, d.lowerFirst = xo, d.lt = to, d.lte = eo, d.max = function (t) { return t && t.length ? j(t, En, D) : Ss }, d.maxBy = function (t, e) { return t && t.length ? j(t, se(e, 2), D) : Ss }, d.mean = function (t) { return cs(t, En) }, d.meanBy = function (t, e) { return cs(t, se(e, 2)) }, d.min = function (t) { return t && t.length ? j(t, En, W) : Ss }, d.minBy = function (t, e) { return t && t.length ? j(t, se(e, 2), W) : Ss }, d.stubArray = On, d.stubFalse = An, d.stubObject = function () { return {} }, d.stubString = function () { return "" }, d.stubTrue = function () { return !0 }, d.multiply = Fo, d.nth = function (t, e) { return t && t.length ? G(t, ln(e)) : Ss }, d.noConflict = function () { return wa._ === this && (wa._ = Xn), this }, d.noop = jn, d.now = Ni, d.pad = function (t, e, n) { t = hn(t); var r = (e = ln(e)) ? ks(t) : 0; return !e || e <= r ? t : zt(dr(e = (e - r) / 2), n) + t + zt(hr(e), n) }, d.padEnd = function (t, e, n) { t = hn(t); var r = (e = ln(e)) ? ks(t) : 0; return e && r < e ? t + zt(e - r, n) : t }, d.padStart = function (t, e, n) { t = hn(t); var r = (e = ln(e)) ? ks(t) : 0; return e && r < e ? zt(e - r, n) + t : t }, d.parseInt = function (t, e, n) { return n || null == e ? e = 0 : e && (e = +e), xr(hn(t).replace(Vs, ""), e || 0) }, d.random = function (t, e, n) { if (n && "boolean" != typeof n && pe(t, e, n) && (e = n = Ss), n === Ss && ("boolean" == typeof e ? (n = e, e = Ss) : "boolean" == typeof t && (n = t, t = Ss)), t === Ss && e === Ss ? (t = 0, e = 1) : (t = an(t), e === Ss ? (e = t, t = 0) : e = an(e)), e < t) { var r = t; t = e, e = r } return n || t % 1 || e % 1 ? (n = Er(), _r(t + n * (e - t + ba("1e-" + ((n + "").length - 1))), e)) : nt(t, e) }, d.reduce = function (t, e, n) { var r = Wi(t) ? ns : hs, i = arguments.length < 3; return r(t, se(e, 4), n, i, Fr) }, d.reduceRight = function (t, e, n) { var r = Wi(t) ? rs : hs, i = arguments.length < 3; return r(t, se(e, 4), n, i, Yr) }, d.repeat = function (t, e, n) { return e = (n ? pe(t, e, n) : e === Ss) ? 1 : ln(e), rt(hn(t), e) }, d.replace = function () { var t = arguments, e = hn(t[0]); return t.length < 3 ? e : e.replace(t[1], t[2]) }, d.result = function (t, e, n) { var r = -1, i = (e = wt(e, t)).length; for (i || (i = 1, t = Ss); ++r < i;) { var o = null == t ? Ss : t[Ee(e[r])]; o === Ss && (r = i, o = n), t = Qe(o) ? o.call(t) : o } return t }, d.round = Yo, d.runInContext = t, d.sample = function (t) { return (Wi(t) ? r : function (t) { return r(vn(t)) })(t) }, d.size = function (t) { if (null == t) return 0; if (Ke(t)) return rn(t) ? ks(t) : t.length; var e = Zr(t); return "[object Map]" == e || "[object Set]" == e ? t.size : $(t).length }, d.snakeCase = Eo, d.some = function (t, e, n) { var r = Wi(t) ? is : at; return n && pe(t, e, n) && (e = Ss), r(t, se(e, 3)) }, d.sortedIndex = function (t, e) { return lt(t, e) }, d.sortedIndexBy = function (t, e, n) { return ut(t, e, se(n, 2)) }, d.sortedIndexOf = function (t, e) { var n = null == t ? 0 : t.length; if (n) { var r = lt(t, e); if (r < n && We(t[r], e)) return r } return -1 }, d.sortedLastIndex = function (t, e) { return lt(t, e, !0) }, d.sortedLastIndexBy = function (t, e, n) { return ut(t, e, se(n, 2), !0) }, d.sortedLastIndexOf = function (t, e) { if (null != t && t.length) { var n = lt(t, e, !0) - 1; if (We(t[n], e)) return n } return -1 }, d.startCase = To, d.startsWith = function (t, e, n) { return t = hn(t), n = null == n ? 0 : h(ln(n), 0, t.length), e = ht(e), t.slice(n, n + e.length) == e }, d.subtract = zo, d.sum = function (t) { return t && t.length ? ds(t, En) : 0 }, d.sumBy = function (t, e) { return t && t.length ? ds(t, se(e, 2)) : 0 }, d.template = function (s, t, e) { var n = d.templateSettings; e && pe(s, t, e) && (t = Ss), s = hn(s), t = io({}, t, n, Gt); var a, l, r = gn(e = io({}, t.imports, n.imports, Gt)), i = ms(e, r), u = 0; e = t.interpolate || ua; var c = "__p+='"; e = qn((t.escape || ua).source + "|" + e.source + "|" + (e === Hs ? ea : ua).source + "|" + (t.evaluate || ua).source + "|$", "g"); var o = "sourceURL" in t ? "//# sourceURL=" + t.sourceURL + "\n" : ""; if (s.replace(e, function (t, e, n, r, i, o) { return n || (n = r), c += s.slice(u, o).replace(ca, _s), e && (a = !0, c += "'+__e(" + e + ")+'"), i && (l = !0, c += "';" + i + ";\n__p+='"), n && (c += "'+((__t=(" + n + "))==null?'':__t)+'"), u = o + t.length, t }), c += "';", (t = t.variable) || (c = "with(obj){" + c + "}"), c = (l ? c.replace(Cs, "") : c).replace(Ps, "$1").replace(Ns, "$1;"), c = "function(" + (t || "obj") + "){" + (t ? "" : "obj||(obj={});") + "var __t,__p=''" + (a ? ",__e=_.escape" : "") + (l ? ",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}" : ";") + c + "return __p}", (t = So(function () { return Mn(r, o + "return " + c).apply(Ss, i) })).source = c, Xe(t)) throw t; return t }, d.times = function (t, e) { if ((t = ln(t)) < 1 || 9007199254740991 < t) return []; var n = 4294967295, r = _r(t, 4294967295); for (t -= 4294967295, r = ps(r, e = se(e)); ++n < t;)e(n); return r }, d.toFinite = an, d.toInteger = ln, d.toLength = un, d.toLower = function (t) { return hn(t).toLowerCase() }, d.toNumber = cn, d.toSafeInteger = function (t) { return t ? h(ln(t), -9007199254740991, 9007199254740991) : 0 === t ? t : 0 }, d.toString = hn, d.toUpper = function (t) { return hn(t).toUpperCase() }, d.trim = function (t, e, n) { return (t = hn(t)) && (n || e === Ss) ? t.replace(Ks, "") : t && (e = ht(e)) ? xt(t = js(t), e = vs(t, n = js(e)), n = bs(t, n) + 1).join("") : t }, d.trimEnd = function (t, e, n) { return (t = hn(t)) && (n || e === Ss) ? t.replace(Xs, "") : t && (e = ht(e)) ? xt(t = js(t), 0, e = bs(t, js(e)) + 1).join("") : t }, d.trimStart = function (t, e, n) { return (t = hn(t)) && (n || e === Ss) ? t.replace(Vs, "") : t && (e = ht(e)) ? xt(t = js(t), e = vs(t, js(e))).join("") : t }, d.truncate = function (t, e) { var n = 30, r = "..."; if (Ze(e)) { var i = "separator" in e ? e.separator : i; n = "length" in e ? ln(e.length) : n, r = "omission" in e ? ht(e.omission) : r } var o = (t = hn(t)).length; if (pa.test(t)) { var s = js(t); o = s.length } if (o <= n) return t; if ((o = n - ks(r)) < 1) return r; if (n = s ? xt(s, 0, o).join("") : t.slice(0, o), i === Ss) return n + r; if (s && (o += n.length - o), Gi(i)) { if (t.slice(o).search(i)) { var a = n; for (i.global || (i = qn(i.source, hn(na.exec(i)) + "g")), i.lastIndex = 0; s = i.exec(a);)var l = s.index; n = n.slice(0, l === Ss ? o : l) } } else t.indexOf(ht(i), o) != o && (-1 < (i = n.lastIndexOf(i)) && (n = n.slice(0, i))); return n + r }, d.unescape = function (t) { return (t = hn(t)) && Rs.test(t) ? t.replace(Ms, Ca) : t }, d.uniqueId = function (t) { var e = ++$n; return hn(t) + e }, d.upperCase = ko, d.upperFirst = jo, d.each = Ie, d.eachRight = Be, d.first = Le, kn(d, (Ii = {}, A(d, function (t, e) { zn.call(d.prototype, e) || (Ii[e] = t) }), Ii), { chain: !1 }), d.VERSION = "4.17.4", Xo("bind bindKey curry curryRight partial partialRight".split(" "), function (t) { d[t].placeholder = d }), Xo(["drop", "take"], function (n, r) { g.prototype[n] = function (t) { t = t === Ss ? 1 : br(ln(t), 0); var e = this.__filtered__ && !r ? new g(this) : this.clone(); return e.__filtered__ ? e.__takeCount__ = _r(t, e.__takeCount__) : e.__views__.push({ size: _r(t, 4294967295), type: n + (e.__dir__ < 0 ? "Right" : "") }), e }, g.prototype[n + "Right"] = function (t) { return this.reverse()[n](t).reverse() } }), Xo(["filter", "map", "takeWhile"], function (t, e) { var n = e + 1, r = 1 == n || 3 == n; g.prototype[t] = function (t) { var e = this.clone(); return e.__iteratees__.push({ iteratee: se(t, 3), type: n }), e.__filtered__ = e.__filtered__ || r, e } }), Xo(["head", "last"], function (t, e) { var n = "take" + (e ? "Right" : ""); g.prototype[t] = function () { return this[n](1).value()[0] } }), Xo(["initial", "tail"], function (t, e) { var n = "drop" + (e ? "" : "Right"); g.prototype[t] = function () { return this.__filtered__ ? new g(this) : this[n](1) } }), g.prototype.compact = function () { return this.filter(En) }, g.prototype.find = function (t) { return this.filter(t).head() }, g.prototype.findLast = function (t) { return this.reverse().find(t) }, g.prototype.invokeMap = it(function (e, n) { return "function" == typeof e ? new g(this) : this.map(function (t) { return B(t, e, n) }) }), g.prototype.reject = function (t) { return this.filter($e(se(t))) }, g.prototype.slice = function (t, e) { t = ln(t); var n = this; return n.__filtered__ && (0 < t || e < 0) ? new g(n) : (t < 0 ? n = n.takeRight(-t) : t && (n = n.drop(t)), e !== Ss && (n = (e = ln(e)) < 0 ? n.dropRight(-e) : n.take(e - t)), n) }, g.prototype.takeRightWhile = function (t) { return this.reverse().takeWhile(t).reverse() }, g.prototype.toArray = function () { return this.take(4294967295) }, A(g.prototype, function (l, t) { var u = /^(?:filter|find|map|reject)|While$/.test(t), c = /^(?:head|last)$/.test(t), f = d[c ? "take" + ("last" == t ? "Right" : "") : t], h = c || /^find/.test(t); f && (d.prototype[t] = function () { function t(t) { return t = f.apply(d, es([t], n)), c && s ? t[0] : t } var e = this.__wrapped__, n = c ? [1] : arguments, r = e instanceof g, i = n[0], o = r || Wi(e); o && u && "function" == typeof i && 1 != i.length && (r = o = !1); var s = this.__chain__, a = !!this.__actions__.length; i = h && !s, r = r && !a; return !h && o ? (e = r ? e : new g(this), (e = l.apply(e, n)).__actions__.push({ func: qe, args: [t], thisArg: Ss }), new p(e, s)) : i && r ? l.apply(this, n) : (e = this.thru(t), i ? c ? e.value()[0] : e.value() : e) }) }), Xo("pop push shift sort splice unshift".split(" "), function (t) { var n = Hn[t], r = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru", i = /^(?:pop|shift)$/.test(t); d.prototype[t] = function () { var e = arguments; if (i && !this.__chain__) { var t = this.value(); return n.apply(Wi(t) ? t : [], e) } return this[r](function (t) { return n.apply(Wi(t) ? t : [], e) }) } }), A(g.prototype, function (t, e) { var n = d[e]; if (n) { var r = n.name + ""; (Pr[r] || (Pr[r] = [])).push({ name: e, func: n }) } }), Pr[Ht(Ss, 2).name] = [{ name: "wrapper", func: Ss }], g.prototype.clone = function () { var t = new g(this.__wrapped__); return t.__actions__ = At(this.__actions__), t.__dir__ = this.__dir__, t.__filtered__ = this.__filtered__, t.__iteratees__ = At(this.__iteratees__), t.__takeCount__ = this.__takeCount__, t.__views__ = At(this.__views__), t }, g.prototype.reverse = function () { if (this.__filtered__) { var t = new g(this); t.__dir__ = -1, t.__filtered__ = !0 } else (t = this.clone()).__dir__ *= -1; return t }, g.prototype.value = function () { var t, e = this.__wrapped__.value(), n = this.__dir__, r = Wi(e), i = n < 0, o = r ? e.length : 0; t = o; for (var s = this.__views__, a = 0, l = -1, u = s.length; ++l < u;) { var c = s[l], f = c.size; switch (c.type) { case "drop": a += f; break; case "dropRight": t -= f; break; case "take": t = _r(t, a + f); break; case "takeRight": a = br(a, t - f) } } if (s = (t = { start: a, end: t }).start, t = (a = t.end) - s, s = i ? a : s - 1, l = (a = this.__iteratees__).length, u = 0, c = _r(t, this.__takeCount__), !r || !i && o == t && c == t) return mt(e, this.__actions__); r = []; t: for (; t-- && u < c;) { for (i = -1, o = e[s += n]; ++i < l;) { f = (h = a[i]).type; var h = (0, h.iteratee)(o); if (2 == f) o = h; else if (!h) { if (1 == f) continue t; break t } } r[u++] = o } return r }, d.prototype.at = Ti, d.prototype.chain = function () { return Re(this) }, d.prototype.commit = function () { return new p(this.value(), this.__chain__) }, d.prototype.next = function () { this.__values__ === Ss && (this.__values__ = sn(this.value())); var t = this.__index__ >= this.__values__.length; return { done: t, value: t ? Ss : this.__values__[this.__index__++] } }, d.prototype.plant = function (t) { for (var e, n = this; n instanceof o;) { var r = je(n); r.__index__ = 0, r.__values__ = Ss, e ? i.__wrapped__ = r : e = r; var i = r; n = n.__wrapped__ } return i.__wrapped__ = t, e }, d.prototype.reverse = function () { var t = this.__wrapped__; return t instanceof g ? (this.__actions__.length && (t = new g(this)), (t = t.reverse()).__actions__.push({ func: qe, args: [Ne], thisArg: Ss }), new p(t, this.__chain__)) : this.thru(Ne) }, d.prototype.toJSON = d.prototype.valueOf = d.prototype.value = function () { return mt(this.__wrapped__, this.__actions__) }, d.prototype.first = d.prototype.head, sr && (d.prototype[sr] = function () { return this }), d }(); "function" == typeof define && "object" == typeof define.amd && define.amd ? (wa._ = Pa, define(function () { return Pa })) : u ? ((u.exports = Pa)._ = Pa, l._ = Pa) : wa._ = Pa }).call(this), function (p, E) { var e, n, y = typeof E, t = p.location, g = p.document, r = g.documentElement, i = p.jQuery, o = p.$, s = {}, f = [], a = "1.10.2", m = f.concat, l = f.push, c = f.slice, u = f.indexOf, h = s.toString, v = s.hasOwnProperty, d = a.trim, _t = function (t, e) { return new _t.fn.init(t, e, n) }, b = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, T = /\S+/g, _ = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, w = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, x = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, k = /^[\],:{}\s]*$/, j = /(?:^|:|,)(?:\s*\[)+/g, S = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g, O = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g, A = /^-ms-/, L = /-([\da-z])/gi, C = function (t, e) { return e.toUpperCase() }, P = function (t) { (g.addEventListener || "load" === t.type || "complete" === g.readyState) && (N(), _t.ready()) }, N = function () { g.addEventListener ? (g.removeEventListener("DOMContentLoaded", P, !1), p.removeEventListener("load", P, !1)) : (g.detachEvent("onreadystatechange", P), p.detachEvent("onload", P)) }; function M(t) { var e = t.length, n = _t.type(t); return !_t.isWindow(t) && (!(1 !== t.nodeType || !e) || ("array" === n || "function" !== n && (0 === e || "number" == typeof e && 0 < e && e - 1 in t))) } _t.fn = _t.prototype = { jquery: a, constructor: _t, init: function (t, e, n) { var r, i; if (!t) return this; if ("string" == typeof t) { if (!(r = "<" === t.charAt(0) && ">" === t.charAt(t.length - 1) && 3 <= t.length ? [null, t, null] : w.exec(t)) || !r[1] && e) return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t); if (r[1]) { if (e = e instanceof _t ? e[0] : e, _t.merge(this, _t.parseHTML(r[1], e && e.nodeType ? e.ownerDocument || e : g, !0)), x.test(r[1]) && _t.isPlainObject(e)) for (r in e) _t.isFunction(this[r]) ? this[r](e[r]) : this.attr(r, e[r]); return this } if ((i = g.getElementById(r[2])) && i.parentNode) { if (i.id !== r[2]) return n.find(t); this.length = 1, this[0] = i } return this.context = g, this.selector = t, this } return t.nodeType ? (this.context = this[0] = t, this.length = 1, this) : _t.isFunction(t) ? n.ready(t) : (t.selector !== E && (this.selector = t.selector, this.context = t.context), _t.makeArray(t, this)) }, selector: "", length: 0, toArray: function () { return c.call(this) }, get: function (t) { return null == t ? this.toArray() : t < 0 ? this[this.length + t] : this[t] }, pushStack: function (t) { var e = _t.merge(this.constructor(), t); return e.prevObject = this, e.context = this.context, e }, each: function (t, e) { return _t.each(this, t, e) }, ready: function (t) { return _t.ready.promise().done(t), this }, slice: function () { return this.pushStack(c.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (t) { var e = this.length, n = +t + (t < 0 ? e : 0); return this.pushStack(0 <= n && n < e ? [this[n]] : []) }, map: function (n) { return this.pushStack(_t.map(this, function (t, e) { return n.call(t, e, t) })) }, end: function () { return this.prevObject || this.constructor(null) }, push: l, sort: [].sort, splice: [].splice }, _t.fn.init.prototype = _t.fn, _t.extend = _t.fn.extend = function () { var t, e, n, r, i, o, s = arguments[0] || {}, a = 1, l = arguments.length, u = !1; for ("boolean" == typeof s && (u = s, s = arguments[1] || {}, a = 2), "object" == typeof s || _t.isFunction(s) || (s = {}), l === a && (s = this, --a); a < l; a++)if (null != (i = arguments[a])) for (r in i) t = s[r], s !== (n = i[r]) && (u && n && (_t.isPlainObject(n) || (e = _t.isArray(n))) ? (e ? (e = !1, o = t && _t.isArray(t) ? t : []) : o = t && _t.isPlainObject(t) ? t : {}, s[r] = _t.extend(u, o, n)) : n !== E && (s[r] = n)); return s }, _t.extend({ expando: "jQuery" + (a + Math.random()).replace(/\D/g, ""), noConflict: function (t) { return p.$ === _t && (p.$ = o), t && p.jQuery === _t && (p.jQuery = i), _t }, isReady: !1, readyWait: 1, holdReady: function (t) { t ? _t.readyWait++ : _t.ready(!0) }, ready: function (t) { if (!0 === t ? !--_t.readyWait : !_t.isReady) { if (!g.body) return setTimeout(_t.ready); (_t.isReady = !0) !== t && 0 < --_t.readyWait || (e.resolveWith(g, [_t]), _t.fn.trigger && _t(g).trigger("ready").off("ready")) } }, isFunction: function (t) { return "function" === _t.type(t) }, isArray: Array.isArray || function (t) { return "array" === _t.type(t) }, isWindow: function (t) { return null != t && t == t.window }, isNumeric: function (t) { return !isNaN(parseFloat(t)) && isFinite(t) }, type: function (t) { return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? s[h.call(t)] || "object" : typeof t }, isPlainObject: function (t) { var e; if (!t || "object" !== _t.type(t) || t.nodeType || _t.isWindow(t)) return !1; try { if (t.constructor && !v.call(t, "constructor") && !v.call(t.constructor.prototype, "isPrototypeOf")) return !1 } catch (t) { return !1 } if (_t.support.ownLast) for (e in t) return v.call(t, e); for (e in t); return e === E || v.call(t, e) }, isEmptyObject: function (t) { var e; for (e in t) return !1; return !0 }, error: function (t) { throw Error(t) }, parseHTML: function (t, e, n) { if (!t || "string" != typeof t) return null; "boolean" == typeof e && (n = e, e = !1), e = e || g; var r = x.exec(t), i = !n && []; return r ? [e.createElement(r[1])] : (r = _t.buildFragment([t], e, i), i && _t(i).remove(), _t.merge([], r.childNodes)) }, parseJSON: function (t) { return p.JSON && p.JSON.parse ? p.JSON.parse(t) : null === t ? t : "string" == typeof t && ((t = _t.trim(t)) && k.test(t.replace(S, "@").replace(O, "]").replace(j, ""))) ? Function("return " + t)() : (_t.error("Invalid JSON: " + t), E) }, parseXML: function (t) { var e; if (!t || "string" != typeof t) return null; try { p.DOMParser ? e = (new DOMParser).parseFromString(t, "text/xml") : ((e = new ActiveXObject("Microsoft.XMLDOM")).async = "false", e.loadXML(t)) } catch (t) { e = E } return e && e.documentElement && !e.getElementsByTagName("parsererror").length || _t.error("Invalid XML: " + t), e }, noop: function () { }, globalEval: function (t) { t && _t.trim(t) && (p.execScript || function (t) { p.eval.call(p, t) })(t) }, camelCase: function (t) { return t.replace(A, "ms-").replace(L, C) }, nodeName: function (t, e) { return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase() }, each: function (t, e, n) { var r = 0, i = t.length, o = M(t); if (n) { if (o) for (; r < i && !1 !== e.apply(t[r], n); r++); else for (r in t) if (!1 === e.apply(t[r], n)) break } else if (o) for (; r < i && !1 !== e.call(t[r], r, t[r]); r++); else for (r in t) if (!1 === e.call(t[r], r, t[r])) break; return t }, trim: d && !d.call("\ufeff ") ? function (t) { return null == t ? "" : d.call(t) } : function (t) { return null == t ? "" : (t + "").replace(_, "") }, makeArray: function (t, e) { var n = e || []; return null != t && (M(Object(t)) ? _t.merge(n, "string" == typeof t ? [t] : t) : l.call(n, t)), n }, inArray: function (t, e, n) { var r; if (e) { if (u) return u.call(e, t, n); for (r = e.length, n = n ? n < 0 ? Math.max(0, r + n) : n : 0; n < r; n++)if (n in e && e[n] === t) return n } return -1 }, merge: function (t, e) { var n = e.length, r = t.length, i = 0; if ("number" == typeof n) for (; i < n; i++)t[r++] = e[i]; else for (; e[i] !== E;)t[r++] = e[i++]; return t.length = r, t }, grep: function (t, e, n) { var r = [], i = 0, o = t.length; for (n = !!n; i < o; i++)n !== !!e(t[i], i) && r.push(t[i]); return r }, map: function (t, e, n) { var r, i = 0, o = t.length, s = []; if (M(t)) for (; i < o; i++)null != (r = e(t[i], i, n)) && (s[s.length] = r); else for (i in t) null != (r = e(t[i], i, n)) && (s[s.length] = r); return m.apply([], s) }, guid: 1, proxy: function (t, e) { var n, r, i; return "string" == typeof e && (i = t[e], e = t, t = i), _t.isFunction(t) ? (n = c.call(arguments, 2), (r = function () { return t.apply(e || this, n.concat(c.call(arguments))) }).guid = t.guid = t.guid || _t.guid++ , r) : E }, access: function (t, e, n, r, i, o, s) { var a = 0, l = t.length, u = null == n; if ("object" === _t.type(n)) for (a in i = !0, n) _t.access(t, e, a, n[a], !0, o, s); else if (r !== E && (i = !0, _t.isFunction(r) || (s = !0), u && (s ? (e.call(t, r), e = null) : (u = e, e = function (t, e, n) { return u.call(_t(t), n) })), e)) for (; a < l; a++)e(t[a], n, s ? r : r.call(t[a], a, e(t[a], n))); return i ? t : u ? e.call(t) : l ? e(t[0], n) : o }, now: function () { return (new Date).getTime() }, swap: function (t, e, n, r) { var i, o, s = {}; for (o in e) s[o] = t.style[o], t.style[o] = e[o]; for (o in i = n.apply(t, r || []), e) t.style[o] = s[o]; return i } }), _t.ready.promise = function (t) { if (!e) if (e = _t.Deferred(), "complete" === g.readyState) setTimeout(_t.ready); else if (g.addEventListener) g.addEventListener("DOMContentLoaded", P, !1), p.addEventListener("load", P, !1); else { g.attachEvent("onreadystatechange", P), p.attachEvent("onload", P); var n = !1; try { n = null == p.frameElement && g.documentElement } catch (t) { } n && n.doScroll && function e() { if (!_t.isReady) { try { n.doScroll("left") } catch (t) { return setTimeout(e, 50) } N(), _t.ready() } }() } return e.promise(t) }, _t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (t, e) { s["[object " + e + "]"] = e.toLowerCase() }), n = _t(g), function (n, i) { var t, p, w, x, o, r, g, E, u, m, T, s, y, v, a, c, b, k = "sizzle" + -new Date, _ = n.document, j = 0, f = 0, l = it(), h = it(), d = it(), S = !1, O = function (t, e) { return t === e && (S = !0), 0 }, A = typeof i, L = {}.hasOwnProperty, e = [], C = e.pop, P = e.push, N = e.push, M = e.slice, D = e.indexOf || function (t) { for (var e = 0, n = this.length; e < n; e++)if (this[e] === t) return e; return -1 }, R = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", q = "[\\x20\\t\\r\\n\\f]", I = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", B = I.replace("w", "w#"), H = "\\[" + q + "*(" + I + ")" + q + "*(?:([*^$|!~]?=)" + q + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + B + ")|)|)" + q + "*\\]", U = ":(" + I + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + H.replace(3, 8) + ")*)|.*)\\)|)", F = RegExp("^" + q + "+|((?:^|[^\\\\])(?:\\\\.)*)" + q + "+$", "g"), Y = RegExp("^" + q + "*," + q + "*"), z = RegExp("^" + q + "*([>+~]|" + q + ")" + q + "*"), $ = RegExp(q + "*[+~]"), W = RegExp("=" + q + "*([^\\]'\"]*)" + q + "*\\]", "g"), K = RegExp(U), V = RegExp("^" + B + "$"), X = { ID: RegExp("^#(" + I + ")"), CLASS: RegExp("^\\.(" + I + ")"), TAG: RegExp("^(" + I.replace("w", "w*") + ")"), ATTR: RegExp("^" + H), PSEUDO: RegExp("^" + U), CHILD: RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + q + "*(even|odd|(([+-]|)(\\d*)n|)" + q + "*(?:([+-]|)" + q + "*(\\d+)|))" + q + "*\\)|)", "i"), bool: RegExp("^(?:" + R + ")$", "i"), needsContext: RegExp("^" + q + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + q + "*((?:-\\d)?\\d*)" + q + "*\\)|)(?=[^-]|$)", "i") }, Q = /^[^{]+\{\s*\[native \w/, G = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, J = /^(?:input|select|textarea|button)$/i, Z = /^h\d$/i, tt = /'|\\/g, et = RegExp("\\\\([\\da-f]{1,6}" + q + "?|(" + q + ")|.)", "ig"), nt = function (t, e, n) { var r = "0x" + e - 65536; return r != r || n ? e : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(55296 | r >> 10, 56320 | 1023 & r) }; try { N.apply(e = M.call(_.childNodes), _.childNodes), e[_.childNodes.length].nodeType } catch (t) { N = { apply: e.length ? function (t, e) { P.apply(t, M.call(e)) } : function (t, e) { for (var n = t.length, r = 0; t[n++] = e[r++];); t.length = n - 1 } } } function rt(t, e, n, r) { var i, o, s, a, l, u, c, f, h, d; if ((e ? e.ownerDocument || e : _) !== T && m(e), n = n || [], !t || "string" != typeof t) return n; if (1 !== (a = (e = e || T).nodeType) && 9 !== a) return []; if (y && !r) { if (i = G.exec(t)) if (s = i[1]) { if (9 === a) { if (!(o = e.getElementById(s)) || !o.parentNode) return n; if (o.id === s) return n.push(o), n } else if (e.ownerDocument && (o = e.ownerDocument.getElementById(s)) && b(e, o) && o.id === s) return n.push(o), n } else { if (i[2]) return N.apply(n, e.getElementsByTagName(t)), n; if ((s = i[3]) && p.getElementsByClassName && e.getElementsByClassName) return N.apply(n, e.getElementsByClassName(s)), n } if (p.qsa && (!v || !v.test(t))) { if (f = c = k, h = e, d = 9 === a && t, 1 === a && "object" !== e.nodeName.toLowerCase()) { for (u = dt(t), (c = e.getAttribute("id")) ? f = c.replace(tt, "\\$&") : e.setAttribute("id", f), f = "[id='" + f + "'] ", l = u.length; l--;)u[l] = f + pt(u[l]); h = $.test(t) && e.parentNode || e, d = u.join(",") } if (d) try { return N.apply(n, h.querySelectorAll(d)), n } catch (t) { } finally { c || e.removeAttribute("id") } } } return function (t, e, n, r) { var i, o, s, a, l, u = dt(t); if (!r && 1 === u.length) { if (2 < (o = u[0] = u[0].slice(0)).length && "ID" === (s = o[0]).type && p.getById && 9 === e.nodeType && y && x.relative[o[1].type]) { if (!(e = (x.find.ID(s.matches[0].replace(et, nt), e) || [])[0])) return n; t = t.slice(o.shift().value.length) } for (i = X.needsContext.test(t) ? 0 : o.length; i-- && (s = o[i], !x.relative[a = s.type]);)if ((l = x.find[a]) && (r = l(s.matches[0].replace(et, nt), $.test(o[0].type) && e.parentNode || e))) { if (o.splice(i, 1), !(t = r.length && pt(o))) return N.apply(n, r), n; break } } return g(t, u)(r, e, !y, n, $.test(t)), n }(t.replace(F, "$1"), e, n, r) } function it() { var r = []; return function t(e, n) { return r.push(e += " ") > x.cacheLength && delete t[r.shift()], t[e] = n } } function ot(t) { return t[k] = !0, t } function st(t) { var e = T.createElement("div"); try { return !!t(e) } catch (t) { return !1 } finally { e.parentNode && e.parentNode.removeChild(e), e = null } } function at(t, e) { for (var n = t.split("|"), r = t.length; r--;)x.attrHandle[n[r]] = e } function lt(t, e) { var n = e && t, r = n && 1 === t.nodeType && 1 === e.nodeType && (~e.sourceIndex || 1 << 31) - (~t.sourceIndex || 1 << 31); if (r) return r; if (n) for (; n = n.nextSibling;)if (n === e) return -1; return t ? 1 : -1 } function ut(e) { return function (t) { return "input" === t.nodeName.toLowerCase() && t.type === e } } function ct(n) { return function (t) { var e = t.nodeName.toLowerCase(); return ("input" === e || "button" === e) && t.type === n } } function ft(s) { return ot(function (o) { return o = +o, ot(function (t, e) { for (var n, r = s([], t.length, o), i = r.length; i--;)t[n = r[i]] && (t[n] = !(e[n] = t[n])) }) }) } for (t in r = rt.isXML = function (t) { var e = t && (t.ownerDocument || t).documentElement; return !!e && "HTML" !== e.nodeName }, p = rt.support = {}, m = rt.setDocument = function (t) { var l = t ? t.ownerDocument || t : _, e = l.defaultView; return l !== T && 9 === l.nodeType && l.documentElement ? (s = (T = l).documentElement, y = !r(l), e && e.attachEvent && e !== e.top && e.attachEvent("onbeforeunload", function () { m() }), p.attributes = st(function (t) { return t.className = "i", !t.getAttribute("className") }), p.getElementsByTagName = st(function (t) { return t.appendChild(l.createComment("")), !t.getElementsByTagName("*").length }), p.getElementsByClassName = st(function (t) { return t.innerHTML = "<div class='a'></div><div class='a i'></div>", t.firstChild.className = "i", 2 === t.getElementsByClassName("i").length }), p.getById = st(function (t) { return s.appendChild(t).id = k, !l.getElementsByName || !l.getElementsByName(k).length }), p.getById ? (x.find.ID = function (t, e) { if (typeof e.getElementById !== A && y) { var n = e.getElementById(t); return n && n.parentNode ? [n] : [] } }, x.filter.ID = function (t) { var e = t.replace(et, nt); return function (t) { return t.getAttribute("id") === e } }) : (delete x.find.ID, x.filter.ID = function (t) { var n = t.replace(et, nt); return function (t) { var e = typeof t.getAttributeNode !== A && t.getAttributeNode("id"); return e && e.value === n } }), x.find.TAG = p.getElementsByTagName ? function (t, e) { return typeof e.getElementsByTagName !== A ? e.getElementsByTagName(t) : i } : function (t, e) { var n, r = [], i = 0, o = e.getElementsByTagName(t); if ("*" === t) { for (; n = o[i++];)1 === n.nodeType && r.push(n); return r } return o }, x.find.CLASS = p.getElementsByClassName && function (t, e) { return typeof e.getElementsByClassName !== A && y ? e.getElementsByClassName(t) : i }, a = [], v = [], (p.qsa = Q.test(l.querySelectorAll)) && (st(function (t) { t.innerHTML = "<select><option selected=''></option></select>", t.querySelectorAll("[selected]").length || v.push("\\[" + q + "*(?:value|" + R + ")"), t.querySelectorAll(":checked").length || v.push(":checked") }), st(function (t) { var e = l.createElement("input"); e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("t", ""), t.querySelectorAll("[t^='']").length && v.push("[*^$]=" + q + "*(?:''|\"\")"), t.querySelectorAll(":enabled").length || v.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), v.push(",.*:") })), (p.matchesSelector = Q.test(c = s.webkitMatchesSelector || s.mozMatchesSelector || s.oMatchesSelector || s.msMatchesSelector)) && st(function (t) { p.disconnectedMatch = c.call(t, "div"), c.call(t, "[s!='']:x"), a.push("!=", U) }), v = v.length && RegExp(v.join("|")), a = a.length && RegExp(a.join("|")), b = Q.test(s.contains) || s.compareDocumentPosition ? function (t, e) { var n = 9 === t.nodeType ? t.documentElement : t, r = e && e.parentNode; return t === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(r))) } : function (t, e) { if (e) for (; e = e.parentNode;)if (e === t) return !0; return !1 }, O = s.compareDocumentPosition ? function (t, e) { if (t === e) return S = !0, 0; var n = e.compareDocumentPosition && t.compareDocumentPosition && t.compareDocumentPosition(e); return n ? 1 & n || !p.sortDetached && e.compareDocumentPosition(t) === n ? t === l || b(_, t) ? -1 : e === l || b(_, e) ? 1 : u ? D.call(u, t) - D.call(u, e) : 0 : 4 & n ? -1 : 1 : t.compareDocumentPosition ? -1 : 1 } : function (t, e) { var n, r = 0, i = t.parentNode, o = e.parentNode, s = [t], a = [e]; if (t === e) return S = !0, 0; if (!i || !o) return t === l ? -1 : e === l ? 1 : i ? -1 : o ? 1 : u ? D.call(u, t) - D.call(u, e) : 0; if (i === o) return lt(t, e); for (n = t; n = n.parentNode;)s.unshift(n); for (n = e; n = n.parentNode;)a.unshift(n); for (; s[r] === a[r];)r++; return r ? lt(s[r], a[r]) : s[r] === _ ? -1 : a[r] === _ ? 1 : 0 }, l) : T }, rt.matches = function (t, e) { return rt(t, null, null, e) }, rt.matchesSelector = function (t, e) { if ((t.ownerDocument || t) !== T && m(t), e = e.replace(W, "='$1']"), !(!p.matchesSelector || !y || a && a.test(e) || v && v.test(e))) try { var n = c.call(t, e); if (n || p.disconnectedMatch || t.document && 11 !== t.document.nodeType) return n } catch (t) { } return 0 < rt(e, T, null, [t]).length }, rt.contains = function (t, e) { return (t.ownerDocument || t) !== T && m(t), b(t, e) }, rt.attr = function (t, e) { (t.ownerDocument || t) !== T && m(t); var n = x.attrHandle[e.toLowerCase()], r = n && L.call(x.attrHandle, e.toLowerCase()) ? n(t, e, !y) : i; return r === i ? p.attributes || !y ? t.getAttribute(e) : (r = t.getAttributeNode(e)) && r.specified ? r.value : null : r }, rt.error = function (t) { throw Error("Syntax error, unrecognized expression: " + t) }, rt.uniqueSort = function (t) { var e, n = [], r = 0, i = 0; if (S = !p.detectDuplicates, u = !p.sortStable && t.slice(0), t.sort(O), S) { for (; e = t[i++];)e === t[i] && (r = n.push(i)); for (; r--;)t.splice(n[r], 1) } return t }, o = rt.getText = function (t) { var e, n = "", r = 0, i = t.nodeType; if (i) { if (1 === i || 9 === i || 11 === i) { if ("string" == typeof t.textContent) return t.textContent; for (t = t.firstChild; t; t = t.nextSibling)n += o(t) } else if (3 === i || 4 === i) return t.nodeValue } else for (; e = t[r]; r++)n += o(e); return n }, (x = rt.selectors = { cacheLength: 50, createPseudo: ot, match: X, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (t) { return t[1] = t[1].replace(et, nt), t[3] = (t[4] || t[5] || "").replace(et, nt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4) }, CHILD: function (t) { return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || rt.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && rt.error(t[0]), t }, PSEUDO: function (t) { var e, n = !t[5] && t[2]; return X.CHILD.test(t[0]) ? null : (t[3] && t[4] !== i ? t[2] = t[4] : n && K.test(n) && (e = dt(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && (t[0] = t[0].slice(0, e), t[2] = n.slice(0, e)), t.slice(0, 3)) } }, filter: { TAG: function (t) { var e = t.replace(et, nt).toLowerCase(); return "*" === t ? function () { return !0 } : function (t) { return t.nodeName && t.nodeName.toLowerCase() === e } }, CLASS: function (t) { var e = l[t + " "]; return e || (e = RegExp("(^|" + q + ")" + t + "(" + q + "|$)")) && l(t, function (t) { return e.test("string" == typeof t.className && t.className || typeof t.getAttribute !== A && t.getAttribute("class") || "") }) }, ATTR: function (n, r, i) { return function (t) { var e = rt.attr(t, n); return null == e ? "!=" === r : !r || (e += "", "=" === r ? e === i : "!=" === r ? e !== i : "^=" === r ? i && 0 === e.indexOf(i) : "*=" === r ? i && -1 < e.indexOf(i) : "$=" === r ? i && e.slice(-i.length) === i : "~=" === r ? -1 < (" " + e + " ").indexOf(i) : "|=" === r && (e === i || e.slice(0, i.length + 1) === i + "-")) } }, CHILD: function (d, t, e, p, g) { var m = "nth" !== d.slice(0, 3), y = "last" !== d.slice(-4), v = "of-type" === t; return 1 === p && 0 === g ? function (t) { return !!t.parentNode } : function (t, e, n) { var r, i, o, s, a, l, u = m !== y ? "nextSibling" : "previousSibling", c = t.parentNode, f = v && t.nodeName.toLowerCase(), h = !n && !v; if (c) { if (m) { for (; u;) { for (o = t; o = o[u];)if (v ? o.nodeName.toLowerCase() === f : 1 === o.nodeType) return !1; l = u = "only" === d && !l && "nextSibling" } return !0 } if (l = [y ? c.firstChild : c.lastChild], y && h) { for (a = (r = (i = c[k] || (c[k] = {}))[d] || [])[0] === j && r[1], s = r[0] === j && r[2], o = a && c.childNodes[a]; o = ++a && o && o[u] || (s = a = 0) || l.pop();)if (1 === o.nodeType && ++s && o === t) { i[d] = [j, a, s]; break } } else if (h && (r = (t[k] || (t[k] = {}))[d]) && r[0] === j) s = r[1]; else for (; (o = ++a && o && o[u] || (s = a = 0) || l.pop()) && ((v ? o.nodeName.toLowerCase() !== f : 1 !== o.nodeType) || !++s || (h && ((o[k] || (o[k] = {}))[d] = [j, s]), o !== t));); return (s -= g) === p || 0 == s % p && 0 <= s / p } } }, PSEUDO: function (t, o) { var e, s = x.pseudos[t] || x.setFilters[t.toLowerCase()] || rt.error("unsupported pseudo: " + t); return s[k] ? s(o) : 1 < s.length ? (e = [t, t, "", o], x.setFilters.hasOwnProperty(t.toLowerCase()) ? ot(function (t, e) { for (var n, r = s(t, o), i = r.length; i--;)t[n = D.call(t, r[i])] = !(e[n] = r[i]) }) : function (t) { return s(t, 0, e) }) : s } }, pseudos: { not: ot(function (t) { var r = [], i = [], a = g(t.replace(F, "$1")); return a[k] ? ot(function (t, e, n, r) { for (var i, o = a(t, null, r, []), s = t.length; s--;)(i = o[s]) && (t[s] = !(e[s] = i)) }) : function (t, e, n) { return r[0] = t, a(r, null, n, i), !i.pop() } }), has: ot(function (e) { return function (t) { return 0 < rt(e, t).length } }), contains: ot(function (e) { return function (t) { return -1 < (t.textContent || t.innerText || o(t)).indexOf(e) } }), lang: ot(function (n) { return V.test(n || "") || rt.error("unsupported lang: " + n), n = n.replace(et, nt).toLowerCase(), function (t) { var e; do { if (e = y ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return (e = e.toLowerCase()) === n || 0 === e.indexOf(n + "-") } while ((t = t.parentNode) && 1 === t.nodeType); return !1 } }), target: function (t) { var e = n.location && n.location.hash; return e && e.slice(1) === t.id }, root: function (t) { return t === s }, focus: function (t) { return t === T.activeElement && (!T.hasFocus || T.hasFocus()) && !!(t.type || t.href || ~t.tabIndex) }, enabled: function (t) { return !1 === t.disabled }, disabled: function (t) { return !0 === t.disabled }, checked: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && !!t.checked || "option" === e && !!t.selected }, selected: function (t) { return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected }, empty: function (t) { for (t = t.firstChild; t; t = t.nextSibling)if ("@" < t.nodeName || 3 === t.nodeType || 4 === t.nodeType) return !1; return !0 }, parent: function (t) { return !x.pseudos.empty(t) }, header: function (t) { return Z.test(t.nodeName) }, input: function (t) { return J.test(t.nodeName) }, button: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && "button" === t.type || "button" === e }, text: function (t) { var e; return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || e.toLowerCase() === t.type) }, first: ft(function () { return [0] }), last: ft(function (t, e) { return [e - 1] }), eq: ft(function (t, e, n) { return [n < 0 ? n + e : n] }), even: ft(function (t, e) { for (var n = 0; n < e; n += 2)t.push(n); return t }), odd: ft(function (t, e) { for (var n = 1; n < e; n += 2)t.push(n); return t }), lt: ft(function (t, e, n) { for (var r = n < 0 ? n + e : n; 0 <= --r;)t.push(r); return t }), gt: ft(function (t, e, n) { for (var r = n < 0 ? n + e : n; e > ++r;)t.push(r); return t }) } }).pseudos.nth = x.pseudos.eq, { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) x.pseudos[t] = ut(t); for (t in { submit: !0, reset: !0 }) x.pseudos[t] = ct(t); function ht() { } function dt(t, e) { var n, r, i, o, s, a, l, u = h[t + " "]; if (u) return e ? 0 : u.slice(0); for (s = t, a = [], l = x.preFilter; s;) { for (o in (!n || (r = Y.exec(s))) && (r && (s = s.slice(r[0].length) || s), a.push(i = [])), n = !1, (r = z.exec(s)) && (n = r.shift(), i.push({ value: n, type: r[0].replace(F, " ") }), s = s.slice(n.length)), x.filter) !(r = X[o].exec(s)) || l[o] && !(r = l[o](r)) || (n = r.shift(), i.push({ value: n, type: o, matches: r }), s = s.slice(n.length)); if (!n) break } return e ? s.length : s ? rt.error(t) : h(t, a).slice(0) } function pt(t) { for (var e = 0, n = t.length, r = ""; e < n; e++)r += t[e].value; return r } function gt(a, t, e) { var l = t.dir, u = e && "parentNode" === l, c = f++; return t.first ? function (t, e, n) { for (; t = t[l];)if (1 === t.nodeType || u) return a(t, e, n) } : function (t, e, n) { var r, i, o, s = j + " " + c; if (n) { for (; t = t[l];)if ((1 === t.nodeType || u) && a(t, e, n)) return !0 } else for (; t = t[l];)if (1 === t.nodeType || u) if ((i = (o = t[k] || (t[k] = {}))[l]) && i[0] === s) { if (!0 === (r = i[1]) || r === w) return !0 === r } else if ((i = o[l] = [s])[1] = a(t, e, n) || w, !0 === i[1]) return !0 } } function mt(i) { return 1 < i.length ? function (t, e, n) { for (var r = i.length; r--;)if (!i[r](t, e, n)) return !1; return !0 } : i[0] } function yt(t, e, n, r, i) { for (var o, s = [], a = 0, l = t.length, u = null != e; a < l; a++)(o = t[a]) && (!n || n(o, r, i)) && (s.push(o), u && e.push(a)); return s } function vt(d, p, g, m, y, t) { return m && !m[k] && (m = vt(m)), y && !y[k] && (y = vt(y, t)), ot(function (t, e, n, r) { var i, o, s, a = [], l = [], u = e.length, c = t || function (t, e, n) { for (var r = 0, i = e.length; r < i; r++)rt(t, e[r], n); return n }(p || "*", n.nodeType ? [n] : n, []), f = !d || !t && p ? c : yt(c, a, d, n, r), h = g ? y || (t ? d : u || m) ? [] : e : f; if (g && g(f, h, n, r), m) for (i = yt(h, l), m(i, [], n, r), o = i.length; o--;)(s = i[o]) && (h[l[o]] = !(f[l[o]] = s)); if (t) { if (y || d) { if (y) { for (i = [], o = h.length; o--;)(s = h[o]) && i.push(f[o] = s); y(null, h = [], i, r) } for (o = h.length; o--;)(s = h[o]) && -1 < (i = y ? D.call(t, s) : a[o]) && (t[i] = !(e[i] = s)) } } else h = yt(h === e ? h.splice(u, h.length) : h), y ? y(null, e, h, r) : N.apply(e, h) }) } function bt(t) { for (var r, e, n, i = t.length, o = x.relative[t[0].type], s = o || x.relative[" "], a = o ? 1 : 0, l = gt(function (t) { return t === r }, s, !0), u = gt(function (t) { return -1 < D.call(r, t) }, s, !0), c = [function (t, e, n) { return !o && (n || e !== E) || ((r = e).nodeType ? l(t, e, n) : u(t, e, n)) }]; a < i; a++)if (e = x.relative[t[a].type]) c = [gt(mt(c), e)]; else { if ((e = x.filter[t[a].type].apply(null, t[a].matches))[k]) { for (n = ++a; n < i && !x.relative[t[n].type]; n++); return vt(1 < a && mt(c), 1 < a && pt(t.slice(0, a - 1).concat({ value: " " === t[a - 2].type ? "*" : "" })).replace(F, "$1"), e, a < n && bt(t.slice(a, n)), n < i && bt(t = t.slice(n)), n < i && pt(t)) } c.push(e) } return mt(c) } ht.prototype = x.filters = x.pseudos, x.setFilters = new ht, g = rt.compile = function (t, e) { var n, m, y, v, b, _, r, i = [], o = [], s = d[t + " "]; if (!s) { for (e || (e = dt(t)), n = e.length; n--;)(s = bt(e[n]))[k] ? i.push(s) : o.push(s); s = d(t, (m = o, b = (v = 0) < (y = i).length, _ = 0 < m.length, r = function (t, e, n, r, i) { var o, s, a, l = [], u = 0, c = "0", f = t && [], h = null != i, d = E, p = t || _ && x.find.TAG("*", i && e.parentNode || e), g = j += null == d ? 1 : Math.random() || .1; for (h && (E = e !== T && e, w = v); null != (o = p[c]); c++) { if (_ && o) { for (s = 0; a = m[s++];)if (a(o, e, n)) { r.push(o); break } h && (j = g, w = ++v) } b && ((o = !a && o) && u-- , t && f.push(o)) } if (u += c, b && c !== u) { for (s = 0; a = y[s++];)a(f, l, e, n); if (t) { if (0 < u) for (; c--;)f[c] || l[c] || (l[c] = C.call(r)); l = yt(l) } N.apply(r, l), h && !t && 0 < l.length && 1 < u + y.length && rt.uniqueSort(r) } return h && (j = g, E = d), f }, b ? ot(r) : r)) } return s }, p.sortStable = k.split("").sort(O).join("") === k, p.detectDuplicates = S, m(), p.sortDetached = st(function (t) { return 1 & t.compareDocumentPosition(T.createElement("div")) }), st(function (t) { return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href") }) || at("type|href|height|width", function (t, e, n) { return n ? i : t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2) }), p.attributes && st(function (t) { return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value") }) || at("value", function (t, e, n) { return n || "input" !== t.nodeName.toLowerCase() ? i : t.defaultValue }), st(function (t) { return null == t.getAttribute("disabled") }) || at(R, function (t, e, n) { var r; return n ? i : (r = t.getAttributeNode(e)) && r.specified ? r.value : !0 === t[e] ? e.toLowerCase() : null }), _t.find = rt, _t.expr = rt.selectors, _t.expr[":"] = _t.expr.pseudos, _t.unique = rt.uniqueSort, _t.text = rt.getText, _t.isXMLDoc = rt.isXML, _t.contains = rt.contains }(p); var D = {}; _t.Callbacks = function (i) { var t, n; i = "string" == typeof i ? D[i] || (n = D[t = i] = {}, _t.each(t.match(T) || [], function (t, e) { n[e] = !0 }), n) : _t.extend({}, i); var r, e, o, s, a, l, u = [], c = !i.once && [], f = function (t) { for (e = i.memory && t, o = !0, a = l || 0, l = 0, s = u.length, r = !0; u && a < s; a++)if (!1 === u[a].apply(t[0], t[1]) && i.stopOnFalse) { e = !1; break } r = !1, u && (c ? c.length && f(c.shift()) : e ? u = [] : h.disable()) }, h = { add: function () { if (u) { var t = u.length; (function r(t) { _t.each(t, function (t, e) { var n = _t.type(e); "function" === n ? i.unique && h.has(e) || u.push(e) : e && e.length && "string" !== n && r(e) }) })(arguments), r ? s = u.length : e && (l = t, f(e)) } return this }, remove: function () { return u && _t.each(arguments, function (t, e) { for (var n; -1 < (n = _t.inArray(e, u, n));)u.splice(n, 1), r && (n <= s && s-- , n <= a && a--) }), this }, has: function (t) { return t ? -1 < _t.inArray(t, u) : !(!u || !u.length) }, empty: function () { return u = [], s = 0, this }, disable: function () { return u = c = e = E, this }, disabled: function () { return !u }, lock: function () { return c = E, e || h.disable(), this }, locked: function () { return !c }, fireWith: function (t, e) { return !u || o && !c || (e = [t, (e = e || []).slice ? e.slice() : e], r ? c.push(e) : f(e)), this }, fire: function () { return h.fireWith(this, arguments), this }, fired: function () { return !!o } }; return h }, _t.extend({ Deferred: function (t) { var s = [["resolve", "done", _t.Callbacks("once memory"), "resolved"], ["reject", "fail", _t.Callbacks("once memory"), "rejected"], ["notify", "progress", _t.Callbacks("memory")]], i = "pending", a = { state: function () { return i }, always: function () { return l.done(arguments).fail(arguments), this }, then: function () { var o = arguments; return _t.Deferred(function (i) { _t.each(s, function (t, e) { var n = e[0], r = _t.isFunction(o[t]) && o[t]; l[e[1]](function () { var t = r && r.apply(this, arguments); t && _t.isFunction(t.promise) ? t.promise().done(i.resolve).fail(i.reject).progress(i.notify) : i[n + "With"](this === a ? i.promise() : this, r ? [t] : arguments) }) }), o = null }).promise() }, promise: function (t) { return null != t ? _t.extend(t, a) : a } }, l = {}; return a.pipe = a.then, _t.each(s, function (t, e) { var n = e[2], r = e[3]; a[e[1]] = n.add, r && n.add(function () { i = r }, s[1 ^ t][2].disable, s[2][2].lock), l[e[0]] = function () { return l[e[0] + "With"](this === l ? a : this, arguments), this }, l[e[0] + "With"] = n.fireWith }), a.promise(l), t && t.call(l, l), l }, when: function (t) { var i, e, n, r = 0, o = c.call(arguments), s = o.length, a = 1 !== s || t && _t.isFunction(t.promise) ? s : 0, l = 1 === a ? t : _t.Deferred(), u = function (e, n, r) { return function (t) { n[e] = this, r[e] = 1 < arguments.length ? c.call(arguments) : t, r === i ? l.notifyWith(n, r) : --a || l.resolveWith(n, r) } }; if (1 < s) for (i = Array(s), e = Array(s), n = Array(s); r < s; r++)o[r] && _t.isFunction(o[r].promise) ? o[r].promise().done(u(r, n, o)).fail(l.reject).progress(u(r, e, i)) : --a; return a || l.resolveWith(n, o), l.promise() } }), _t.support = function (o) { var t, e, n, r, i, s, a, l, u, c = g.createElement("div"); if (c.setAttribute("className", "t"), c.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", t = c.getElementsByTagName("*") || [], !(e = c.getElementsByTagName("a")[0]) || !e.style || !t.length) return o; s = (r = g.createElement("select")).appendChild(g.createElement("option")), n = c.getElementsByTagName("input")[0], e.style.cssText = "top:1px;float:left;opacity:.5", o.getSetAttribute = "t" !== c.className, o.leadingWhitespace = 3 === c.firstChild.nodeType, o.tbody = !c.getElementsByTagName("tbody").length, o.htmlSerialize = !!c.getElementsByTagName("link").length, o.style = /top/.test(e.getAttribute("style")), o.hrefNormalized = "/a" === e.getAttribute("href"), o.opacity = /^0.5/.test(e.style.opacity), o.cssFloat = !!e.style.cssFloat, o.checkOn = !!n.value, o.optSelected = s.selected, o.enctype = !!g.createElement("form").enctype, o.html5Clone = "<:nav></:nav>" !== g.createElement("nav").cloneNode(!0).outerHTML, o.inlineBlockNeedsLayout = !1, o.shrinkWrapBlocks = !1, o.pixelPosition = !1, o.deleteExpando = !0, o.noCloneEvent = !0, o.reliableMarginRight = !0, o.boxSizingReliable = !0, n.checked = !0, o.noCloneChecked = n.cloneNode(!0).checked, r.disabled = !0, o.optDisabled = !s.disabled; try { delete c.test } catch (t) { o.deleteExpando = !1 } for (u in (n = g.createElement("input")).setAttribute("value", ""), o.input = "" === n.getAttribute("value"), n.value = "t", n.setAttribute("type", "radio"), o.radioValue = "t" === n.value, n.setAttribute("checked", "t"), n.setAttribute("name", "t"), (i = g.createDocumentFragment()).appendChild(n), o.appendChecked = n.checked, o.checkClone = i.cloneNode(!0).cloneNode(!0).lastChild.checked, c.attachEvent && (c.attachEvent("onclick", function () { o.noCloneEvent = !1 }), c.cloneNode(!0).click()), { submit: !0, change: !0, focusin: !0 }) c.setAttribute(a = "on" + u, "t"), o[u + "Bubbles"] = a in p || !1 === c.attributes[a].expando; for (u in c.style.backgroundClip = "content-box", c.cloneNode(!0).style.backgroundClip = "", o.clearCloneStyle = "content-box" === c.style.backgroundClip, _t(o)) break; return o.ownLast = "0" !== u, _t(function () { var t, e, n, r = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;", i = g.getElementsByTagName("body")[0]; i && ((t = g.createElement("div")).style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", i.appendChild(t).appendChild(c), c.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", (n = c.getElementsByTagName("td"))[0].style.cssText = "padding:0;margin:0;border:0;display:none", l = 0 === n[0].offsetHeight, n[0].style.display = "", n[1].style.display = "none", o.reliableHiddenOffsets = l && 0 === n[0].offsetHeight, c.innerHTML = "", c.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;", _t.swap(i, null != i.style.zoom ? { zoom: 1 } : {}, function () { o.boxSizing = 4 === c.offsetWidth }), p.getComputedStyle && (o.pixelPosition = "1%" !== (p.getComputedStyle(c, null) || {}).top, o.boxSizingReliable = "4px" === (p.getComputedStyle(c, null) || { width: "4px" }).width, (e = c.appendChild(g.createElement("div"))).style.cssText = c.style.cssText = r, e.style.marginRight = e.style.width = "0", c.style.width = "1px", o.reliableMarginRight = !parseFloat((p.getComputedStyle(e, null) || {}).marginRight)), typeof c.style.zoom !== y && (c.innerHTML = "", c.style.cssText = r + "width:1px;padding:1px;display:inline;zoom:1", o.inlineBlockNeedsLayout = 3 === c.offsetWidth, c.style.display = "block", c.innerHTML = "<div></div>", c.firstChild.style.width = "5px", o.shrinkWrapBlocks = 3 !== c.offsetWidth, o.inlineBlockNeedsLayout && (i.style.zoom = 1)), i.removeChild(t), t = c = n = e = null) }), t = r = i = s = e = n = null, o }({}); var R = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/, q = /([A-Z])/g; function I(t, e, n, r) { if (_t.acceptData(t)) { var i, o, s = _t.expando, a = t.nodeType, l = a ? _t.cache : t, u = a ? t[s] : t[s] && s; if (u && l[u] && (r || l[u].data) || n !== E || "string" != typeof e) return u || (u = a ? t[s] = f.pop() || _t.guid++ : s), l[u] || (l[u] = a ? {} : { toJSON: _t.noop }), ("object" == typeof e || "function" == typeof e) && (r ? l[u] = _t.extend(l[u], e) : l[u].data = _t.extend(l[u].data, e)), o = l[u], r || (o.data || (o.data = {}), o = o.data), n !== E && (o[_t.camelCase(e)] = n), "string" == typeof e ? null == (i = o[e]) && (i = o[_t.camelCase(e)]) : i = o, i } } function B(t, e, n) { if (_t.acceptData(t)) { var r, i, o = t.nodeType, s = o ? _t.cache : t, a = o ? t[_t.expando] : _t.expando; if (s[a]) { if (e && (r = n ? s[a] : s[a].data)) { _t.isArray(e) ? e = e.concat(_t.map(e, _t.camelCase)) : e in r ? e = [e] : e = (e = _t.camelCase(e)) in r ? [e] : e.split(" "), i = e.length; for (; i--;)delete r[e[i]]; if (n ? !U(r) : !_t.isEmptyObject(r)) return } (n || (delete s[a].data, U(s[a]))) && (o ? _t.cleanData([t], !0) : _t.support.deleteExpando || s != s.window ? delete s[a] : s[a] = null) } } } function H(t, e, n) { if (n === E && 1 === t.nodeType) { var r = "data-" + e.replace(q, "-$1").toLowerCase(); if ("string" == typeof (n = t.getAttribute(r))) { try { n = "true" === n || "false" !== n && ("null" === n ? null : +n + "" === n ? +n : R.test(n) ? _t.parseJSON(n) : n) } catch (t) { } _t.data(t, e, n) } else n = E } return n } function U(t) { var e; for (e in t) if (("data" !== e || !_t.isEmptyObject(t[e])) && "toJSON" !== e) return !1; return !0 } _t.extend({ cache: {}, noData: { applet: !0, embed: !0, object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" }, hasData: function (t) { return !!(t = t.nodeType ? _t.cache[t[_t.expando]] : t[_t.expando]) && !U(t) }, data: function (t, e, n) { return I(t, e, n) }, removeData: function (t, e) { return B(t, e) }, _data: function (t, e, n) { return I(t, e, n, !0) }, _removeData: function (t, e) { return B(t, e, !0) }, acceptData: function (t) { if (t.nodeType && 1 !== t.nodeType && 9 !== t.nodeType) return !1; var e = t.nodeName && _t.noData[t.nodeName.toLowerCase()]; return !e || !0 !== e && t.getAttribute("classid") === e } }), _t.fn.extend({ data: function (t, e) { var n, r, i = null, o = 0, s = this[0]; if (t === E) { if (this.length && (i = _t.data(s), 1 === s.nodeType && !_t._data(s, "parsedAttrs"))) { for (n = s.attributes; n.length > o; o++)0 === (r = n[o].name).indexOf("data-") && H(s, r = _t.camelCase(r.slice(5)), i[r]); _t._data(s, "parsedAttrs", !0) } return i } return "object" == typeof t ? this.each(function () { _t.data(this, t) }) : 1 < arguments.length ? this.each(function () { _t.data(this, t, e) }) : s ? H(s, t, _t.data(s, t)) : null }, removeData: function (t) { return this.each(function () { _t.removeData(this, t) }) } }), _t.extend({ queue: function (t, e, n) { var r; return t ? (e = (e || "fx") + "queue", r = _t._data(t, e), n && (!r || _t.isArray(n) ? r = _t._data(t, e, _t.makeArray(n)) : r.push(n)), r || []) : E }, dequeue: function (t, e) { e = e || "fx"; var n = _t.queue(t, e), r = n.length, i = n.shift(), o = _t._queueHooks(t, e); "inprogress" === i && (i = n.shift(), r--), i && ("fx" === e && n.unshift("inprogress"), delete o.stop, i.call(t, function () { _t.dequeue(t, e) }, o)), !r && o && o.empty.fire() }, _queueHooks: function (t, e) { var n = e + "queueHooks"; return _t._data(t, n) || _t._data(t, n, { empty: _t.Callbacks("once memory").add(function () { _t._removeData(t, e + "queue"), _t._removeData(t, n) }) }) } }), _t.fn.extend({ queue: function (e, n) { var t = 2; return "string" != typeof e && (n = e, e = "fx", t--), t > arguments.length ? _t.queue(this[0], e) : n === E ? this : this.each(function () { var t = _t.queue(this, e, n); _t._queueHooks(this, e), "fx" === e && "inprogress" !== t[0] && _t.dequeue(this, e) }) }, dequeue: function (t) { return this.each(function () { _t.dequeue(this, t) }) }, delay: function (r, t) { return r = _t.fx && _t.fx.speeds[r] || r, t = t || "fx", this.queue(t, function (t, e) { var n = setTimeout(t, r); e.stop = function () { clearTimeout(n) } }) }, clearQueue: function (t) { return this.queue(t || "fx", []) }, promise: function (t, e) { var n, r = 1, i = _t.Deferred(), o = this, s = this.length, a = function () { --r || i.resolveWith(o, [o]) }; for ("string" != typeof t && (e = t, t = E), t = t || "fx"; s--;)(n = _t._data(o[s], t + "queueHooks")) && n.empty && (r++ , n.empty.add(a)); return a(), i.promise(e) } }); var F, Y, z = /[\t\r\n\f]/g, $ = /\r/g, W = /^(?:input|select|textarea|button|object)$/i, K = /^(?:a|area)$/i, V = /^(?:checked|selected)$/i, X = _t.support.getSetAttribute, Q = _t.support.input; _t.fn.extend({ attr: function (t, e) { return _t.access(this, _t.attr, t, e, 1 < arguments.length) }, removeAttr: function (t) { return this.each(function () { _t.removeAttr(this, t) }) }, prop: function (t, e) { return _t.access(this, _t.prop, t, e, 1 < arguments.length) }, removeProp: function (t) { return t = _t.propFix[t] || t, this.each(function () { try { this[t] = E, delete this[t] } catch (t) { } }) }, addClass: function (e) { var t, n, r, i, o, s = 0, a = this.length, l = "string" == typeof e && e; if (_t.isFunction(e)) return this.each(function (t) { _t(this).addClass(e.call(this, t, this.className)) }); if (l) for (t = (e || "").match(T) || []; s < a; s++)if (r = 1 === (n = this[s]).nodeType && (n.className ? (" " + n.className + " ").replace(z, " ") : " ")) { for (o = 0; i = t[o++];)r.indexOf(" " + i + " ") < 0 && (r += i + " "); n.className = _t.trim(r) } return this }, removeClass: function (e) { var t, n, r, i, o, s = 0, a = this.length, l = 0 === arguments.length || "string" == typeof e && e; if (_t.isFunction(e)) return this.each(function (t) { _t(this).removeClass(e.call(this, t, this.className)) }); if (l) for (t = (e || "").match(T) || []; s < a; s++)if (r = 1 === (n = this[s]).nodeType && (n.className ? (" " + n.className + " ").replace(z, " ") : "")) { for (o = 0; i = t[o++];)for (; 0 <= r.indexOf(" " + i + " ");)r = r.replace(" " + i + " ", " "); n.className = e ? _t.trim(r) : "" } return this }, toggleClass: function (i, e) { var o = typeof i; return "boolean" == typeof e && "string" === o ? e ? this.addClass(i) : this.removeClass(i) : _t.isFunction(i) ? this.each(function (t) { _t(this).toggleClass(i.call(this, t, this.className, e), e) }) : this.each(function () { if ("string" === o) for (var t, e = 0, n = _t(this), r = i.match(T) || []; t = r[e++];)n.hasClass(t) ? n.removeClass(t) : n.addClass(t); else (o === y || "boolean" === o) && (this.className && _t._data(this, "__className__", this.className), this.className = this.className || !1 === i ? "" : _t._data(this, "__className__") || "") }) }, hasClass: function (t) { for (var e = " " + t + " ", n = 0, r = this.length; n < r; n++)if (1 === this[n].nodeType && 0 <= (" " + this[n].className + " ").replace(z, " ").indexOf(e)) return !0; return !1 }, val: function (n) { var t, r, i, e = this[0]; return arguments.length ? (i = _t.isFunction(n), this.each(function (t) { var e; 1 === this.nodeType && (null == (e = i ? n.call(this, t, _t(this).val()) : n) ? e = "" : "number" == typeof e ? e += "" : _t.isArray(e) && (e = _t.map(e, function (t) { return null == t ? "" : t + "" })), (r = _t.valHooks[this.type] || _t.valHooks[this.nodeName.toLowerCase()]) && "set" in r && r.set(this, e, "value") !== E || (this.value = e)) })) : e ? (r = _t.valHooks[e.type] || _t.valHooks[e.nodeName.toLowerCase()]) && "get" in r && (t = r.get(e, "value")) !== E ? t : "string" == typeof (t = e.value) ? t.replace($, "") : null == t ? "" : t : void 0 } }), _t.extend({ valHooks: { option: { get: function (t) { var e = _t.find.attr(t, "value"); return null != e ? e : t.text } }, select: { get: function (t) { for (var e, n, r = t.options, i = t.selectedIndex, o = "select-one" === t.type || i < 0, s = o ? null : [], a = o ? i + 1 : r.length, l = i < 0 ? a : o ? i : 0; l < a; l++)if (!(!(n = r[l]).selected && l !== i || (_t.support.optDisabled ? n.disabled : null !== n.getAttribute("disabled")) || n.parentNode.disabled && _t.nodeName(n.parentNode, "optgroup"))) { if (e = _t(n).val(), o) return e; s.push(e) } return s }, set: function (t, e) { for (var n, r, i = t.options, o = _t.makeArray(e), s = i.length; s--;)((r = i[s]).selected = 0 <= _t.inArray(_t(r).val(), o)) && (n = !0); return n || (t.selectedIndex = -1), o } } }, attr: function (t, e, n) { var r, i, o = t.nodeType; if (t && 3 !== o && 8 !== o && 2 !== o) return typeof t.getAttribute === y ? _t.prop(t, e, n) : (1 === o && _t.isXMLDoc(t) || (e = e.toLowerCase(), r = _t.attrHooks[e] || (_t.expr.match.bool.test(e) ? Y : F)), n === E ? r && "get" in r && null !== (i = r.get(t, e)) ? i : null == (i = _t.find.attr(t, e)) ? E : i : null !== n ? r && "set" in r && (i = r.set(t, n, e)) !== E ? i : (t.setAttribute(e, n + ""), n) : (_t.removeAttr(t, e), E)) }, removeAttr: function (t, e) { var n, r, i = 0, o = e && e.match(T); if (o && 1 === t.nodeType) for (; n = o[i++];)r = _t.propFix[n] || n, _t.expr.match.bool.test(n) ? Q && X || !V.test(n) ? t[r] = !1 : t[_t.camelCase("default-" + n)] = t[r] = !1 : _t.attr(t, n, ""), t.removeAttribute(X ? n : r) }, attrHooks: { type: { set: function (t, e) { if (!_t.support.radioValue && "radio" === e && _t.nodeName(t, "input")) { var n = t.value; return t.setAttribute("type", e), n && (t.value = n), e } } } }, propFix: { for: "htmlFor", class: "className" }, prop: function (t, e, n) { var r, i, o = t.nodeType; if (t && 3 !== o && 8 !== o && 2 !== o) return (1 !== o || !_t.isXMLDoc(t)) && (e = _t.propFix[e] || e, i = _t.propHooks[e]), n !== E ? i && "set" in i && (r = i.set(t, n, e)) !== E ? r : t[e] = n : i && "get" in i && null !== (r = i.get(t, e)) ? r : t[e] }, propHooks: { tabIndex: { get: function (t) { var e = _t.find.attr(t, "tabindex"); return e ? parseInt(e, 10) : W.test(t.nodeName) || K.test(t.nodeName) && t.href ? 0 : -1 } } } }), Y = { set: function (t, e, n) { return !1 === e ? _t.removeAttr(t, n) : Q && X || !V.test(n) ? t.setAttribute(!X && _t.propFix[n] || n, n) : t[_t.camelCase("default-" + n)] = t[n] = !0, n } }, _t.each(_t.expr.match.bool.source.match(/\w+/g), function (t, e) { var o = _t.expr.attrHandle[e] || _t.find.attr; _t.expr.attrHandle[e] = Q && X || !V.test(e) ? function (t, e, n) { var r = _t.expr.attrHandle[e], i = n ? E : (_t.expr.attrHandle[e] = E) != o(t, e, n) ? e.toLowerCase() : null; return _t.expr.attrHandle[e] = r, i } : function (t, e, n) { return n ? E : t[_t.camelCase("default-" + e)] ? e.toLowerCase() : null } }), Q && X || (_t.attrHooks.value = { set: function (t, e, n) { return _t.nodeName(t, "input") ? (t.defaultValue = e, E) : F && F.set(t, e, n) } }), X || (F = { set: function (t, e, n) { var r = t.getAttributeNode(n); return r || t.setAttributeNode(r = t.ownerDocument.createAttribute(n)), r.value = e += "", "value" === n || e === t.getAttribute(n) ? e : E } }, _t.expr.attrHandle.id = _t.expr.attrHandle.name = _t.expr.attrHandle.coords = function (t, e, n) { var r; return n ? E : (r = t.getAttributeNode(e)) && "" !== r.value ? r.value : null }, _t.valHooks.button = { get: function (t, e) { var n = t.getAttributeNode(e); return n && n.specified ? n.value : E }, set: F.set }, _t.attrHooks.contenteditable = { set: function (t, e, n) { F.set(t, "" !== e && e, n) } }, _t.each(["width", "height"], function (t, n) { _t.attrHooks[n] = { set: function (t, e) { return "" === e ? (t.setAttribute(n, "auto"), e) : E } } })), _t.support.hrefNormalized || _t.each(["href", "src"], function (t, e) { _t.propHooks[e] = { get: function (t) { return t.getAttribute(e, 4) } } }), _t.support.style || (_t.attrHooks.style = { get: function (t) { return t.style.cssText || E }, set: function (t, e) { return t.style.cssText = e + "" } }), _t.support.optSelected || (_t.propHooks.selected = { get: function (t) { var e = t.parentNode; return e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex), null } }), _t.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () { _t.propFix[this.toLowerCase()] = this }), _t.support.enctype || (_t.propFix.enctype = "encoding"), _t.each(["radio", "checkbox"], function () { _t.valHooks[this] = { set: function (t, e) { return _t.isArray(e) ? t.checked = 0 <= _t.inArray(_t(t).val(), e) : E } }, _t.support.checkOn || (_t.valHooks[this].get = function (t) { return null === t.getAttribute("value") ? "on" : t.value }) }); var G = /^(?:input|select|textarea)$/i, J = /^key/, Z = /^(?:mouse|contextmenu)|click/, tt = /^(?:focusinfocus|focusoutblur)$/, et = /^([^.]*)(?:\.(.+)|)$/; function nt() { return !0 } function rt() { return !1 } function it() { try { return g.activeElement } catch (t) { } } _t.event = { global: {}, add: function (t, e, n, r, i) { var o, s, a, l, u, c, f, h, d, p, g, m = _t._data(t); if (m) { for (n.handler && (n = (l = n).handler, i = l.selector), n.guid || (n.guid = _t.guid++), (s = m.events) || (s = m.events = {}), (c = m.handle) || ((c = m.handle = function (t) { return typeof _t === y || t && _t.event.triggered === t.type ? E : _t.event.dispatch.apply(c.elem, arguments) }).elem = t), a = (e = (e || "").match(T) || [""]).length; a--;)d = g = (o = et.exec(e[a]) || [])[1], p = (o[2] || "").split(".").sort(), d && (u = _t.event.special[d] || {}, d = (i ? u.delegateType : u.bindType) || d, u = _t.event.special[d] || {}, f = _t.extend({ type: d, origType: g, data: r, handler: n, guid: n.guid, selector: i, needsContext: i && _t.expr.match.needsContext.test(i), namespace: p.join(".") }, l), (h = s[d]) || ((h = s[d] = []).delegateCount = 0, u.setup && !1 !== u.setup.call(t, r, p, c) || (t.addEventListener ? t.addEventListener(d, c, !1) : t.attachEvent && t.attachEvent("on" + d, c))), u.add && (u.add.call(t, f), f.handler.guid || (f.handler.guid = n.guid)), i ? h.splice(h.delegateCount++, 0, f) : h.push(f), _t.event.global[d] = !0); t = null } }, remove: function (t, e, n, r, i) { var o, s, a, l, u, c, f, h, d, p, g, m = _t.hasData(t) && _t._data(t); if (m && (c = m.events)) { for (u = (e = (e || "").match(T) || [""]).length; u--;)if (d = g = (a = et.exec(e[u]) || [])[1], p = (a[2] || "").split(".").sort(), d) { for (f = _t.event.special[d] || {}, h = c[d = (r ? f.delegateType : f.bindType) || d] || [], a = a[2] && RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), l = o = h.length; o--;)s = h[o], !i && g !== s.origType || n && n.guid !== s.guid || a && !a.test(s.namespace) || r && r !== s.selector && ("**" !== r || !s.selector) || (h.splice(o, 1), s.selector && h.delegateCount-- , f.remove && f.remove.call(t, s)); l && !h.length && (f.teardown && !1 !== f.teardown.call(t, p, m.handle) || _t.removeEvent(t, d, m.handle), delete c[d]) } else for (d in c) _t.event.remove(t, d + e[u], n, r, !0); _t.isEmptyObject(c) && (delete m.handle, _t._removeData(t, "events")) } }, trigger: function (t, e, n, r) { var i, o, s, a, l, u, c, f = [n || g], h = v.call(t, "type") ? t.type : t, d = v.call(t, "namespace") ? t.namespace.split(".") : []; if (s = u = n = n || g, 3 !== n.nodeType && 8 !== n.nodeType && !tt.test(h + _t.event.triggered) && (0 <= h.indexOf(".") && (h = (d = h.split(".")).shift(), d.sort()), o = h.indexOf(":") < 0 && "on" + h, (t = t[_t.expando] ? t : new _t.Event(h, "object" == typeof t && t)).isTrigger = r ? 2 : 3, t.namespace = d.join("."), t.namespace_re = t.namespace ? RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = E, t.target || (t.target = n), e = null == e ? [t] : _t.makeArray(e, [t]), l = _t.event.special[h] || {}, r || !l.trigger || !1 !== l.trigger.apply(n, e))) { if (!r && !l.noBubble && !_t.isWindow(n)) { for (a = l.delegateType || h, tt.test(a + h) || (s = s.parentNode); s; s = s.parentNode)f.push(s), u = s; u === (n.ownerDocument || g) && f.push(u.defaultView || u.parentWindow || p) } for (c = 0; (s = f[c++]) && !t.isPropagationStopped();)t.type = 1 < c ? a : l.bindType || h, (i = (_t._data(s, "events") || {})[t.type] && _t._data(s, "handle")) && i.apply(s, e), (i = o && s[o]) && _t.acceptData(s) && i.apply && !1 === i.apply(s, e) && t.preventDefault(); if (t.type = h, !r && !t.isDefaultPrevented() && (!l._default || !1 === l._default.apply(f.pop(), e)) && _t.acceptData(n) && o && n[h] && !_t.isWindow(n)) { (u = n[o]) && (n[o] = null), _t.event.triggered = h; try { n[h]() } catch (t) { } _t.event.triggered = E, u && (n[o] = u) } return t.result } }, dispatch: function (t) { t = _t.event.fix(t); var e, n, r, i, o, s = [], a = c.call(arguments), l = (_t._data(this, "events") || {})[t.type] || [], u = _t.event.special[t.type] || {}; if ((a[0] = t).delegateTarget = this, !u.preDispatch || !1 !== u.preDispatch.call(this, t)) { for (s = _t.event.handlers.call(this, t, l), e = 0; (i = s[e++]) && !t.isPropagationStopped();)for (t.currentTarget = i.elem, o = 0; (r = i.handlers[o++]) && !t.isImmediatePropagationStopped();)(!t.namespace_re || t.namespace_re.test(r.namespace)) && (t.handleObj = r, t.data = r.data, (n = ((_t.event.special[r.origType] || {}).handle || r.handler).apply(i.elem, a)) !== E && !1 === (t.result = n) && (t.preventDefault(), t.stopPropagation())); return u.postDispatch && u.postDispatch.call(this, t), t.result } }, handlers: function (t, e) { var n, r, i, o, s = [], a = e.delegateCount, l = t.target; if (a && l.nodeType && (!t.button || "click" !== t.type)) for (; l != this; l = l.parentNode || this)if (1 === l.nodeType && (!0 !== l.disabled || "click" !== t.type)) { for (i = [], o = 0; o < a; o++)i[n = (r = e[o]).selector + " "] === E && (i[n] = r.needsContext ? 0 <= _t(n, this).index(l) : _t.find(n, this, null, [l]).length), i[n] && i.push(r); i.length && s.push({ elem: l, handlers: i }) } return e.length > a && s.push({ elem: this, handlers: e.slice(a) }), s }, fix: function (t) { if (t[_t.expando]) return t; var e, n, r, i = t.type, o = t, s = this.fixHooks[i]; for (s || (this.fixHooks[i] = s = Z.test(i) ? this.mouseHooks : J.test(i) ? this.keyHooks : {}), r = s.props ? this.props.concat(s.props) : this.props, t = new _t.Event(o), e = r.length; e--;)t[n = r[e]] = o[n]; return t.target || (t.target = o.srcElement || g), 3 === t.target.nodeType && (t.target = t.target.parentNode), t.metaKey = !!t.metaKey, s.filter ? s.filter(t, o) : t }, props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "), fixHooks: {}, keyHooks: { props: "char charCode key keyCode".split(" "), filter: function (t, e) { return null == t.which && (t.which = null != e.charCode ? e.charCode : e.keyCode), t } }, mouseHooks: { props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "), filter: function (t, e) { var n, r, i, o = e.button, s = e.fromElement; return null == t.pageX && null != e.clientX && (i = (r = t.target.ownerDocument || g).documentElement, n = r.body, t.pageX = e.clientX + (i && i.scrollLeft || n && n.scrollLeft || 0) - (i && i.clientLeft || n && n.clientLeft || 0), t.pageY = e.clientY + (i && i.scrollTop || n && n.scrollTop || 0) - (i && i.clientTop || n && n.clientTop || 0)), !t.relatedTarget && s && (t.relatedTarget = s === t.target ? e.toElement : s), t.which || o === E || (t.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0), t } }, special: { load: { noBubble: !0 }, focus: { trigger: function () { if (this !== it() && this.focus) try { return this.focus(), !1 } catch (t) { } }, delegateType: "focusin" }, blur: { trigger: function () { return this === it() && this.blur ? (this.blur(), !1) : E }, delegateType: "focusout" }, click: { trigger: function () { return _t.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(), !1) : E }, _default: function (t) { return _t.nodeName(t.target, "a") } }, beforeunload: { postDispatch: function (t) { t.result !== E && (t.originalEvent.returnValue = t.result) } } }, simulate: function (t, e, n, r) { var i = _t.extend(new _t.Event, n, { type: t, isSimulated: !0, originalEvent: {} }); r ? _t.event.trigger(i, null, e) : _t.event.dispatch.call(e, i), i.isDefaultPrevented() && n.preventDefault() } }, _t.removeEvent = g.removeEventListener ? function (t, e, n) { t.removeEventListener && t.removeEventListener(e, n, !1) } : function (t, e, n) { var r = "on" + e; t.detachEvent && (typeof t[r] === y && (t[r] = null), t.detachEvent(r, n)) }, _t.Event = function (t, e) { return this instanceof _t.Event ? (t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || !1 === t.returnValue || t.getPreventDefault && t.getPreventDefault() ? nt : rt) : this.type = t, e && _t.extend(this, e), this.timeStamp = t && t.timeStamp || _t.now(), this[_t.expando] = !0, E) : new _t.Event(t, e) }, _t.Event.prototype = { isDefaultPrevented: rt, isPropagationStopped: rt, isImmediatePropagationStopped: rt, preventDefault: function () { var t = this.originalEvent; this.isDefaultPrevented = nt, t && (t.preventDefault ? t.preventDefault() : t.returnValue = !1) }, stopPropagation: function () { var t = this.originalEvent; this.isPropagationStopped = nt, t && (t.stopPropagation && t.stopPropagation(), t.cancelBubble = !0) }, stopImmediatePropagation: function () { this.isImmediatePropagationStopped = nt, this.stopPropagation() } }, _t.each({ mouseenter: "mouseover", mouseleave: "mouseout" }, function (t, i) { _t.event.special[t] = { delegateType: i, bindType: i, handle: function (t) { var e, n = t.relatedTarget, r = t.handleObj; return (!n || n !== this && !_t.contains(this, n)) && (t.type = r.origType, e = r.handler.apply(this, arguments), t.type = i), e } } }), _t.support.submitBubbles || (_t.event.special.submit = { setup: function () { return !_t.nodeName(this, "form") && (_t.event.add(this, "click._submit keypress._submit", function (t) { var e = t.target, n = _t.nodeName(e, "input") || _t.nodeName(e, "button") ? e.form : E; n && !_t._data(n, "submitBubbles") && (_t.event.add(n, "submit._submit", function (t) { t._submit_bubble = !0 }), _t._data(n, "submitBubbles", !0)) }), E) }, postDispatch: function (t) { t._submit_bubble && (delete t._submit_bubble, this.parentNode && !t.isTrigger && _t.event.simulate("submit", this.parentNode, t, !0)) }, teardown: function () { return !_t.nodeName(this, "form") && (_t.event.remove(this, "._submit"), E) } }), _t.support.changeBubbles || (_t.event.special.change = { setup: function () { return G.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (_t.event.add(this, "propertychange._change", function (t) { "checked" === t.originalEvent.propertyName && (this._just_changed = !0) }), _t.event.add(this, "click._change", function (t) { this._just_changed && !t.isTrigger && (this._just_changed = !1), _t.event.simulate("change", this, t, !0) })), !1) : (_t.event.add(this, "beforeactivate._change", function (t) { var e = t.target; G.test(e.nodeName) && !_t._data(e, "changeBubbles") && (_t.event.add(e, "change._change", function (t) { !this.parentNode || t.isSimulated || t.isTrigger || _t.event.simulate("change", this.parentNode, t, !0) }), _t._data(e, "changeBubbles", !0)) }), E) }, handle: function (t) { var e = t.target; return this !== e || t.isSimulated || t.isTrigger || "radio" !== e.type && "checkbox" !== e.type ? t.handleObj.handler.apply(this, arguments) : E }, teardown: function () { return _t.event.remove(this, "._change"), !G.test(this.nodeName) } }), _t.support.focusinBubbles || _t.each({ focus: "focusin", blur: "focusout" }, function (t, e) { var n = 0, r = function (t) { _t.event.simulate(e, t.target, _t.event.fix(t), !0) }; _t.event.special[e] = { setup: function () { 0 == n++ && g.addEventListener(t, r, !0) }, teardown: function () { 0 == --n && g.removeEventListener(t, r, !0) } } }), _t.fn.extend({ on: function (t, e, n, r, i) { var o, s; if ("object" == typeof t) { for (o in "string" != typeof e && (n = n || e, e = E), t) this.on(o, e, n, t[o], i); return this } if (null == n && null == r ? (r = e, n = e = E) : null == r && ("string" == typeof e ? (r = n, n = E) : (r = n, n = e, e = E)), !1 === r) r = rt; else if (!r) return this; return 1 === i && (s = r, (r = function (t) { return _t().off(t), s.apply(this, arguments) }).guid = s.guid || (s.guid = _t.guid++)), this.each(function () { _t.event.add(this, t, r, n, e) }) }, one: function (t, e, n, r) { return this.on(t, e, n, r, 1) }, off: function (t, e, n) { var r, i; if (t && t.preventDefault && t.handleObj) return r = t.handleObj, _t(t.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler), this; if ("object" == typeof t) { for (i in t) this.off(i, e, t[i]); return this } return (!1 === e || "function" == typeof e) && (n = e, e = E), !1 === n && (n = rt), this.each(function () { _t.event.remove(this, t, n, e) }) }, trigger: function (t, e) { return this.each(function () { _t.event.trigger(t, e, this) }) }, triggerHandler: function (t, e) { var n = this[0]; return n ? _t.event.trigger(t, e, n, !0) : E } }); var ot = /^.[^:#\[\.,]*$/, st = /^(?:parents|prev(?:Until|All))/, at = _t.expr.match.needsContext, lt = { children: !0, contents: !0, next: !0, prev: !0 }; function ut(t, e) { for (; (t = t[e]) && 1 !== t.nodeType;); return t } function ct(t, n, r) { if (_t.isFunction(n)) return _t.grep(t, function (t, e) { return !!n.call(t, e, t) !== r }); if (n.nodeType) return _t.grep(t, function (t) { return t === n !== r }); if ("string" == typeof n) { if (ot.test(n)) return _t.filter(n, t, r); n = _t.filter(n, t) } return _t.grep(t, function (t) { return 0 <= _t.inArray(t, n) !== r }) } function ft(t) { var e = ht.split("|"), n = t.createDocumentFragment(); if (n.createElement) for (; e.length;)n.createElement(e.pop()); return n } _t.fn.extend({ find: function (t) { var e, n = [], r = this, i = r.length; if ("string" != typeof t) return this.pushStack(_t(t).filter(function () { for (e = 0; e < i; e++)if (_t.contains(r[e], this)) return !0 })); for (e = 0; e < i; e++)_t.find(t, r[e], n); return (n = this.pushStack(1 < i ? _t.unique(n) : n)).selector = this.selector ? this.selector + " " + t : t, n }, has: function (t) { var e, n = _t(t, this), r = n.length; return this.filter(function () { for (e = 0; e < r; e++)if (_t.contains(this, n[e])) return !0 }) }, not: function (t) { return this.pushStack(ct(this, t || [], !0)) }, filter: function (t) { return this.pushStack(ct(this, t || [], !1)) }, is: function (t) { return !!ct(this, "string" == typeof t && at.test(t) ? _t(t) : t || [], !1).length }, closest: function (t, e) { for (var n, r = 0, i = this.length, o = [], s = at.test(t) || "string" != typeof t ? _t(t, e || this.context) : 0; r < i; r++)for (n = this[r]; n && n !== e; n = n.parentNode)if (n.nodeType < 11 && (s ? -1 < s.index(n) : 1 === n.nodeType && _t.find.matchesSelector(n, t))) { n = o.push(n); break } return this.pushStack(1 < o.length ? _t.unique(o) : o) }, index: function (t) { return t ? "string" == typeof t ? _t.inArray(this[0], _t(t)) : _t.inArray(t.jquery ? t[0] : t, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (t, e) { var n = "string" == typeof t ? _t(t, e) : _t.makeArray(t && t.nodeType ? [t] : t), r = _t.merge(this.get(), n); return this.pushStack(_t.unique(r)) }, addBack: function (t) { return this.add(null == t ? this.prevObject : this.prevObject.filter(t)) } }), _t.each({ parent: function (t) { var e = t.parentNode; return e && 11 !== e.nodeType ? e : null }, parents: function (t) { return _t.dir(t, "parentNode") }, parentsUntil: function (t, e, n) { return _t.dir(t, "parentNode", n) }, next: function (t) { return ut(t, "nextSibling") }, prev: function (t) { return ut(t, "previousSibling") }, nextAll: function (t) { return _t.dir(t, "nextSibling") }, prevAll: function (t) { return _t.dir(t, "previousSibling") }, nextUntil: function (t, e, n) { return _t.dir(t, "nextSibling", n) }, prevUntil: function (t, e, n) { return _t.dir(t, "previousSibling", n) }, siblings: function (t) { return _t.sibling((t.parentNode || {}).firstChild, t) }, children: function (t) { return _t.sibling(t.firstChild) }, contents: function (t) { return _t.nodeName(t, "iframe") ? t.contentDocument || t.contentWindow.document : _t.merge([], t.childNodes) } }, function (r, i) { _t.fn[r] = function (t, e) { var n = _t.map(this, i, t); return "Until" !== r.slice(-5) && (e = t), e && "string" == typeof e && (n = _t.filter(e, n)), 1 < this.length && (lt[r] || (n = _t.unique(n)), st.test(r) && (n = n.reverse())), this.pushStack(n) } }), _t.extend({ filter: function (t, e, n) { var r = e[0]; return n && (t = ":not(" + t + ")"), 1 === e.length && 1 === r.nodeType ? _t.find.matchesSelector(r, t) ? [r] : [] : _t.find.matches(t, _t.grep(e, function (t) { return 1 === t.nodeType })) }, dir: function (t, e, n) { for (var r = [], i = t[e]; i && 9 !== i.nodeType && (n === E || 1 !== i.nodeType || !_t(i).is(n));)1 === i.nodeType && r.push(i), i = i[e]; return r }, sibling: function (t, e) { for (var n = []; t; t = t.nextSibling)1 === t.nodeType && t !== e && n.push(t); return n } }); var ht = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video", dt = / jQuery\d+="(?:null|\d+)"/g, pt = RegExp("<(?:" + ht + ")[\\s/>]", "i"), gt = /^\s+/, mt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, yt = /<([\w:]+)/, vt = /<tbody/i, bt = /<|&#?\w+;/, wt = /<(?:script|style|link)/i, xt = /^(?:checkbox|radio)$/i, Et = /checked\s*(?:[^=]|=\s*.checked.)/i, Tt = /^$|\/(?:java|ecma)script/i, kt = /^true\/(.*)/, jt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, St = { option: [1, "<select multiple='multiple'>", "</select>"], legend: [1, "<fieldset>", "</fieldset>"], area: [1, "<map>", "</map>"], param: [1, "<object>", "</object>"], thead: [1, "<table>", "</table>"], tr: [2, "<table><tbody>", "</tbody></table>"], col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: _t.support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"] }, Ot = ft(g).appendChild(g.createElement("div")); function At(t, e) { return _t.nodeName(t, "table") && _t.nodeName(1 === e.nodeType ? e : e.firstChild, "tr") ? t.getElementsByTagName("tbody")[0] || t.appendChild(t.ownerDocument.createElement("tbody")) : t } function Lt(t) { return t.type = (null !== _t.find.attr(t, "type")) + "/" + t.type, t } function Ct(t) { var e = kt.exec(t.type); return e ? t.type = e[1] : t.removeAttribute("type"), t } function Pt(t, e) { for (var n, r = 0; null != (n = t[r]); r++)_t._data(n, "globalEval", !e || _t._data(e[r], "globalEval")) } function Nt(t, e) { if (1 === e.nodeType && _t.hasData(t)) { var n, r, i, o = _t._data(t), s = _t._data(e, o), a = o.events; if (a) for (n in delete s.handle, s.events = {}, a) for (r = 0, i = a[n].length; r < i; r++)_t.event.add(e, n, a[n][r]); s.data && (s.data = _t.extend({}, s.data)) } } function Mt(t, e) { var n, r, i; if (1 === e.nodeType) { if (n = e.nodeName.toLowerCase(), !_t.support.noCloneEvent && e[_t.expando]) { for (r in (i = _t._data(e)).events) _t.removeEvent(e, r, i.handle); e.removeAttribute(_t.expando) } "script" === n && e.text !== t.text ? (Lt(e).text = t.text, Ct(e)) : "object" === n ? (e.parentNode && (e.outerHTML = t.outerHTML), _t.support.html5Clone && t.innerHTML && !_t.trim(e.innerHTML) && (e.innerHTML = t.innerHTML)) : "input" === n && xt.test(t.type) ? (e.defaultChecked = e.checked = t.checked, e.value !== t.value && (e.value = t.value)) : "option" === n ? e.defaultSelected = e.selected = t.defaultSelected : ("input" === n || "textarea" === n) && (e.defaultValue = t.defaultValue) } } function Dt(t, e) { var n, r, i = 0, o = typeof t.getElementsByTagName !== y ? t.getElementsByTagName(e || "*") : typeof t.querySelectorAll !== y ? t.querySelectorAll(e || "*") : E; if (!o) for (o = [], n = t.childNodes || t; null != (r = n[i]); i++)!e || _t.nodeName(r, e) ? o.push(r) : _t.merge(o, Dt(r, e)); return e === E || e && _t.nodeName(t, e) ? _t.merge([t], o) : o } function Rt(t) { xt.test(t.type) && (t.defaultChecked = t.checked) } St.optgroup = St.option, St.tbody = St.tfoot = St.colgroup = St.caption = St.thead, St.th = St.td, _t.fn.extend({ text: function (t) { return _t.access(this, function (t) { return t === E ? _t.text(this) : this.empty().append((this[0] && this[0].ownerDocument || g).createTextNode(t)) }, null, t, arguments.length) }, append: function () { return this.domManip(arguments, function (t) { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || At(this, t).appendChild(t) }) }, prepend: function () { return this.domManip(arguments, function (t) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var e = At(this, t); e.insertBefore(t, e.firstChild) } }) }, before: function () { return this.domManip(arguments, function (t) { this.parentNode && this.parentNode.insertBefore(t, this) }) }, after: function () { return this.domManip(arguments, function (t) { this.parentNode && this.parentNode.insertBefore(t, this.nextSibling) }) }, remove: function (t, e) { for (var n, r = t ? _t.filter(t, this) : this, i = 0; null != (n = r[i]); i++)e || 1 !== n.nodeType || _t.cleanData(Dt(n)), n.parentNode && (e && _t.contains(n.ownerDocument, n) && Pt(Dt(n, "script")), n.parentNode.removeChild(n)); return this }, empty: function () { for (var t, e = 0; null != (t = this[e]); e++) { for (1 === t.nodeType && _t.cleanData(Dt(t, !1)); t.firstChild;)t.removeChild(t.firstChild); t.options && _t.nodeName(t, "select") && (t.options.length = 0) } return this }, clone: function (t, e) { return t = null != t && t, e = null == e ? t : e, this.map(function () { return _t.clone(this, t, e) }) }, html: function (t) { return _t.access(this, function (t) { var e = this[0] || {}, n = 0, r = this.length; if (t === E) return 1 === e.nodeType ? e.innerHTML.replace(dt, "") : E; if (!("string" != typeof t || wt.test(t) || !_t.support.htmlSerialize && pt.test(t) || !_t.support.leadingWhitespace && gt.test(t) || St[(yt.exec(t) || ["", ""])[1].toLowerCase()])) { t = t.replace(mt, "<$1></$2>"); try { for (; n < r; n++)1 === (e = this[n] || {}).nodeType && (_t.cleanData(Dt(e, !1)), e.innerHTML = t); e = 0 } catch (t) { } } e && this.empty().append(t) }, null, t, arguments.length) }, replaceWith: function () { var r = _t.map(this, function (t) { return [t.nextSibling, t.parentNode] }), i = 0; return this.domManip(arguments, function (t) { var e = r[i++], n = r[i++]; n && (e && e.parentNode !== n && (e = this.nextSibling), _t(this).remove(), n.insertBefore(t, e)) }, !0), i ? this : this.remove() }, detach: function (t) { return this.remove(t, !0) }, domManip: function (n, r, i) { n = m.apply([], n); var t, e, o, s, a, l, u = 0, c = this.length, f = this, h = c - 1, d = n[0], p = _t.isFunction(d); if (p || !(c <= 1 || "string" != typeof d || _t.support.checkClone) && Et.test(d)) return this.each(function (t) { var e = f.eq(t); p && (n[0] = d.call(this, t, e.html())), e.domManip(n, r, i) }); if (c && (t = (l = _t.buildFragment(n, this[0].ownerDocument, !1, !i && this)).firstChild, 1 === l.childNodes.length && (l = t), t)) { for (o = (s = _t.map(Dt(l, "script"), Lt)).length; u < c; u++)e = l, u !== h && (e = _t.clone(e, !0, !0), o && _t.merge(s, Dt(e, "script"))), r.call(this[u], e, u); if (o) for (a = s[s.length - 1].ownerDocument, _t.map(s, Ct), u = 0; u < o; u++)e = s[u], Tt.test(e.type || "") && !_t._data(e, "globalEval") && _t.contains(a, e) && (e.src ? _t._evalUrl(e.src) : _t.globalEval((e.text || e.textContent || e.innerHTML || "").replace(jt, ""))); l = t = null } return this } }), _t.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (t, s) { _t.fn[t] = function (t) { for (var e, n = 0, r = [], i = _t(t), o = i.length - 1; n <= o; n++)e = n === o ? this : this.clone(!0), _t(i[n])[s](e), l.apply(r, e.get()); return this.pushStack(r) } }), _t.extend({ clone: function (t, e, n) { var r, i, o, s, a, l = _t.contains(t.ownerDocument, t); if (_t.support.html5Clone || _t.isXMLDoc(t) || !pt.test("<" + t.nodeName + ">") ? o = t.cloneNode(!0) : (Ot.innerHTML = t.outerHTML, Ot.removeChild(o = Ot.firstChild)), !(_t.support.noCloneEvent && _t.support.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || _t.isXMLDoc(t))) for (r = Dt(o), a = Dt(t), s = 0; null != (i = a[s]); ++s)r[s] && Mt(i, r[s]); if (e) if (n) for (a = a || Dt(t), r = r || Dt(o), s = 0; null != (i = a[s]); s++)Nt(i, r[s]); else Nt(t, o); return 0 < (r = Dt(o, "script")).length && Pt(r, !l && Dt(t, "script")), r = a = i = null, o }, buildFragment: function (t, e, n, r) { for (var i, o, s, a, l, u, c, f = t.length, h = ft(e), d = [], p = 0; p < f; p++)if ((o = t[p]) || 0 === o) if ("object" === _t.type(o)) _t.merge(d, o.nodeType ? [o] : o); else if (bt.test(o)) { for (a = a || h.appendChild(e.createElement("div")), l = (yt.exec(o) || ["", ""])[1].toLowerCase(), c = St[l] || St._default, a.innerHTML = c[1] + o.replace(mt, "<$1></$2>") + c[2], i = c[0]; i--;)a = a.lastChild; if (!_t.support.leadingWhitespace && gt.test(o) && d.push(e.createTextNode(gt.exec(o)[0])), !_t.support.tbody) for (i = (o = "table" !== l || vt.test(o) ? "<table>" !== c[1] || vt.test(o) ? 0 : a : a.firstChild) && o.childNodes.length; i--;)_t.nodeName(u = o.childNodes[i], "tbody") && !u.childNodes.length && o.removeChild(u); for (_t.merge(d, a.childNodes), a.textContent = ""; a.firstChild;)a.removeChild(a.firstChild); a = h.lastChild } else d.push(e.createTextNode(o)); for (a && h.removeChild(a), _t.support.appendChecked || _t.grep(Dt(d, "input"), Rt), p = 0; o = d[p++];)if ((!r || -1 === _t.inArray(o, r)) && (s = _t.contains(o.ownerDocument, o), a = Dt(h.appendChild(o), "script"), s && Pt(a), n)) for (i = 0; o = a[i++];)Tt.test(o.type || "") && n.push(o); return a = null, h }, cleanData: function (t, e) { for (var n, r, i, o, s = 0, a = _t.expando, l = _t.cache, u = _t.support.deleteExpando, c = _t.event.special; null != (n = t[s]); s++)if ((e || _t.acceptData(n)) && (o = (i = n[a]) && l[i])) { if (o.events) for (r in o.events) c[r] ? _t.event.remove(n, r) : _t.removeEvent(n, r, o.handle); l[i] && (delete l[i], u ? delete n[a] : typeof n.removeAttribute !== y ? n.removeAttribute(a) : n[a] = null, f.push(i)) } }, _evalUrl: function (t) { return _t.ajax({ url: t, type: "GET", dataType: "script", async: !1, global: !1, throws: !0 }) } }), _t.fn.extend({ wrapAll: function (e) { if (_t.isFunction(e)) return this.each(function (t) { _t(this).wrapAll(e.call(this, t)) }); if (this[0]) { var t = _t(e, this[0].ownerDocument).eq(0).clone(!0); this[0].parentNode && t.insertBefore(this[0]), t.map(function () { for (var t = this; t.firstChild && 1 === t.firstChild.nodeType;)t = t.firstChild; return t }).append(this) } return this }, wrapInner: function (n) { return _t.isFunction(n) ? this.each(function (t) { _t(this).wrapInner(n.call(this, t)) }) : this.each(function () { var t = _t(this), e = t.contents(); e.length ? e.wrapAll(n) : t.append(n) }) }, wrap: function (e) { var n = _t.isFunction(e); return this.each(function (t) { _t(this).wrapAll(n ? e.call(this, t) : e) }) }, unwrap: function () { return this.parent().each(function () { _t.nodeName(this, "body") || _t(this).replaceWith(this.childNodes) }).end() } }); var qt, It, Bt, Ht = /alpha\([^)]*\)/i, Ut = /opacity\s*=\s*([^)]*)/, Ft = /^(top|right|bottom|left)$/, Yt = /^(none|table(?!-c[ea]).+)/, zt = /^margin/, $t = RegExp("^(" + b + ")(.*)$", "i"), Wt = RegExp("^(" + b + ")(?!px)[a-z%]+$", "i"), Kt = RegExp("^([+-])=(" + b + ")", "i"), Vt = { BODY: "block" }, Xt = { position: "absolute", visibility: "hidden", display: "block" }, Qt = { letterSpacing: 0, fontWeight: 400 }, Gt = ["Top", "Right", "Bottom", "Left"], Jt = ["Webkit", "O", "Moz", "ms"]; function Zt(t, e) { if (e in t) return e; for (var n = e.charAt(0).toUpperCase() + e.slice(1), r = e, i = Jt.length; i--;)if ((e = Jt[i] + n) in t) return e; return r } function te(t, e) { return t = e || t, "none" === _t.css(t, "display") || !_t.contains(t.ownerDocument, t) } function ee(t, e) { for (var n, r, i, o = [], s = 0, a = t.length; s < a; s++)(r = t[s]).style && (o[s] = _t._data(r, "olddisplay"), n = r.style.display, e ? (o[s] || "none" !== n || (r.style.display = ""), "" === r.style.display && te(r) && (o[s] = _t._data(r, "olddisplay", oe(r.nodeName)))) : o[s] || (i = te(r), (n && "none" !== n || !i) && _t._data(r, "olddisplay", i ? n : _t.css(r, "display")))); for (s = 0; s < a; s++)(r = t[s]).style && (e && "none" !== r.style.display && "" !== r.style.display || (r.style.display = e ? o[s] || "" : "none")); return t } function ne(t, e, n) { var r = $t.exec(e); return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : e } function re(t, e, n, r, i) { for (var o = n === (r ? "border" : "content") ? 4 : "width" === e ? 1 : 0, s = 0; o < 4; o += 2)"margin" === n && (s += _t.css(t, n + Gt[o], !0, i)), r ? ("content" === n && (s -= _t.css(t, "padding" + Gt[o], !0, i)), "margin" !== n && (s -= _t.css(t, "border" + Gt[o] + "Width", !0, i))) : (s += _t.css(t, "padding" + Gt[o], !0, i), "padding" !== n && (s += _t.css(t, "border" + Gt[o] + "Width", !0, i))); return s } function ie(t, e, n) { var r = !0, i = "width" === e ? t.offsetWidth : t.offsetHeight, o = It(t), s = _t.support.boxSizing && "border-box" === _t.css(t, "boxSizing", !1, o); if (i <= 0 || null == i) { if (((i = Bt(t, e, o)) < 0 || null == i) && (i = t.style[e]), Wt.test(i)) return i; r = s && (_t.support.boxSizingReliable || i === t.style[e]), i = parseFloat(i) || 0 } return i + re(t, e, n || (s ? "border" : "content"), r, o) + "px" } function oe(t) { var e = g, n = Vt[t]; return n || ("none" !== (n = se(t, e)) && n || ((e = ((qt = (qt || _t("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(e.documentElement))[0].contentWindow || qt[0].contentDocument).document).write("<!doctype html><html><body>"), e.close(), n = se(t, e), qt.detach()), Vt[t] = n), n } function se(t, e) { var n = _t(e.createElement(t)).appendTo(e.body), r = _t.css(n[0], "display"); return n.remove(), r } _t.fn.extend({ css: function (t, e) { return _t.access(this, function (t, e, n) { var r, i, o = {}, s = 0; if (_t.isArray(e)) { for (i = It(t), r = e.length; s < r; s++)o[e[s]] = _t.css(t, e[s], !1, i); return o } return n !== E ? _t.style(t, e, n) : _t.css(t, e) }, t, e, 1 < arguments.length) }, show: function () { return ee(this, !0) }, hide: function () { return ee(this) }, toggle: function (t) { return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function () { te(this) ? _t(this).show() : _t(this).hide() }) } }), _t.extend({ cssHooks: { opacity: { get: function (t, e) { if (e) { var n = Bt(t, "opacity"); return "" === n ? "1" : n } } } }, cssNumber: { columnCount: !0, fillOpacity: !0, fontWeight: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { float: _t.support.cssFloat ? "cssFloat" : "styleFloat" }, style: function (t, e, n, r) { if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) { var i, o, s, a = _t.camelCase(e), l = t.style; if (e = _t.cssProps[a] || (_t.cssProps[a] = Zt(l, a)), s = _t.cssHooks[e] || _t.cssHooks[a], n === E) return s && "get" in s && (i = s.get(t, !1, r)) !== E ? i : l[e]; if ("string" === (o = typeof n) && (i = Kt.exec(n)) && (n = (i[1] + 1) * i[2] + parseFloat(_t.css(t, e)), o = "number"), !(null == n || "number" === o && isNaN(n) || ("number" !== o || _t.cssNumber[a] || (n += "px"), _t.support.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (l[e] = "inherit"), s && "set" in s && (n = s.set(t, n, r)) === E))) try { l[e] = n } catch (t) { } } }, css: function (t, e, n, r) { var i, o, s, a = _t.camelCase(e); return e = _t.cssProps[a] || (_t.cssProps[a] = Zt(t.style, a)), (s = _t.cssHooks[e] || _t.cssHooks[a]) && "get" in s && (o = s.get(t, !0, n)), o === E && (o = Bt(t, e, r)), "normal" === o && e in Qt && (o = Qt[e]), "" === n || n ? (i = parseFloat(o), !0 === n || _t.isNumeric(i) ? i || 0 : o) : o } }), p.getComputedStyle ? (It = function (t) { return p.getComputedStyle(t, null) }, Bt = function (t, e, n) { var r, i, o, s = n || It(t), a = s ? s.getPropertyValue(e) || s[e] : E, l = t.style; return s && ("" !== a || _t.contains(t.ownerDocument, t) || (a = _t.style(t, e)), Wt.test(a) && zt.test(e) && (r = l.width, i = l.minWidth, o = l.maxWidth, l.minWidth = l.maxWidth = l.width = a, a = s.width, l.width = r, l.minWidth = i, l.maxWidth = o)), a }) : g.documentElement.currentStyle && (It = function (t) { return t.currentStyle }, Bt = function (t, e, n) { var r, i, o, s = n || It(t), a = s ? s[e] : E, l = t.style; return null == a && l && l[e] && (a = l[e]), Wt.test(a) && !Ft.test(e) && (r = l.left, (o = (i = t.runtimeStyle) && i.left) && (i.left = t.currentStyle.left), l.left = "fontSize" === e ? "1em" : a, a = l.pixelLeft + "px", l.left = r, o && (i.left = o)), "" === a ? "auto" : a }), _t.each(["height", "width"], function (t, i) { _t.cssHooks[i] = { get: function (t, e, n) { return e ? 0 === t.offsetWidth && Yt.test(_t.css(t, "display")) ? _t.swap(t, Xt, function () { return ie(t, i, n) }) : ie(t, i, n) : E }, set: function (t, e, n) { var r = n && It(t); return ne(0, e, n ? re(t, i, n, _t.support.boxSizing && "border-box" === _t.css(t, "boxSizing", !1, r), r) : 0) } } }), _t.support.opacity || (_t.cssHooks.opacity = { get: function (t, e) { return Ut.test((e && t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : e ? "1" : "" }, set: function (t, e) { var n = t.style, r = t.currentStyle, i = _t.isNumeric(e) ? "alpha(opacity=" + 100 * e + ")" : "", o = r && r.filter || n.filter || ""; ((n.zoom = 1) <= e || "" === e) && "" === _t.trim(o.replace(Ht, "")) && n.removeAttribute && (n.removeAttribute("filter"), "" === e || r && !r.filter) || (n.filter = Ht.test(o) ? o.replace(Ht, i) : o + " " + i) } }), _t(function () { _t.support.reliableMarginRight || (_t.cssHooks.marginRight = { get: function (t, e) { return e ? _t.swap(t, { display: "inline-block" }, Bt, [t, "marginRight"]) : E } }), !_t.support.pixelPosition && _t.fn.position && _t.each(["top", "left"], function (t, n) { _t.cssHooks[n] = { get: function (t, e) { return e ? (e = Bt(t, n), Wt.test(e) ? _t(t).position()[n] + "px" : e) : E } } }) }), _t.expr && _t.expr.filters && (_t.expr.filters.hidden = function (t) { return t.offsetWidth <= 0 && t.offsetHeight <= 0 || !_t.support.reliableHiddenOffsets && "none" === (t.style && t.style.display || _t.css(t, "display")) }, _t.expr.filters.visible = function (t) { return !_t.expr.filters.hidden(t) }), _t.each({ margin: "", padding: "", border: "Width" }, function (i, o) { _t.cssHooks[i + o] = { expand: function (t) { for (var e = 0, n = {}, r = "string" == typeof t ? t.split(" ") : [t]; e < 4; e++)n[i + Gt[e] + o] = r[e] || r[e - 2] || r[0]; return n } }, zt.test(i) || (_t.cssHooks[i + o].set = ne) }); var ae = /%20/g, le = /\[\]$/, ue = /\r?\n/g, ce = /^(?:submit|button|image|reset|file)$/i, fe = /^(?:input|select|textarea|keygen)/i; function he(n, t, r, i) { var e; if (_t.isArray(t)) _t.each(t, function (t, e) { r || le.test(n) ? i(n, e) : he(n + "[" + ("object" == typeof e ? t : "") + "]", e, r, i) }); else if (r || "object" !== _t.type(t)) i(n, t); else for (e in t) he(n + "[" + e + "]", t[e], r, i) } _t.fn.extend({ serialize: function () { return _t.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { var t = _t.prop(this, "elements"); return t ? _t.makeArray(t) : this }).filter(function () { var t = this.type; return this.name && !_t(this).is(":disabled") && fe.test(this.nodeName) && !ce.test(t) && (this.checked || !xt.test(t)) }).map(function (t, e) { var n = _t(this).val(); return null == n ? null : _t.isArray(n) ? _t.map(n, function (t) { return { name: e.name, value: t.replace(ue, "\r\n") } }) : { name: e.name, value: n.replace(ue, "\r\n") } }).get() } }), _t.param = function (t, e) { var n, r = [], i = function (t, e) { e = _t.isFunction(e) ? e() : null == e ? "" : e, r[r.length] = encodeURIComponent(t) + "=" + encodeURIComponent(e) }; if (e === E && (e = _t.ajaxSettings && _t.ajaxSettings.traditional), _t.isArray(t) || t.jquery && !_t.isPlainObject(t)) _t.each(t, function () { i(this.name, this.value) }); else for (n in t) he(n, t[n], e, i); return r.join("&").replace(ae, "+") }, _t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (t, n) { _t.fn[n] = function (t, e) { return 0 < arguments.length ? this.on(n, null, t, e) : this.trigger(n) } }), _t.fn.extend({ hover: function (t, e) { return this.mouseenter(t).mouseleave(e || t) }, bind: function (t, e, n) { return this.on(t, null, e, n) }, unbind: function (t, e) { return this.off(t, null, e) }, delegate: function (t, e, n, r) { return this.on(e, t, n, r) }, undelegate: function (t, e, n) { return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n) } }); var de, pe, ge = _t.now(), me = /\?/, ye = /#.*$/, ve = /([?&])_=[^&]*/, be = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, _e = /^(?:GET|HEAD)$/, we = /^\/\//, xe = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/, Ee = _t.fn.load, Te = {}, ke = {}, je = "*/".concat("*"); try { pe = t.href } catch (t) { (pe = g.createElement("a")).href = "", pe = pe.href } function Se(o) { return function (t, e) { "string" != typeof t && (e = t, t = "*"); var n, r = 0, i = t.toLowerCase().match(T) || []; if (_t.isFunction(e)) for (; n = i[r++];)"+" === n[0] ? (n = n.slice(1) || "*", (o[n] = o[n] || []).unshift(e)) : (o[n] = o[n] || []).push(e) } } function Oe(e, i, o, s) { var a = {}, l = e === ke; function u(t) { var r; return a[t] = !0, _t.each(e[t] || [], function (t, e) { var n = e(i, o, s); return "string" != typeof n || l || a[n] ? l ? !(r = n) : E : (i.dataTypes.unshift(n), u(n), !1) }), r } return u(i.dataTypes[0]) || !a["*"] && u("*") } function Ae(t, e) { var n, r, i = _t.ajaxSettings.flatOptions || {}; for (r in e) e[r] !== E && ((i[r] ? t : n || (n = {}))[r] = e[r]); return n && _t.extend(!0, t, n), t } de = xe.exec(pe.toLowerCase()) || [], _t.fn.load = function (t, e, n) { if ("string" != typeof t && Ee) return Ee.apply(this, arguments); var r, i, o, s = this, a = t.indexOf(" "); return 0 <= a && (r = t.slice(a, t.length), t = t.slice(0, a)), _t.isFunction(e) ? (n = e, e = E) : e && "object" == typeof e && (o = "POST"), 0 < s.length && _t.ajax({ url: t, type: o, dataType: "html", data: e }).done(function (t) { i = arguments, s.html(r ? _t("<div>").append(_t.parseHTML(t)).find(r) : t) }).complete(n && function (t, e) { s.each(n, i || [t.responseText, e, t]) }), this }, _t.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (t, e) { _t.fn[e] = function (t) { return this.on(e, t) } }), _t.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: pe, type: "GET", isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(de[1]), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": je, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /xml/, html: /html/, json: /json/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": _t.parseJSON, "text xml": _t.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (t, e) { return e ? Ae(Ae(t, _t.ajaxSettings), e) : Ae(_t.ajaxSettings, t) }, ajaxPrefilter: Se(Te), ajaxTransport: Se(ke), ajax: function (t, e) { "object" == typeof t && (e = t, t = E), e = e || {}; var n, r, c, f, h, d, p, i, g = _t.ajaxSetup({}, e), m = g.context || g, y = g.context && (m.nodeType || m.jquery) ? _t(m) : _t.event, v = _t.Deferred(), b = _t.Callbacks("once memory"), _ = g.statusCode || {}, o = {}, s = {}, w = 0, a = "canceled", x = { readyState: 0, getResponseHeader: function (t) { var e; if (2 === w) { if (!i) for (i = {}; e = be.exec(f);)i[e[1].toLowerCase()] = e[2]; e = i[t.toLowerCase()] } return null == e ? null : e }, getAllResponseHeaders: function () { return 2 === w ? f : null }, setRequestHeader: function (t, e) { var n = t.toLowerCase(); return w || (t = s[n] = s[n] || t, o[t] = e), this }, overrideMimeType: function (t) { return w || (g.mimeType = t), this }, statusCode: function (t) { var e; if (t) if (w < 2) for (e in t) _[e] = [_[e], t[e]]; else x.always(t[x.status]); return this }, abort: function (t) { var e = t || a; return p && p.abort(e), l(0, e), this } }; if (v.promise(x).complete = b.add, x.success = x.done, x.error = x.fail, g.url = ((t || g.url || pe) + "").replace(ye, "").replace(we, de[1] + "//"), g.type = e.method || e.type || g.method || g.type, g.dataTypes = _t.trim(g.dataType || "*").toLowerCase().match(T) || [""], null == g.crossDomain && (n = xe.exec(g.url.toLowerCase()), g.crossDomain = !(!n || n[1] === de[1] && n[2] === de[2] && (n[3] || ("http:" === n[1] ? "80" : "443")) === (de[3] || ("http:" === de[1] ? "80" : "443")))), g.data && g.processData && "string" != typeof g.data && (g.data = _t.param(g.data, g.traditional)), Oe(Te, g, e, x), 2 === w) return x; for (r in (d = g.global) && 0 == _t.active++ && _t.event.trigger("ajaxStart"), g.type = g.type.toUpperCase(), g.hasContent = !_e.test(g.type), c = g.url, g.hasContent || (g.data && (c = g.url += (me.test(c) ? "&" : "?") + g.data, delete g.data), !1 === g.cache && (g.url = ve.test(c) ? c.replace(ve, "$1_=" + ge++) : c + (me.test(c) ? "&" : "?") + "_=" + ge++)), g.ifModified && (_t.lastModified[c] && x.setRequestHeader("If-Modified-Since", _t.lastModified[c]), _t.etag[c] && x.setRequestHeader("If-None-Match", _t.etag[c])), (g.data && g.hasContent && !1 !== g.contentType || e.contentType) && x.setRequestHeader("Content-Type", g.contentType), x.setRequestHeader("Accept", g.dataTypes[0] && g.accepts[g.dataTypes[0]] ? g.accepts[g.dataTypes[0]] + ("*" !== g.dataTypes[0] ? ", " + je + "; q=0.01" : "") : g.accepts["*"]), g.headers) x.setRequestHeader(r, g.headers[r]); if (g.beforeSend && (!1 === g.beforeSend.call(m, x, g) || 2 === w)) return x.abort(); for (r in a = "abort", { success: 1, error: 1, complete: 1 }) x[r](g[r]); if (p = Oe(ke, g, e, x)) { x.readyState = 1, d && y.trigger("ajaxSend", [x, g]), g.async && 0 < g.timeout && (h = setTimeout(function () { x.abort("timeout") }, g.timeout)); try { w = 1, p.send(o, l) } catch (t) { if (!(w < 2)) throw t; l(-1, t) } } else l(-1, "No Transport"); function l(t, e, n, r) { var i, o, s, a, l, u = e; 2 !== w && (w = 2, h && clearTimeout(h), p = E, f = r || "", x.readyState = 0 < t ? 4 : 0, i = 200 <= t && t < 300 || 304 === t, n && (a = function (t, e, n) { var r, i, o, s, a = t.contents, l = t.dataTypes; for (; "*" === l[0];)l.shift(), i === E && (i = t.mimeType || e.getResponseHeader("Content-Type")); if (i) for (s in a) if (a[s] && a[s].test(i)) { l.unshift(s); break } if (l[0] in n) o = l[0]; else { for (s in n) { if (!l[0] || t.converters[s + " " + l[0]]) { o = s; break } r || (r = s) } o = o || r } return o ? (o !== l[0] && l.unshift(o), n[o]) : E }(g, x, n)), a = function (t, e, n, r) { var i, o, s, a, l, u = {}, c = t.dataTypes.slice(); if (c[1]) for (s in t.converters) u[s.toLowerCase()] = t.converters[s]; o = c.shift(); for (; o;)if (t.responseFields[o] && (n[t.responseFields[o]] = e), !l && r && t.dataFilter && (e = t.dataFilter(e, t.dataType)), l = o, o = c.shift()) if ("*" === o) o = l; else if ("*" !== l && l !== o) { if (!(s = u[l + " " + o] || u["* " + o])) for (i in u) if ((a = i.split(" "))[1] === o && (s = u[l + " " + a[0]] || u["* " + a[0]])) { !0 === s ? s = u[i] : !0 !== u[i] && (o = a[0], c.unshift(a[1])); break } if (!0 !== s) if (s && t.throws) e = s(e); else try { e = s(e) } catch (t) { return { state: "parsererror", error: s ? t : "No conversion from " + l + " to " + o } } } return { state: "success", data: e } }(g, a, x, i), i ? (g.ifModified && ((l = x.getResponseHeader("Last-Modified")) && (_t.lastModified[c] = l), (l = x.getResponseHeader("etag")) && (_t.etag[c] = l)), 204 === t || "HEAD" === g.type ? u = "nocontent" : 304 === t ? u = "notmodified" : (u = a.state, o = a.data, i = !(s = a.error))) : (s = u, (t || !u) && (u = "error", t < 0 && (t = 0))), x.status = t, x.statusText = (e || u) + "", i ? v.resolveWith(m, [o, u, x]) : v.rejectWith(m, [x, u, s]), x.statusCode(_), _ = E, d && y.trigger(i ? "ajaxSuccess" : "ajaxError", [x, g, i ? o : s]), b.fireWith(m, [x, u]), d && (y.trigger("ajaxComplete", [x, g]), --_t.active || _t.event.trigger("ajaxStop"))) } return x }, getJSON: function (t, e, n) { return _t.get(t, e, n, "json") }, getScript: function (t, e) { return _t.get(t, E, e, "script") } }), _t.each(["get", "post"], function (t, i) { _t[i] = function (t, e, n, r) { return _t.isFunction(e) && (r = r || n, n = e, e = E), _t.ajax({ url: t, type: i, dataType: r, data: e, success: n }) } }), _t.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /(?:java|ecma)script/ }, converters: { "text script": function (t) { return _t.globalEval(t), t } } }), _t.ajaxPrefilter("script", function (t) { t.cache === E && (t.cache = !1), t.crossDomain && (t.type = "GET", t.global = !1) }), _t.ajaxTransport("script", function (e) { if (e.crossDomain) { var r, i = g.head || _t("head")[0] || g.documentElement; return { send: function (t, n) { (r = g.createElement("script")).async = !0, e.scriptCharset && (r.charset = e.scriptCharset), r.src = e.url, r.onload = r.onreadystatechange = function (t, e) { (e || !r.readyState || /loaded|complete/.test(r.readyState)) && (r.onload = r.onreadystatechange = null, r.parentNode && r.parentNode.removeChild(r), r = null, e || n(200, "success")) }, i.insertBefore(r, i.firstChild) }, abort: function () { r && r.onload(E, !0) } } } }); var Le = [], Ce = /(=)\?(?=&|$)|\?\?/; _t.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var t = Le.pop() || _t.expando + "_" + ge++; return this[t] = !0, t } }), _t.ajaxPrefilter("json jsonp", function (t, e, n) { var r, i, o, s = !1 !== t.jsonp && (Ce.test(t.url) ? "url" : "string" == typeof t.data && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && Ce.test(t.data) && "data"); return s || "jsonp" === t.dataTypes[0] ? (r = t.jsonpCallback = _t.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace(Ce, "$1" + r) : !1 !== t.jsonp && (t.url += (me.test(t.url) ? "&" : "?") + t.jsonp + "=" + r), t.converters["script json"] = function () { return o || _t.error(r + " was not called"), o[0] }, t.dataTypes[0] = "json", i = p[r], p[r] = function () { o = arguments }, n.always(function () { p[r] = i, t[r] && (t.jsonpCallback = e.jsonpCallback, Le.push(r)), o && _t.isFunction(i) && i(o[0]), o = i = E }), "script") : E }); var Pe, Ne, Me = 0, De = p.ActiveXObject && function () { var t; for (t in Pe) Pe[t](E, !0) }; function Re() { try { return new p.XMLHttpRequest } catch (t) { } } _t.ajaxSettings.xhr = p.ActiveXObject ? function () { return !this.isLocal && Re() || function () { try { return new p.ActiveXObject("Microsoft.XMLHTTP") } catch (t) { } }() } : Re, Ne = _t.ajaxSettings.xhr(), _t.support.cors = !!Ne && "withCredentials" in Ne, (Ne = _t.support.ajax = !!Ne) && _t.ajaxTransport(function (u) { var c; if (!u.crossDomain || _t.support.cors) return { send: function (t, s) { var a, e, l = u.xhr(); if (u.username ? l.open(u.type, u.url, u.async, u.username, u.password) : l.open(u.type, u.url, u.async), u.xhrFields) for (e in u.xhrFields) l[e] = u.xhrFields[e]; u.mimeType && l.overrideMimeType && l.overrideMimeType(u.mimeType), u.crossDomain || t["X-Requested-With"] || (t["X-Requested-With"] = "XMLHttpRequest"); try { for (e in t) l.setRequestHeader(e, t[e]) } catch (t) { } l.send(u.hasContent && u.data || null), c = function (t, e) { var n, r, i, o; try { if (c && (e || 4 === l.readyState)) if (c = E, a && (l.onreadystatechange = _t.noop, De && delete Pe[a]), e) 4 !== l.readyState && l.abort(); else { o = {}, n = l.status, r = l.getAllResponseHeaders(), "string" == typeof l.responseText && (o.text = l.responseText); try { i = l.statusText } catch (t) { i = "" } n || !u.isLocal || u.crossDomain ? 1223 === n && (n = 204) : n = o.text ? 200 : 404 } } catch (t) { e || s(-1, t) } o && s(n, i, o, r) }, u.async ? 4 === l.readyState ? setTimeout(c) : (a = ++Me, De && (Pe || (Pe = {}, _t(p).unload(De)), Pe[a] = c), l.onreadystatechange = c) : c() }, abort: function () { c && c(E, !0) } } }); var qe, Ie, Be = /^(?:toggle|show|hide)$/, He = RegExp("^(?:([+-])=|)(" + b + ")([a-z%]*)$", "i"), Ue = /queueHooks$/, Fe = [function (e, t, n) { var r, i, o, s, a, l, u = this, c = {}, f = e.style, h = e.nodeType && te(e), d = _t._data(e, "fxshow"); for (r in n.queue || (null == (a = _t._queueHooks(e, "fx")).unqueued && (a.unqueued = 0, l = a.empty.fire, a.empty.fire = function () { a.unqueued || l() }), a.unqueued++ , u.always(function () { u.always(function () { a.unqueued-- , _t.queue(e, "fx").length || a.empty.fire() }) })), 1 === e.nodeType && ("height" in t || "width" in t) && (n.overflow = [f.overflow, f.overflowX, f.overflowY], "inline" === _t.css(e, "display") && "none" === _t.css(e, "float") && (_t.support.inlineBlockNeedsLayout && "inline" !== oe(e.nodeName) ? f.zoom = 1 : f.display = "inline-block")), n.overflow && (f.overflow = "hidden", _t.support.shrinkWrapBlocks || u.always(function () { f.overflow = n.overflow[0], f.overflowX = n.overflow[1], f.overflowY = n.overflow[2] })), t) if (i = t[r], Be.exec(i)) { if (delete t[r], o = o || "toggle" === i, i === (h ? "hide" : "show")) continue; c[r] = d && d[r] || _t.style(e, r) } if (!_t.isEmptyObject(c)) for (r in d ? "hidden" in d && (h = d.hidden) : d = _t._data(e, "fxshow", {}), o && (d.hidden = !h), h ? _t(e).show() : u.done(function () { _t(e).hide() }), u.done(function () { var t; for (t in _t._removeData(e, "fxshow"), c) _t.style(e, t, c[t]) }), c) s = $e(h ? d[r] : 0, r, u), r in d || (d[r] = s.start, h && (s.end = s.start, s.start = "width" === r || "height" === r ? 1 : 0)) }], Ye = { "*": [function (t, e) { var n = this.createTween(t, e), r = n.cur(), i = He.exec(e), o = i && i[3] || (_t.cssNumber[t] ? "" : "px"), s = (_t.cssNumber[t] || "px" !== o && +r) && He.exec(_t.css(n.elem, t)), a = 1, l = 20; if (s && s[3] !== o) for (o = o || s[3], i = i || [], s = +r || 1; s /= a = a || ".5", _t.style(n.elem, t, s + o), a !== (a = n.cur() / r) && 1 !== a && --l;); return i && (s = n.start = +s || +r || 0, n.unit = o, n.end = i[1] ? s + (i[1] + 1) * i[2] : +i[2]), n }] }; function ze() { return setTimeout(function () { qe = E }), qe = _t.now() } function $e(t, e, n) { for (var r, i = (Ye[e] || []).concat(Ye["*"]), o = 0, s = i.length; o < s; o++)if (r = i[o].call(n, e, t)) return r } function We(o, t, e) { var n, s, r = 0, i = Fe.length, a = _t.Deferred().always(function () { delete l.elem }), l = function () { if (s) return !1; for (var t = qe || ze(), e = Math.max(0, u.startTime + u.duration - t), n = 1 - (e / u.duration || 0), r = 0, i = u.tweens.length; r < i; r++)u.tweens[r].run(n); return a.notifyWith(o, [u, n, e]), n < 1 && i ? e : (a.resolveWith(o, [u]), !1) }, u = a.promise({ elem: o, props: _t.extend({}, t), opts: _t.extend(!0, { specialEasing: {} }, e), originalProperties: t, originalOptions: e, startTime: qe || ze(), duration: e.duration, tweens: [], createTween: function (t, e) { var n = _t.Tween(o, u.opts, t, e, u.opts.specialEasing[t] || u.opts.easing); return u.tweens.push(n), n }, stop: function (t) { var e = 0, n = t ? u.tweens.length : 0; if (s) return this; for (s = !0; e < n; e++)u.tweens[e].run(1); return t ? a.resolveWith(o, [u, t]) : a.rejectWith(o, [u, t]), this } }), c = u.props; for (function (t, e) { var n, r, i, o, s; for (n in t) if (r = _t.camelCase(n), i = e[r], o = t[n], _t.isArray(o) && (i = o[1], o = t[n] = o[0]), n !== r && (t[r] = o, delete t[n]), (s = _t.cssHooks[r]) && "expand" in s) for (n in o = s.expand(o), delete t[r], o) n in t || (t[n] = o[n], e[n] = i); else e[r] = i }(c, u.opts.specialEasing); r < i; r++)if (n = Fe[r].call(u, o, c, u.opts)) return n; return _t.map(c, $e, u), _t.isFunction(u.opts.start) && u.opts.start.call(o, u), _t.fx.timer(_t.extend(l, { elem: o, anim: u, queue: u.opts.queue })), u.progress(u.opts.progress).done(u.opts.done, u.opts.complete).fail(u.opts.fail).always(u.opts.always) } function Ke(t, e, n, r, i) { return new Ke.prototype.init(t, e, n, r, i) } function Ve(t, e) { var n, r = { height: t }, i = 0; for (e = e ? 1 : 0; i < 4; i += 2 - e)r["margin" + (n = Gt[i])] = r["padding" + n] = t; return e && (r.opacity = r.width = t), r } function Xe(t) { return _t.isWindow(t) ? t : 9 === t.nodeType && (t.defaultView || t.parentWindow) } _t.Animation = _t.extend(We, { tweener: function (t, e) { _t.isFunction(t) ? (e = t, t = ["*"]) : t = t.split(" "); for (var n, r = 0, i = t.length; r < i; r++)n = t[r], Ye[n] = Ye[n] || [], Ye[n].unshift(e) }, prefilter: function (t, e) { e ? Fe.unshift(t) : Fe.push(t) } }), ((_t.Tween = Ke).prototype = { constructor: Ke, init: function (t, e, n, r, i, o) { this.elem = t, this.prop = n, this.easing = i || "swing", this.options = e, this.start = this.now = this.cur(), this.end = r, this.unit = o || (_t.cssNumber[n] ? "" : "px") }, cur: function () { var t = Ke.propHooks[this.prop]; return t && t.get ? t.get(this) : Ke.propHooks._default.get(this) }, run: function (t) { var e, n = Ke.propHooks[this.prop]; return this.pos = e = this.options.duration ? _t.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : Ke.propHooks._default.set(this), this } }).init.prototype = Ke.prototype, (Ke.propHooks = { _default: { get: function (t) { var e; return null == t.elem[t.prop] || t.elem.style && null != t.elem.style[t.prop] ? (e = _t.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0 : t.elem[t.prop] }, set: function (t) { _t.fx.step[t.prop] ? _t.fx.step[t.prop](t) : t.elem.style && (null != t.elem.style[_t.cssProps[t.prop]] || _t.cssHooks[t.prop]) ? _t.style(t.elem, t.prop, t.now + t.unit) : t.elem[t.prop] = t.now } } }).scrollTop = Ke.propHooks.scrollLeft = { set: function (t) { t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now) } }, _t.each(["toggle", "show", "hide"], function (t, r) { var i = _t.fn[r]; _t.fn[r] = function (t, e, n) { return null == t || "boolean" == typeof t ? i.apply(this, arguments) : this.animate(Ve(r, !0), t, e, n) } }), _t.fn.extend({ fadeTo: function (t, e, n, r) { return this.filter(te).css("opacity", 0).show().end().animate({ opacity: e }, t, n, r) }, animate: function (e, t, n, r) { var i = _t.isEmptyObject(e), o = _t.speed(t, n, r), s = function () { var t = We(this, _t.extend({}, e), o); (i || _t._data(this, "finish")) && t.stop(!0) }; return s.finish = s, i || !1 === o.queue ? this.each(s) : this.queue(o.queue, s) }, stop: function (i, t, o) { var s = function (t) { var e = t.stop; delete t.stop, e(o) }; return "string" != typeof i && (o = t, t = i, i = E), t && !1 !== i && this.queue(i || "fx", []), this.each(function () { var t = !0, e = null != i && i + "queueHooks", n = _t.timers, r = _t._data(this); if (e) r[e] && r[e].stop && s(r[e]); else for (e in r) r[e] && r[e].stop && Ue.test(e) && s(r[e]); for (e = n.length; e--;)n[e].elem !== this || null != i && n[e].queue !== i || (n[e].anim.stop(o), t = !1, n.splice(e, 1)); (t || !o) && _t.dequeue(this, i) }) }, finish: function (s) { return !1 !== s && (s = s || "fx"), this.each(function () { var t, e = _t._data(this), n = e[s + "queue"], r = e[s + "queueHooks"], i = _t.timers, o = n ? n.length : 0; for (e.finish = !0, _t.queue(this, s, []), r && r.stop && r.stop.call(this, !0), t = i.length; t--;)i[t].elem === this && i[t].queue === s && (i[t].anim.stop(!0), i.splice(t, 1)); for (t = 0; t < o; t++)n[t] && n[t].finish && n[t].finish.call(this); delete e.finish }) } }), _t.each({ slideDown: Ve("show"), slideUp: Ve("hide"), slideToggle: Ve("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (t, r) { _t.fn[t] = function (t, e, n) { return this.animate(r, t, e, n) } }), _t.speed = function (t, e, n) { var r = t && "object" == typeof t ? _t.extend({}, t) : { complete: n || !n && e || _t.isFunction(t) && t, duration: t, easing: n && e || e && !_t.isFunction(e) && e }; return r.duration = _t.fx.off ? 0 : "number" == typeof r.duration ? r.duration : r.duration in _t.fx.speeds ? _t.fx.speeds[r.duration] : _t.fx.speeds._default, (null == r.queue || !0 === r.queue) && (r.queue = "fx"), r.old = r.complete, r.complete = function () { _t.isFunction(r.old) && r.old.call(this), r.queue && _t.dequeue(this, r.queue) }, r }, _t.easing = { linear: function (t) { return t }, swing: function (t) { return .5 - Math.cos(t * Math.PI) / 2 } }, _t.timers = [], _t.fx = Ke.prototype.init, _t.fx.tick = function () { var t, e = _t.timers, n = 0; for (qe = _t.now(); e.length > n; n++)(t = e[n])() || e[n] !== t || e.splice(n--, 1); e.length || _t.fx.stop(), qe = E }, _t.fx.timer = function (t) { t() && _t.timers.push(t) && _t.fx.start() }, _t.fx.interval = 13, _t.fx.start = function () { Ie || (Ie = setInterval(_t.fx.tick, _t.fx.interval)) }, _t.fx.stop = function () { clearInterval(Ie), Ie = null }, _t.fx.speeds = { slow: 600, fast: 200, _default: 400 }, _t.fx.step = {}, _t.expr && _t.expr.filters && (_t.expr.filters.animated = function (e) { return _t.grep(_t.timers, function (t) { return e === t.elem }).length }), _t.fn.offset = function (e) { if (arguments.length) return e === E ? this : this.each(function (t) { _t.offset.setOffset(this, e, t) }); var t, n, r = { top: 0, left: 0 }, i = this[0], o = i && i.ownerDocument; return o ? (t = o.documentElement, _t.contains(t, i) ? (typeof i.getBoundingClientRect !== y && (r = i.getBoundingClientRect()), n = Xe(o), { top: r.top + (n.pageYOffset || t.scrollTop) - (t.clientTop || 0), left: r.left + (n.pageXOffset || t.scrollLeft) - (t.clientLeft || 0) }) : r) : void 0 }, _t.offset = { setOffset: function (t, e, n) { var r = _t.css(t, "position"); "static" === r && (t.style.position = "relative"); var i, o, s = _t(t), a = s.offset(), l = _t.css(t, "top"), u = _t.css(t, "left"), c = {}, f = {}; ("absolute" === r || "fixed" === r) && -1 < _t.inArray("auto", [l, u]) ? (i = (f = s.position()).top, o = f.left) : (i = parseFloat(l) || 0, o = parseFloat(u) || 0), _t.isFunction(e) && (e = e.call(t, n, a)), null != e.top && (c.top = e.top - a.top + i), null != e.left && (c.left = e.left - a.left + o), "using" in e ? e.using.call(t, c) : s.css(c) } }, _t.fn.extend({ position: function () { if (this[0]) { var t, e, n = { top: 0, left: 0 }, r = this[0]; return "fixed" === _t.css(r, "position") ? e = r.getBoundingClientRect() : (t = this.offsetParent(), e = this.offset(), _t.nodeName(t[0], "html") || (n = t.offset()), n.top += _t.css(t[0], "borderTopWidth", !0), n.left += _t.css(t[0], "borderLeftWidth", !0)), { top: e.top - n.top - _t.css(r, "marginTop", !0), left: e.left - n.left - _t.css(r, "marginLeft", !0) } } }, offsetParent: function () { return this.map(function () { for (var t = this.offsetParent || r; t && !_t.nodeName(t, "html") && "static" === _t.css(t, "position");)t = t.offsetParent; return t || r }) } }), _t.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (e, i) { var o = /Y/.test(i); _t.fn[e] = function (t) { return _t.access(this, function (t, e, n) { var r = Xe(t); return n === E ? r ? i in r ? r[i] : r.document.documentElement[e] : t[e] : (r ? r.scrollTo(o ? _t(r).scrollLeft() : n, o ? n : _t(r).scrollTop()) : t[e] = n, E) }, e, t, arguments.length, null) } }), _t.each({ Height: "height", Width: "width" }, function (o, s) { _t.each({ padding: "inner" + o, content: s, "": "outer" + o }, function (r, t) { _t.fn[t] = function (t, e) { var n = arguments.length && (r || "boolean" != typeof t), i = r || (!0 === t || !0 === e ? "margin" : "border"); return _t.access(this, function (t, e, n) { var r; return _t.isWindow(t) ? t.document.documentElement["client" + o] : 9 === t.nodeType ? (r = t.documentElement, Math.max(t.body["scroll" + o], r["scroll" + o], t.body["offset" + o], r["offset" + o], r["client" + o])) : n === E ? _t.css(t, e, i) : _t.style(t, e, n, i) }, s, n ? t : E, n, null) } }) }), _t.fn.size = function () { return this.length }, _t.fn.andSelf = _t.fn.addBack, "object" == typeof module && module && "object" == typeof module.exports ? module.exports = _t : (p.jQuery = p.$ = _t, "function" == typeof define && define.amd && define("jquery", [], function () { return _t })) }(window), function (t) { var s = {}, e = t.Krafty2; s._ = _.noConflict(), s.$ = $.noConflict(), s.options = {}, s.version = "1.0.0", s.vars = { scripts: [], styles: [], templates: [], dev: !0 }, s.States = {}, s.Models = {}, s.Views = {}, s.Templates = {}, s.noConflict = function () { return global.Krafty2 = e, s }, s.config = function (t) { s.options = s._.defaultsDeep(t, s.options), s.log("Config called with the following parameters ", t) }, s.stringifyTemplate = function (t) { var o = ""; return function t(e) { if (o += "{", o += '"dummy": ""', e.tagName && (o += ',"tagName":' + JSON.stringify(e.tagName)), e.type && (o += ',"type":' + JSON.stringify(e.type)), e.value && (o += ',"value":' + JSON.stringify(e.value)), e.scripts && (o += ',"scripts":' + JSON.stringify(e.scripts)), e.template && (o += ',"template":' + JSON.stringify(e.template.source)), e.attribs) { o += ',"attribs":{'; var n = 0; for (var r in e.attribs) o += 0 === n ? "" : ",", o += '"' + r + '":', t(e.attribs[r]), n++; o += "}" } if (e.children) { o += ',"children":['; for (var i = 0; i < e.children.length; i++)o += 0 === i ? "" : ",", t(e.children[i]); o += "]" } o += "}" }(t), o }, s.parseTemplate = function (t) { var e = JSON.parse(t); return function t(e) { if (e.template && (e.template = new Function("return (" + e.template + ").apply(null, arguments);")), e.attribs) for (var n in e.attribs) t(e.attribs[n]); if (e.children) for (var r = 0; r < e.children.length; r++)t(e.children[r]) }(e), e }, s.loadTemplates = function (n, r) { if (s._.isArray(n)) for (var i = 0, t = 0; t < n.length; t++)if (s.vars.templates[n[t]]) s.log("%cLoaded " + s.vars.templates[n[t]], "color: green"), ++i === n.length && (s.$("body").append(s.$(o)), r()); else { var o = ""; if (-1 !== n[t].indexOf(".js")) { var e = document.createElement("script"); e.src = n[t], function (t) { e.onload = function () { i++ , s.vars.templates[t] = t, s.log("%cLoaded " + t, "color: green"), i === n.length && r() } }(n[t]), document.body.appendChild(e) } else !function (e) { s.$.ajax({ type: "GET", dataType: "text", url: e, cache: !0, success: function (t) { i++ , s.vars.templates[e] = e, s.log("%cLoaded " + e, "color: green"), s.$("<div>" + t + "</div>").find("script").each(function () { s.Templates[s.$(this).attr("id")] = s.HTMLParser(s.$(this).text()) }), o += t, i === n.length && (s.$("body").append(s.$(o)), r()) }, error: function () { } }) }(n[t]) } }, s.loadScripts = function (r, i) { if (s._.isArray(r)) { var o = function (t) { if (s.vars.scripts[r[t]]) s.log("%cLoaded " + r[t], "color: green"), t === r.length - 1 ? i() : o(t + 1); else { var e = document.createElement("script"); $(e).attr("crossorigin", "anonymous"), e.src = r[t], n = r[t], e.onload = function () { s.vars.scripts[n] = n, s.log("%cLoaded " + n, "color: green"), t === r.length - 1 ? i() : o(t + 1) }, document.body.appendChild(e) } var n }; o(0) } }, s.loadStyles = function (e, n) { if (s._.isArray(e)) for (var r = 0, t = 0; t < e.length; t++)if (s.vars.styles[e[t]])++r === e.length && n(); else { var i = document.createElement("link"); i.rel = "stylesheet", i.href = e[t], function (t) { i.onload = function () { r++ , s.log("%cLoaded " + t, "color: green"), s.vars.styles[t] = t, r === e.length && n() } }(e[t]), document.body.appendChild(i) } }, s.load = function (t, e) { if (t) { var n = (t = s.options.bundles[t]).scripts, r = t.styles, i = t.templates; if (i) { s.log("Loading templates ..."); var o = Date.now(); s.loadTemplates(i, function () { s.log("Templates loaded %c[OK]", "color:green"), s.log("Loading took %c" + (Date.now() - o) / 1e3 + " secs", "color: green"), s.log("Loading styles ..."), s.log("Loading scripts ..."), start = Date.now(), s.loadStyles(r, function () { s.log("Styles loaded %c[OK]", "color:green"), s.log("Loading took %c" + (Date.now() - o) / 1e3 + " secs", "color: green"), s.loadScripts(n, function () { s.log("Scripts loaded %c[OK]", "color:green"), s.log("Loading took %c" + (Date.now() - o) / 1e3 + " secs", "color: green"), e() }) }) }) } else s.loadScripts(n, function () { }) } else e() }, s.log = function () { s.vars.dev && console.log.apply(console, arguments) }, s.log("Krafty2 %c" + s.version, "color: green;"), t.Krafty2 = s }(this), function () { var p = function (t) { return { template: Krafty2._.template(t) } }; Krafty2.HTMLParser = function (t) { return function (t) { Krafty2._.templateSettings = { interpolate: /\#\{\{(.+?)\}\}/g, escape: /\{\{(.+?)\}\}/g, evaluate: /\{(.+?)\}/g }; for (var e = { type: "root", tagName: "root", children: [] }, n = e, r = [e]; t.length;) { var i = t.splice(0, 1)[0]; if ("OPEN_TAG" === i.type) { var o = t.splice(0, 1)[0]; if ("IDENTIFIER" === o.type) { var s = { type: "tag", tagName: o.value, children: [], attribs: {} }; if (n.children.push(s), n = s, r.push(s), "CLOSE_TAG" === (d = t.splice(0, 1)[0]).type); else if ("FORWARD_SLASH" === d.type) "CLOSE_TAG" === t.splice(0, 1)[0].type && (delete n.children, n.type = "unary_tag", r.pop(), n = r[r.length - 1]); else if ("IDENTIFIER" === d.type) { for (var a = d, l = {}; "CLOSE_TAG" !== a.type && "FORWARD_SLASH" !== a.type;) { var u = []; if ("IDENTIFIER" !== a.type) throw new Error("Malformed HTML"); for (; "EQUALS_SIGN" !== a.type;) { if (u.push(a), "IDENTIFIER" !== a.type && "HYPHEN" !== a.type) throw new Error("Malformed HTML"); a = t.splice(0, 1)[0] } if ("STRING_LITERAL" === (a = t.splice(0, 1)[0]).type) { for (var c = "", f = 0; f < u.length; f++)c += u[f].value; var h = p(a.value); l[c] = { value: a.value, template: a.value === h.template ? null : h.template, scripts: a.value === h.template ? null : h.scripts } } a = t.splice(0, 1)[0] } if ("FORWARD_SLASH" === a.type) { if ("CLOSE_TAG" !== (a = t.splice(0, 1)[0]).type) throw new Error("Malformed HTML"); delete n.children, n.type = "unary_tag", r.pop(), n.attribs = l, n = r[r.length - 1] } else n.attribs = l } } else if ("FORWARD_SLASH" === o.type) { var d; if ("IDENTIFIER" === (d = t.splice(0, 1)[0]).type) { if (n.tagName !== d.value) throw new Error("Malformed HTML"); "CLOSE_TAG" === t.splice(0, 1)[0].type && (r.pop(), n = r[r.length - 1]) } } } else "TEXT" === i.type && (h = p(i.value), s = { type: "text", value: i.value, template: i.value === h.template ? null : h.template, scripts: i.value === h.template ? null : h.scripts }, n.children.push(s)) } return e }(function (t) { for (var e = t.split(""), n = [], r = null; e.length;) { var i = (r = e.splice(0, 1)[0]).charCodeAt(0); if (" " === r || "\n" === r || "\t" === r || "\r" === r); else if ("<" === r) n.push({ type: "OPEN_TAG", value: "<" }); else if ("!" === r) { if (n.pop(), e.length && "-" === e.slice(0, 1)[0] && "-" === e.slice(1, 2)[0]) for (; e.length;)if ("-" === (r = e.splice(0, 1)[0]) && "-" === e.slice(0, 1)[0] && ">" === e.slice(1, 2)[0]) { e.splice(0, 2); break } } else if (">" === r) { if (n.push({ type: "CLOSE_TAG", value: ">" }), e.length && "<" !== e.slice(0, 1)) { r = e.splice(0, 1)[0]; for (var o = ""; e.length && "<" !== r;)o += r, r = e.splice(0, 1)[0]; o.trim().length && n.push({ type: "TEXT", value: o }), "<" === r && n.push({ type: "OPEN_TAG", value: "<" }) } } else if ("-" === r) n.push({ type: "HYPHEN", value: "-" }); else if ("/" === r) n.push({ type: "FORWARD_SLASH", value: "/" }); else if ("=" === r) n.push({ type: "EQUALS_SIGN", value: "=" }); else if ('"' === r) { r = e.splice(0, 1)[0]; for (var s = ""; e.length && '"' !== r;)s += r, r = e.splice(0, 1)[0]; n.push({ type: "STRING_LITERAL", value: s }) } else if (97 <= i && i <= 122 || 65 <= i && i <= 90 || 48 <= i && i <= 57 || 97 === i) { for (o = r, i = (r = e.splice(0, 1)[0]).charCodeAt(0); e.length && (97 <= i && i <= 122 || 65 <= i && i <= 90 || 48 <= i && i <= 57 || 97 === i);)o += r, i = (r = e.splice(0, 1)[0]).charCodeAt(0); e.unshift(r), n.push({ type: "IDENTIFIER", value: o }) } } return n }(t = t.trim().replace(/\r?\n|\r/g, "").replace(/\t/g, ""))) } }(), function () { var a = [], l = [], u = [], c = function (t, e) { for (var n = [], r = 0; r < t.length; r++)n.push(t[r].idx); return n.shift(), n = n.concat(e) }, f = function (t, e, n) { var r = !1; if (!t && e) a.push({ type: "create", path: c(u, n), tree: e }), r = !0; else if (t && !e) a.push({ type: "delete", path: c(l, n) }), r = !0; else if (t.type === e.type) if ("root" === t.type); else if ("tag" === t.type || "unary_tag" === t.type) if (t.tagName === e.tagName) for (var i = Krafty2._.uniq(Krafty2._.keys(t.attribs).concat(Krafty2._.keys(e.attribs))), o = 0; o < i.length; o++) { var s = i[o]; t.attribs[s] && !e.attribs[s] ? a.push({ path: c(l, n), type: "removeAttribute", key: s }) : t.attribs[s] && t.attribs[s] === e.attribs[s] || a.push({ path: c(l, n), type: "setAttribute", key: s, value: e.attribs[s] }) } else a.push({ type: "delete", path: c(l, n) }), a.push({ type: "create", path: c(l, n), tree: e }), r = !0; else t.value !== e.value && a.push({ type: "changeTextContent", path: c(l, n), oldContent: t.value, newContent: e.value }); else a.push({ type: "delete", path: c(l, n) }), a.push({ type: "create", path: c(l, n), tree: e }), r = !0; if (!r) if (t.children && e.children) { if (0 < t.children.length || 0 < e.children.length) if (t.children.length >= e.children.length) for (o = 0; o < t.children.length; o++)l.push({ node: t, idx: n }), u.push({ node: e, idx: n }), f(t.children[o], e.children[o], o), l.pop(), u.pop(); else for (o = 0; o < e.children.length; o++)l.push({ node: t, idx: n }), u.push({ node: e, idx: n }), f(t.children[o], e.children[o], o), l.pop(), u.pop() } else if (t.children && !e.children) for (o = 0; o < t.children.length; o++)l.push({ node: t, idx: n }), f(t.children[o], null, o), l.pop(); else if (!t.children && e.children) for (o = 0; o < e.children.length; o++)u.push({ node: e, idx: n }), f(null, e.children[o], o), u.pop() }; Krafty2.DOMDiff = function (t, e) { return a = [], l = [], u = [], f(t, e, 0), a } }(), function () { var x = function (t, e) { var n = t.value; return t.template && (n = t.template(e)), n }, E = function (t, e) { var n = {}; if (n.type = t.type, "tag" === t.type || "unary_tag" === t.type || "root" === t.type) if ("loop" === t.tagName) { var r = t.attribs.var.value, i = +x(t.attribs.from, e), o = +x(t.attribs.to, e), s = {}; if (n = [], "asc" === (t.attribs.dir ? x(t.attribs.dir, e) : "asc")) { for (var a = i; a < o; a++)if (s[r] = a, t.children.length) for (var l = 0; l < t.children.length; l++)n.push(E(Krafty2._.cloneDeep(t.children[l]), Krafty2._.extend(Krafty2._.clone(s), e))) } else for (a = i; o <= a; a--)if (s[r] = a, t.children.length) for (l = 0; l < t.children.length; l++)n.push(E(Krafty2._.cloneDeep(t.children[l]), Krafty2._.extend(Krafty2._.clone(s), e))) } else if ("ifblock" === t.tagName) { n = []; var u = t.children; if (!u[0] || "if" !== u[0].tagName) throw new Error("Malformed if conditional"); if (u[1] && "else" === u[1].tagName) { if (!u[0].attribs || !u[0].attribs.condition) throw new Error("Missing condition attribute"); if ("true" === x(u[0].attribs.condition, e)) for (a = 0; a < u[0].children.length; a++)n.push(E(Krafty2._.cloneDeep(u[0].children[a]), e)); else for (a = 0; a < u[1].children.length; a++)n.push(E(Krafty2._.cloneDeep(u[1].children[a]), e)) } else { if (!u[1] || "elseif" !== u[1].tagName) throw new Error("Malformed if conditional"); if (!u[0].attribs || !u[0].attribs.condition) throw new Error("Missing condition attribute"); if ("true" === x(u[0].attribs.condition, e)) for (a = 0; a < u[0].children.length; a++)n.push(E(Krafty2._.cloneDeep(u[0].children[a]), e)); else for (a = 1; a < u.length; a++)if ("elseif" === u[a].tagName) { if (!u[a].attribs || !u[a].attribs.condition) throw new Error("Missing condition attribute"); if ("true" === x(u[a].attribs.condition, e)) { for (l = 0; l < u[a].children.length; l++)n.push(E(Krafty2._.cloneDeep(u[a].children[l]), e)); cond = !0; break } } else { if (!u[a] || "else" !== u[a].tagName || a != u.length - 1) throw new Error("Malformed if conditional"); for (l = 0; l < u[a].children.length; l++)n.push(E(Krafty2._.cloneDeep(u[a].children[l]), e)) } } } else if ("import" === t.tagName) { var c = t.attribs.name.value, f = (t.attribs.with || {}).value, h = {}, d = Krafty2._.cloneDeep(Krafty2.Templates[c]); if (!d) throw new Error("Undefined view [" + c + "]"); if (f) { var p = f.split(","), g = Krafty2._.keys(e), m = ""; for (l = 0; l < g.length; l++)m += "var " + g[l] + " = arguments [" + l + "];"; for (a = 0; a < p.length; a++) { r = p[a].split(":")[0].trim(), e[b = p[a].split(":")[1].trim()]; var y = new Function(m + " return " + b).apply(null, Krafty2._.values(e)); h[r] = y } } n = E(d.children[0], h) } else { if (n.tagName = t.tagName, "root" !== t.tagName) { "<" + t.tagName + " "; var v = t.attribs; for (var r in v) if (v.hasOwnProperty(r)) { var b = x(v[r], e); t.attribs[r] = b } n.attribs = t.attribs } if (t.children && t.children.length) { n.children = []; for (a = 0; a < t.children.length; a++)n.children[a] = E(t.children[a], e); n.children = Krafty2._.flattenDeep(n.children) } } else { b = x(t, e); if (n.type = "text", n.value = _.unescape(b).replace(/\&nbsp\;/g, String.fromCharCode(160)), -1 !== n.value.indexOf("script") || -1 !== n.value.indexOf("iframe")) { var w = $("<div>" + n.value + "</div>"); w.find("script").length && w.find("script").replaceWith(_.escape(w.find("script")[0].outerHTML)), w.find("iframe").length && w.find("iframe").replaceWith(_.escape(w.find("iframe")[0].outerHTML)), n.value = w.html() } } return n }; Krafty2.DOMCompile = function (t, e) { var n = Krafty2._.cloneDeep(t); return E(n, e) } }(), function () { var a = function (t) { t = Array.prototype.slice.call(t); for (var e = 0; e < t.length; e++) { var n = t[e]; 3 !== n.nodeType || n.textContent.replace(/\s*/g, "") || -1 !== n.nodeValue.indexOf(String.fromCharCode(160)) || t.splice(e, 1) } return t }, l = function (t, e) { for (var n = t.get(0), r = Krafty2._.clone(e); r.length;)n = a(n.childNodes)[r[0]], r.splice(0, 1); return n }, u = function (t, e) { return (e = Krafty2._.clone(e)).pop(), l(t, e) }, c = function (t, e) { var n = null; if ("tag" === e.type || "unary_tag" === e.type) { for (var r in n = Krafty2.$(document.createElement(e.tagName)), e.attribs) n.attr(r, e.attribs[r]); if (e.children) for (var i = 0; i < e.children.length; i++)n.append(c(t, e.children[i])) } else "text" === e.type && (n = Krafty2.$(document.createTextNode(" " + e.value + " "))); return n }; Krafty2.DOMPatch = function (t, e) { for (var n = null, r = 0; r < t.length; r++)if ("setAttribute" === (s = t[r]).type) (n = Krafty2.$(l(e, s.path))).attr(s.key, s.value); else if ("removeAttribute" === s.type) (n = Krafty2.$(l(e, s.path))).removeAttr(s.key); else if ("changeTextContent" === s.type) { if (!(n = l(e, s.path)) || 3 !== n.nodeType) { n = document.createTextNode(""), $parent = u(e, s.path); var i = s.path.slice(s.path.length - 1)[0], o = a($parent.childNodes)[i]; $parent.insertBefore(n, o) } n.textContent = n.textContent.replace(s.oldContent.trim(), s.newContent) } else "delete" === s.type && (n = l(e, s.path)) && (3 === n.nodeType ? function (t) { setTimeout(function () { t.nodeValue = "" }, 10) }(n) : Krafty2.$(n).attr("krafty--delete", !0)); e.find("[krafty--delete]").remove(); for (r = 0; r < t.length; r++) { var s; "create" === (s = t[r]).type && (n = c(e, s.tree), $parent = u(e, s.path), i = s.path.slice(s.path.length - 1)[0], o = a($parent.childNodes)[i], $parent.insertBefore(n[0], o)) } } }(), function (t) { var i = function (t) { var e = ""; if ("tag" === t.type || "unary_tag" === t.type || "root" === t.type) { if ("root" !== t.type && (e += "<" + t.tagName + " ", t.attribs)) { for (var n in t.attribs) t.attribs.hasOwnProperty(n) && (e += " " + n + '="' + t.attribs[n] + '"'); "tag" === t.type ? e += ">" : e += "/>" } if (t.children) for (var r = 0; r < t.children.length; r++)e += i(t.children[r]); "tag" === t.type && (e += "</" + t.tagName + ">") } else e += "" + t.value; return e }; Krafty2.DOMCreate = function (t) { var e = i(t); return Krafty2.$(e) } }(), function () { var t = function (t) { var e = this; for (var n in e.states = t.states || {}, e.routes = t.routes || {}, e.routeTesters = [], e.events = Krafty2._.extend({ beforeStateChange: function (t) { t() }, afterStateChange: function () { } }, t.events || {}), e.routes) { for (var r = n.split("/"), i = [], o = 0; o < r.length; o++) { var s = r[o].match(/:([_a-zA-Z0-9$]+)/), a = s ? s[1] : 0; a && (r[o] = r[o].replace(/:[_a-zA-Z0-9]+/g, "([^\\s]+)"), i.push({ id: a, idx: o })) } e.routeTesters.push({ regex: new RegExp("^" + r.join("/") + "$"), ids: i, state: e.routes[n] }) } e.routeTesters = e.routeTesters.reverse(), window.onpopstate = function (t) { t.state && !1 === t.state.stateChange ? window.history.replaceState({}, "", window.location.toString()) : t.state && !0 === t.state.stateIgnore || Krafty2.States[e.currentState.state].onPopState && Krafty2.States[e.currentState.state].onPopState() || e.setRoute(window.location, !0) }, e.currentState = null, Krafty2.log("Instantiated %cApplication", "color: green") }; t.prototype.setState = function (t, e) { var n = this; n.states[t] ? (Krafty2.log("Setting application state to %c[" + t + "]", "color: green"), n.events.beforeStateChange(n.currentState, t, function () { n.currentState && (Krafty2.States[n.currentState.state].unload(), n.currentState = null), Krafty2.load(n.states[t].bundle, function () { n.currentState = n.states[t], Krafty2.States[n.currentState.state].load(e), n.events.afterStateChange(t, e) }) })) : Krafty2.log("%cError: Application state not found [" + t + "]", "color: red") }, t.prototype.setRouteSoft = function (t, e, n) { (n = n || !1) ? window.history.replaceState(e, "", t) : (Krafty2.log("Setting route without pushing state %c[" + t + "]", "color: green"), window.history.pushState(e, "", t)) }, t.prototype.prefetch = function (t, e) { var n = null, o = {}; if ("function" == typeof URL) "object" == typeof t ? n = new URL(t) : "string" == typeof t && (n = new URL(window.location.protocol + "//" + window.location.host + t)); else if ("object" == typeof t) n = t; else if ("string" == typeof t) { var r = Krafty2.$("<a/>", { href: t })[0]; n = { hostname: r.hostname, pathname: "/" === r.pathname[0] ? r.pathname : "/" + r.pathname, search: r.search, hash: r.hash, toString: function () { return "/" === r.pathname[0] ? r.pathname + r.search + r.hash : "/" + r.pathname + r.search + r.hash } } } Krafty2._.compact(n.search.slice(1).split("&")).forEach(function (t, e) { var n = t.split("="), r = n[0], i = void 0 === n[1] || n[1]; o[r] = i }), n.hash.slice(1).split(","); for (var i = 0; i < this.routeTesters.length; i++)if (this.routeTesters[i].regex.test(n.pathname)) { Krafty2.log('Setting route %c["' + n.pathname + '"]', "color: green"); var s = this.routeTesters[i]; return void (s.state && Krafty2.load(this.states[s.state].bundle, function () { Krafty2.log("%cPrefetch complete ...%c", "color: green"), e && e() })) } Krafty2.log('%cRoute not found ["' + n.pathname + '"] for prefetch', "color: red") }, t.prototype.setRoute = function (t, e, n) { var r, i = null, o = {}; if ("function" == typeof URL) "object" == typeof t ? i = new URL(t) : "string" == typeof t && (i = new URL(window.location.protocol + "//" + window.location.host + t)); else if ("object" == typeof t) i = t; else if ("string" == typeof t) { var s = Krafty2.$("<a/>", { href: t })[0]; i = { hostname: s.hostname, pathname: "/" === s.pathname[0] ? s.pathname : "/" + s.pathname, search: s.search, hash: s.hash, toString: function () { return "/" === s.pathname[0] ? s.pathname + s.search + s.hash : "/" + s.pathname + s.search + s.hash } } } Krafty2._.compact(i.search.slice(1).split("&")).forEach(function (t, e) { var n = t.split("="), r = n[0], i = void 0 === n[1] || n[1]; o[r] = i }), r = i.hash.slice(1).split(","); var a = i.pathname; "" === (a = a.replace(/\/$/, "")) && (a = "/"); for (var l = 0; l < this.routeTesters.length; l++)if (this.routeTesters[l].regex.test(a)) { Krafty2.log('Setting route %c["' + a + '"]', "color: green"); for (var u = this.routeTesters[l], c = a.split("/"), f = {}, h = 0; h < u.ids.length; h++)f[u.ids[h].id] = c[u.ids[h].idx]; return f = Krafty2._.extend(f, n), e || window.history.pushState({}, "Quizz: Reports", i.toString()), void this.setState(u.state, { params: f, query: o, hash: r }) } Krafty2.log('%cRoute not found ["' + a + '"]', "color: red") }, Krafty2.Application = t }(), function () { var t = function (t, e) { Krafty2.States[t] ? console.log("State redefinition") : Krafty2.States[t] = this, this.props = e, this.props.onPopState && (this.onPopState = this.props.onPopState) }; t.prototype.load = function (t) { this.props.load.call(this, t) }, t.prototype.unload = function () { this.props.unload.call(this) }, Krafty2.State = t }(), function () { var n = function (E, t) { var T = this, e = t.viewModels, n = t.parent; for (var r in (E = Krafty2._.defaultsDeep(Krafty2._.omit(t, ["viewModels", "parent"]), E)).viewModels = e, E.parent = n || E.parent, T.id = E.id || null, T.viewInstanceId = Krafty2.Utils.guid(), T.container = Krafty2.$("<div/>").addClass("krafty-container-" + T.viewInstanceId), T.parent = E.parent || null, T.parentView = E.parentView || null, T.childViews = {}, T.childId = null, T.template = E.template || "", T.state = E.state || {}, T.props = E.props || {}, T.data = E.data || {}, T.instanceProps = t || {}, T.viewModels = E.viewModels || {}, T.helpers = E.helpers || {}, T.templateEvents = E.events || {}, T.methods = E.methods || {}, T.events = new Krafty2.Events(T), T.messages = E.messages || {}, T.extends = E.extends || {}, E.extends && (T.data = Krafty2._.extend(E.extends.data, T.data), T.methods = Krafty2._.extend(E.extends.methods, T.methods), T.templateEvents = Krafty2._.extend(E.extends.events, T.templateEvents)), T.methods = Krafty2._.extend(T.methods, t.methods), T.methods) !function (t) { T[t] = function () { return T.methods[t].apply(T, arguments) } }(r); for (var r in T.filters = Krafty2._.extend({ onCreate: Krafty2._.noop, onRender: Krafty2._.noop, afterRender: Krafty2._.noop, onDestroy: Krafty2._.noop, beforeDestroy: function (t) { t() }, afterDestroy: Krafty2._.noop, afterCreate: Krafty2._.noop, onStateChange: Krafty2._.noop }, E.filters), T.parentFilters = Krafty2._.extend({ onCreate: Krafty2._.noop, onRender: Krafty2._.noop, afterRender: Krafty2._.noop, onDestroy: Krafty2._.noop, beforeDestroy: function (t) { t() }, afterDestroy: Krafty2._.noop, afterCreate: Krafty2._.noop, onStateChange: Krafty2._.noop }, E.extends ? E.extends.filters : {}), T.defaultHelpers = {}, T.viewModelEventKeys = {}, T.helpers = Krafty2._.extend(T.helpers, T.defaultHelpers), T.parent && T.parent.append(T.container), T.viewModels) T.viewModels.hasOwnProperty(r) && T.viewModels[r] && (T.viewModelEventKeys[r] = T.viewModels[r].on("change", function () { T.render() })); for (var r in "string" == typeof T.template ? T.vTemplate = Krafty2.HTMLParser(T.template) : "object" == typeof T.template && (T.vTemplate = T.template), T.vTemplate, T.filters.onCreate.call(T), T.parentFilters.onCreate.call(T), T.parent && T.render(), T.messages) T.messages.hasOwnProperty(r) && T.events.on(r, T.messages[r]); T.container.find("view").each(function () { for (var t = Krafty2.$("<div/>"), e = Krafty2.$(this).attr("name"), n = Krafty2.$(this).attr("id"), r = Krafty2.$(this).attr("class"), i = Krafty2.$(this).attr("with"), o = Krafty2.$(this).attr("state"), s = Krafty2.$(this).attr("viewModels"), a = {}, l = {}, u = {}, c = _.filter(Array.prototype.slice.call(Krafty2.$(this).get(0).attributes), function (t) { return -1 === _.indexOf(["id", "name", "class", "with", "state", "viewModels"], t.name) }), f = {}, h = 0; h < c.length; h++)f[c[h].name] = Krafty2.$(this).attr(c[h].name); if (t.addClass(r), i) { for (var d = i.split(","), p = Krafty2._.keys(T.getProps()), g = "", m = 0; m < p.length; m++)g += "var " + p[m] + " = arguments [" + m + "];"; for (h = 0; h < d.length; h++) { var y = d[h].split(":")[0].trim(), v = d[h].split(":")[1].trim(), b = (E[v], new Function(g + " return " + v.replace(/^'/, '"').replace(/'$/, '"')).apply(null, Krafty2._.values(T.getProps()))); a[y] = b } } if (o) { for (d = o.split(","), p = Krafty2._.keys(T.getProps()), g = "", m = 0; m < p.length; m++)g += "var " + p[m] + " = arguments [" + m + "];"; for (h = 0; h < d.length; h++) { y = d[h].split(":")[0].trim(), v = d[h].split(":")[1].trim(), E[v], b = new Function(g + " return " + v.replace(/^'/, '"').replace(/'$/, '"')).apply(null, Krafty2._.values(T.getProps())); u[y] = b } } if (s) { for (d = s.split(","), p = Krafty2._.keys(T.getProps()), g = "", m = 0; m < p.length; m++)g += "var " + p[m] + " = arguments [" + m + "];"; for (h = 0; h < d.length; h++) { y = d[h].split(":")[0].trim(), v = d[h].split(":")[1].trim(), E[v], b = new Function(g + " return " + v.replace(/^'/, '"').replace(/'$/, '"')).apply(null, Krafty2._.values(T.getProps())); l[y] = b } } var w = Krafty2.Views[e]; if (!w) throw new Error("View not found [" + e + "]"); t.insertAfter(Krafty2.$(this)); var x = new w({ parent: t, parentView: T, id: n, data: a, viewModels: l, state: u }); x.attr = function (t) { return f[t] }, T.childViews[n] = x, Krafty2.$(this).remove() }), T.filters.afterCreate.call(T), T.parentFilters.afterCreate.call(T) }; n.prototype.getProps = function () { var e = this, n = {}; for (var t in n = Krafty2._.extend(n, e.state), n = Krafty2._.extend(n, e.data), n = "function" == typeof e.props ? Krafty2._.extend(n, e.props()) : Krafty2._.extend(n, e.props), n = Krafty2._.extend(n, e.helpers), n = Krafty2._.extend(n, e.viewModels), e.methods) !function (t) { n[t] = function () { return e.methods[t].apply(e, arguments) } }(t); return n }, n.prototype.attachEvents = function () { var o = this, t = o.templateEvents; for (var e in t) t.hasOwnProperty(e) && function (t, e) { var n = t.split("->"), r = n[0].trim(), i = n[1].trim(); if (2 !== n.length) throw new Error("Malformed event defninition"); o.container.on(r, i, function (t) { e.call(o, Krafty2.$(this), t) }) }(e, t[e]) }, n.prototype.setState = function (t) { this.state = Krafty2._.extend(this.state, t), this.filters.onStateChange.call(this), this.render() }, n.prototype.trigger = function (t, e, n) { this.events.trigger(t, e, n), this.parentView && this.parentView.trigger(t, e, n) }, n.prototype.sendMessage = function (t, e) { this.trigger(t + " -> " + this.id, e, this) }, n.prototype.on = function (t, e) { return this.events.on(t, e) }, n.prototype.off = function (t) { this.events.off(t) }; n.prototype.createVirtualDom = function () { var t = this; if (t.virtualDOM) { var e = Krafty2.DOMCompile(t.vTemplate, t.getProps()), n = Krafty2.DOMDiff(t.virtualDOM, e); Krafty2.DOMPatch(n, t.container), t.virtualDOM = e } else t.virtualDOM = Krafty2.DOMCompile(t.vTemplate, t.getProps()), t.parent && (t.html = Krafty2.$(Krafty2.DOMCreate(t.virtualDOM)), t.container.empty(), t.container.append(t.html), t.attachEvents()) }, n.prototype.render = function () { var E = this, T = E.getProps(); if (E.filters.onRender.call(E), E.parentFilters.onRender.call(E), E.createVirtualDom(), E.filters.afterRender.call(E), E.parentFilters.afterRender.call(E), E.container.find("view").each(function () { for (var t = Krafty2.$("<div/>"), e = Krafty2.$(this).attr("name"), n = Krafty2.$(this).attr("id"), r = Krafty2.$(this).attr("class"), i = Krafty2.$(this).attr("with"), o = Krafty2.$(this).attr("state"), s = Krafty2.$(this).attr("viewModels"), a = {}, l = {}, u = {}, c = _.filter(Array.prototype.slice.call(Krafty2.$(this).get(0).attributes), function (t) { return -1 === _.indexOf(["id", "name", "class", "with", "state", "viewModels"], t.name) }), f = {}, h = 0; h < c.length; h++)f[c[h].name] = Krafty2.$(this).attr(c[h].name); if (t.addClass(r), i) { for (var d = i.split(","), p = Krafty2._.keys(E.getProps()), g = "", m = 0; m < p.length; m++)g += "var " + p[m] + " = arguments [" + m + "];"; for (h = 0; h < d.length; h++) { var y = d[h].split(":")[0].trim(), v = d[h].split(":")[1].trim(), b = (T[v], new Function(g + " return " + v.replace(/^'/, '"').replace(/'$/, '"')).apply(null, Krafty2._.values(E.getProps()))); a[y] = b } } if (o) { for (d = o.split(","), p = Krafty2._.keys(E.getProps()), g = "", m = 0; m < p.length; m++)g += "var " + p[m] + " = arguments [" + m + "];"; for (h = 0; h < d.length; h++) { y = d[h].split(":")[0].trim(), v = d[h].split(":")[1].trim(), T[v], b = new Function(g + " return " + v.replace(/^'/, '"').replace(/'$/, '"')).apply(null, Krafty2._.values(E.getProps())); u[y] = b } } if (s) { for (d = s.split(","), p = Krafty2._.keys(E.getProps()), g = "", m = 0; m < p.length; m++)g += "var " + p[m] + " = arguments [" + m + "];"; for (h = 0; h < d.length; h++) { y = d[h].split(":")[0].trim(), v = d[h].split(":")[1].trim(), T[v], b = new Function(g + " return " + v.replace(/^'/, '"').replace(/'$/, '"')).apply(null, Krafty2._.values(E.getProps())); l[y] = b } } var w = Krafty2.Views[e]; if (!w) throw new Error("View not found [" + e + "]"); t.insertAfter(Krafty2.$(this)); var x = new w({ parent: t, parentView: E, id: n, data: a, viewModels: l, state: u }); x.attr = function (t) { return f[t] }, E.childViews[n] = x, Krafty2.$(this).remove() }), E.container.find("[kr-html-filter]").each(function () { var t; (t = $(this).attr("kr-html") ? $("<div>" + _.unescape($(this).attr("kr-html")) + "</div>") : $("<div>" + _.unescape($(this).html().trim()) + "</div>")).find("script").length && t.find("script").replaceWith(_.escape(t.find("script")[0].outerHTML)), t.find("iframe").length && t.find("iframe").replaceWith(_.escape(t.find("iframe")[0].outerHTML)), t.find("a").length && t.find("a").replaceWith(_.escape(t.find("a")[0].outerHTML)), t.find("img").length && t.find("img").replaceWith(_.escape(t.find("img")[0].outerHTML)), $(this).empty(), $(this).append(t.html()) }), !E.parent) return E.virtualDOM }, n.prototype.unregisterChild = function (t) { this.childViews[t] && delete this.childViews[t] }, n.prototype.destroy = function () { var e = this; e.container && (e.filters.onDestroy.call(e), e.parentFilters.onDestroy.call(e), e.parentFilters.beforeDestroy.call(e, function () { e.filters.beforeDestroy.call(e, function () { if (e.container && (e.container.off(), e.container.find("*").off(), e.container.remove()), e.container = null, e.html = null, e.template = null, e.vTemplate = null, e.virtualDOM = null, e.childViews) for (var t in e.childViews) e.childViews[t].destroy(); for (var t in e.viewModelEventKeys) e.viewModels[t].off(e.viewModelEventKeys[t]); e.filters.afterDestroy.call(e), e.parentFilters.afterDestroy.call(e) }) })) }, Krafty2.ViewDefinitions = {}; Krafty2.View = function (t, e) { return Krafty2.Views[t] ? console.log("View redifinition") : e.abstract ? Krafty2.Views[t] = e : Krafty2.Views[t] = function (t) { return new n(e, t) }, !0 === e.abstract ? e : function (t) { return new n(e, t) } } }(), function (t) { var e = function (t) { var e = function (t, e) { this.set(t || null), this.parent = e }; for (var n in e = t.constuctor || e, t) t.hasOwnProperty(n) && (e.prototype[n] = t[n]); return e.prototype.isValid || (e.prototype.isValid = function (t) { return !0 }), e.prototype.get || (e.prototype.get = function () { return this.value }), e.prototype.set || (e.prototype.set = function (t) { var e = this.value; this.value = t, this.trigger("change", { type: "change", oldValue: e, newValue: this.value }) }), e.prototype.setRaw || (e.prototype.setRaw = function (t) { this.value = t }), e.prototype.trigger || (e.prototype.trigger = function (t, e) { this.parent && this.parent.trigger(t, e) }), e.prototype.getRaw || (e.prototype.getRaw = function (t) { return this.value }), e }, n = (Krafty2.Type = e)({ isValid: function (t) { return "string" == typeof t } }), r = e({ isValid: function (t) { return "number" == typeof t } }), i = e({ isValid: function (t) { return "boolean" == typeof t } }), o = function (t, e) { Array.call(this, arguments); this.type = "Array", this.parent = e }; ((o.prototype = new Array).constuctor = o).prototype.get = function () { return this }, o.prototype.getRaw = function () { return Array.prototype.slice.call(this) }, o.prototype.set = function (t) { this.setRaw(t), this.parent.trigger("change") }, o.prototype.isValid = function (t) { if (t instanceof Array) return !0 }, o.prototype.__push = o.prototype.push, o.prototype.__pop = o.prototype.pop, o.prototype.__shift = o.prototype.shift, o.prototype.__unshift = o.prototype.unshift, o.prototype.push = function (t) { this.__push(t), this.trigger("change") }, o.prototype.pop = function () { var t = this.__pop(); return this.trigger("change"), t }, o.prototype.shift = function () { var t = this.__shift(); return this.trigger("change"), t }, o.prototype.unshift = function (t) { var e = this.__unshift(t); return this.trigger("change"), e }, o.prototype.setRaw = function (t) { if (this.splice(0, this.length), t instanceof Array) for (var e = 0; e < t.length; e++)this.__push(t[e]) }, o.prototype.trigger = function (t, e) { this.parent && this.parent.trigger(t, e) }; var s = {}; s.String = n, s.Number = r, s.Boolean = i, s.Array = o, Krafty2.Types = s }(), Krafty2.Model = function (t, o) { var e = function (t, e) { var n = {}; for (var r in this.events = new Krafty2.Events(this), this._parent = e, o.props) o.props.hasOwnProperty(r) && (n[r] = new o.props[r](null, this)); if (t) for (var i in t) n[i] && n[i].setRaw(t[i]); this.getProp = function (t) { if (n[t]) return n[t].get() }, this.getPropRaw = function (t) { if (n[t]) return n[t].getRaw() }, this.setProp = function (t, e) { n[t] && n[t].set(e) }, this.setPropRaw = function (t, e) { n[t] && n[t].setRaw(e) } }; for (var n in o.props) !function (r) { Object.defineProperty(e.prototype, r, { get: function () { return this.getProp(r) }, set: function (t) { if (this.getProp(r), this.setProp(r, t), o.validations && o.validations[r]) if (o.validations[r] instanceof Array) { for (var e = o.validations[r].length, n = 0; n < e; n++)if (!o.validations[r][n](t)) throw new Error("Krafty2 Validation Error") } else if (o.validations[r] instanceof Function && !o.validations[r](t)) throw new Error("Krafty2 Validation Error") } }) }(n); if (e.prototype.trigger = function (t, e) { this.events.trigger(t, e), this._parent && this._parent.trigger(t, e) }, e.prototype.on = function (t, e) { return this.events.on(t, e) }, e.prototype.off = function (t) { this.events.off(t) }, e.prototype.get = function () { return this }, e.prototype.getRaw = function () { var t = {}; for (var e in o.props) t[e] = this.getPropRaw(e); return t }, e.prototype.set = function (t) { this.setRaw(t), this.trigger("change", {}) }, e.prototype.setRaw = function (t) { if (t) for (var e in t) this.setPropRaw(e, t[e]) }, e.prototype.toString = function () { return JSON.stringify(this.getRaw()) }, o.methods) for (var n in o.methods) o.methods.hasOwnProperty(n) && (e.prototype[n] = o.methods[n]); return Krafty2.Models[t] ? console.log("Model redefinition") : Krafty2.Models[t] = e, e }, function () { var t = { Alphabetic: function (t) { return !!t.match(/^[a-zA-Z]*$/g) }, Alphanumeric: function (t) { return !!t.match(/^[a-zA-Z0-9]*$/g) } }; Krafty2.Validations = t }(), function () { var r = function (t, e) { this.model = t, this.parent = e, this.rows = [], this.events = new Krafty2.Events(e) }; r.prototype.new = function (t, e) { var n = new this.model(t, this); "push" === (e = e || "push") && this.rows.push(n), "unshift" === e && this.rows.unshift(n), this.trigger("change", { type: "new" }) }, r.prototype.setRaw = function (t) { var e = []; if (!(t instanceof Array)) throw new Error("Invalid value for collection ", t); for (var n = 0; n < t.length; n++) { var r = new this.model(t[n], this); e.push(r) } this.rows = e }, r.prototype.pushRaw = function (t) { var e = []; if (!(t instanceof Array)) throw new Error("Invalid value for collection ", t); for (var n = 0; n < t.length; n++) { var r = new this.model(t[n], this); e.push(r) } this.rows = this.rows.concat(e) }, r.prototype.get = function () { return this }, r.prototype.getItem = function (t) { return this.rows[t] }, r.prototype.getRaw = function () { for (var t = [], e = 0; e < this.rows.length; e++)t[e] = this.rows[e].getRaw(); return t }, r.prototype.findAndDelete = function (t) { for (var e = 0; e < this.rows.length; e++) { var n = this.rows[e], r = n.getRaw(); Krafty2._.isEqual(Krafty2._.pick(r, Krafty2._.keys(t)), t) && (this.rows = Krafty2._.without(this.rows, n)) } this.trigger("change", { type: "delete" }) }, r.prototype.find = function (t) { for (var e = 0; e < this.rows.length; e++) { var n = this.rows[e], r = n.getRaw(); if (Krafty2._.isEqual(Krafty2._.pick(r, Krafty2._.keys(t)), t)) return n } }, r.prototype.findIdx = function (t) { for (var e = 0; e < this.rows.length; e++) { var n = this.rows[e].getRaw(); if (Krafty2._.isEqual(Krafty2._.pick(n, Krafty2._.keys(t)), t)) return e } }, r.prototype.where = function (t) { for (var e = [], n = 0; n < this.rows.length; n++) { var r = this.rows[n], i = r.getRaw(); Krafty2._.isEqual(Krafty2._.pick(i, Krafty2._.keys(t)), t) && e.push(r) } return e }, r.prototype.sortBy = function (t) { this.rows = _.sortBy(this.rows, t), this.trigger("change", { type: "reorder" }) }, r.prototype.each = function (t) { for (var e = 0; e < this.rows.length; e++)t.call(this.rows[e], e) }, r.prototype.map = function (t) { return _.map(this.rows, t) }, r.prototype.length = function () { return this.rows.length }, r.prototype.trigger = function (t, e) { this.events.trigger(t, e), this.parent.trigger(t, e) }; Krafty2.Collection = function (n) { return function (t, e) { return new r(n, e) } } }(), function () { var t = function (t) { this.events = {}, this.parent = t }; t.prototype.on = function (t, e) { this.events[t] || (this.events[t] = {}); var n = Krafty2.Utils.guid(); return this.events[t][n] = { key: t, cb: e, guid: n }, { key: t, guid: n } }, t.prototype.off = function (t) { this.events[t.key][t.guid] = void 0, delete this.events[t.key][t.guid] }, t.prototype.trigger = function (t, e, n) { for (var r in this.events[t]) this.events.hasOwnProperty(t) && this.events[t][r].cb.call(this.parent, e, n) }, Krafty2.Events = t }(), function () { var t = { guid: function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) { var e = 16 * Math.random() | 0; return ("x" == t ? e : 3 & e | 8).toString(16) }) } }; Krafty2.Utils = t }(), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.moment = e() }(this, function () { "use strict"; function m() { return Wt.apply(null, arguments) } function a(t) { return t instanceof Array || "[object Array]" === Object.prototype.toString.call(t) } function l(t) { return null != t && "[object Object]" === Object.prototype.toString.call(t) } function u(t) { return void 0 === t } function c(t) { return "number" == typeof t || "[object Number]" === Object.prototype.toString.call(t) } function f(t) { return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t) } function h(t, e) { var n, r = []; for (n = 0; n < t.length; ++n)r.push(e(t[n], n)); return r } function y(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function d(t, e) { for (var n in e) y(e, n) && (t[n] = e[n]); return y(e, "toString") && (t.toString = e.toString), y(e, "valueOf") && (t.valueOf = e.valueOf), t } function p(t, e, n, r) { return pt(t, e, n, r, !0).utc() } function v(t) { return null == t._pf && (t._pf = { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], meridiem: null, rfc2822: !1, weekdayMismatch: !1 }), t._pf } function g(t) { if (null == t._isValid) { var e = v(t), n = Kt.call(e.parsedDateParts, function (t) { return null != t }), r = !isNaN(t._d.getTime()) && e.overflow < 0 && !e.empty && !e.invalidMonth && !e.invalidWeekday && !e.nullInput && !e.invalidFormat && !e.userInvalidated && (!e.meridiem || e.meridiem && n); if (t._strict && (r = r && 0 === e.charsLeftOver && 0 === e.unusedTokens.length && void 0 === e.bigHour), null != Object.isFrozen && Object.isFrozen(t)) return r; t._isValid = r } return t._isValid } function b(t) { var e = p(NaN); return null != t ? d(v(e), t) : v(e).userInvalidated = !0, e } function _(t, e) { var n, r, i; if (u(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject), u(e._i) || (t._i = e._i), u(e._f) || (t._f = e._f), u(e._l) || (t._l = e._l), u(e._strict) || (t._strict = e._strict), u(e._tzm) || (t._tzm = e._tzm), u(e._isUTC) || (t._isUTC = e._isUTC), u(e._offset) || (t._offset = e._offset), u(e._pf) || (t._pf = v(e)), u(e._locale) || (t._locale = e._locale), 0 < Vt.length) for (n = 0; n < Vt.length; n++)u(i = e[r = Vt[n]]) || (t[r] = i); return t } function w(t) { _(this, t), this._d = new Date(null != t._d ? t._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === Xt && (Xt = !0, m.updateOffset(this), Xt = !1) } function x(t) { return t instanceof w || null != t && null != t._isAMomentObject } function E(t) { return t < 0 ? Math.ceil(t) || 0 : Math.floor(t) } function T(t) { var e = +t, n = 0; return 0 !== e && isFinite(e) && (n = E(e)), n } function s(t, e, n) { var r, i = Math.min(t.length, e.length), o = Math.abs(t.length - e.length), s = 0; for (r = 0; r < i; r++)(n && t[r] !== e[r] || !n && T(t[r]) !== T(e[r])) && s++; return s + o } function k(t) { !1 === m.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t) } function t(i, o) { var s = !0; return d(function () { if (null != m.deprecationHandler && m.deprecationHandler(null, i), s) { for (var t, e = [], n = 0; n < arguments.length; n++) { if (t = "", "object" == typeof arguments[n]) { for (var r in t += "\n[" + n + "] ", arguments[0]) t += r + ": " + arguments[0][r] + ", "; t = t.slice(0, -2) } else t = arguments[n]; e.push(t) } k(i + "\nArguments: " + Array.prototype.slice.call(e).join("") + "\n" + (new Error).stack), s = !1 } return o.apply(this, arguments) }, o) } function o(t, e) { null != m.deprecationHandler && m.deprecationHandler(t, e), Qt[t] || (k(e), Qt[t] = !0) } function j(t) { return t instanceof Function || "[object Function]" === Object.prototype.toString.call(t) } function i(t, e) { var n, r = d({}, t); for (n in e) y(e, n) && (l(t[n]) && l(e[n]) ? (r[n] = {}, d(r[n], t[n]), d(r[n], e[n])) : null != e[n] ? r[n] = e[n] : delete r[n]); for (n in t) y(t, n) && !y(e, n) && l(t[n]) && (r[n] = d({}, r[n])); return r } function S(t) { null != t && this.set(t) } function e(t, e) { var n = t.toLowerCase(); Jt[n] = Jt[n + "s"] = Jt[e] = t } function O(t) { return "string" == typeof t ? Jt[t] || Jt[t.toLowerCase()] : void 0 } function A(t) { var e, n, r = {}; for (n in t) y(t, n) && ((e = O(n)) && (r[e] = t[n])); return r } function n(t, e) { Zt[t] = e } function r(e, n) { return function (t) { return null != t ? (C(this, e, t), m.updateOffset(this, n), this) : L(this, e) } } function L(t, e) { return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN } function C(t, e, n) { t.isValid() && t._d["set" + (t._isUTC ? "UTC" : "") + e](n) } function P(t, e, n) { var r = "" + Math.abs(t), i = e - r.length; return (0 <= t ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, i)).toString().substr(1) + r } function N(t, e, n, r) { var i = r; "string" == typeof r && (i = function () { return this[r]() }), t && (re[t] = i), e && (re[e[0]] = function () { return P(i.apply(this, arguments), e[1], e[2]) }), n && (re[n] = function () { return this.localeData().ordinal(i.apply(this, arguments), t) }) } function M(t, e) { return t.isValid() ? (e = D(e, t.localeData()), ne[e] = ne[e] || function (r) { var t, i, e, o = r.match(te); for (t = 0, i = o.length; t < i; t++)re[o[t]] ? o[t] = re[o[t]] : o[t] = (e = o[t]).match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, ""); return function (t) { var e, n = ""; for (e = 0; e < i; e++)n += j(o[e]) ? o[e].call(t, r) : o[e]; return n } }(e), ne[e](t)) : t.localeData().invalidDate() } function D(t, e) { function n(t) { return e.longDateFormat(t) || t } var r = 5; for (ee.lastIndex = 0; 0 <= r && ee.test(t);)t = t.replace(ee, n), ee.lastIndex = 0, r -= 1; return t } function R(t, n, r) { _e[t] = j(n) ? n : function (t, e) { return t && r ? r : n } } function q(t, e) { return y(_e, t) ? _e[t](e._strict, e._locale) : new RegExp(I(t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (t, e, n, r, i) { return e || n || r || i }))) } function I(t) { return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function B(t, n) { var e, r = n; for ("string" == typeof t && (t = [t]), c(n) && (r = function (t, e) { e[n] = T(t) }), e = 0; e < t.length; e++)we[t[e]] = r } function H(t, i) { B(t, function (t, e, n, r) { n._w = n._w || {}, i(t, n._w, n, r) }) } function U(t, e) { return new Date(Date.UTC(t, e + 1, 0)).getUTCDate() } function F(t, e) { var n; if (!t.isValid()) return t; if ("string" == typeof e) if (/^\d+$/.test(e)) e = T(e); else if (!c(e = t.localeData().monthsParse(e))) return t; return n = Math.min(t.date(), U(t.year(), e)), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, n), t } function Y(t) { return null != t ? (F(this, t), m.updateOffset(this, !0), this) : L(this, "Month") } function z() { function t(t, e) { return e.length - t.length } var e, n, r = [], i = [], o = []; for (e = 0; e < 12; e++)n = p([2e3, e]), r.push(this.monthsShort(n, "")), i.push(this.months(n, "")), o.push(this.months(n, "")), o.push(this.monthsShort(n, "")); for (r.sort(t), i.sort(t), o.sort(t), e = 0; e < 12; e++)r[e] = I(r[e]), i[e] = I(i[e]); for (e = 0; e < 24; e++)o[e] = I(o[e]); this._monthsRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + r.join("|") + ")", "i") } function $(t) { return W(t) ? 366 : 365 } function W(t) { return t % 4 == 0 && t % 100 != 0 || t % 400 == 0 } function K(t) { var e = new Date(Date.UTC.apply(null, arguments)); return t < 100 && 0 <= t && isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t), e } function V(t, e, n) { var r = 7 + e - n; return -((7 + K(t, 0, r).getUTCDay() - e) % 7) + r - 1 } function X(t, e, n, r, i) { var o, s, a = 1 + 7 * (e - 1) + (7 + n - r) % 7 + V(t, r, i); return a <= 0 ? s = $(o = t - 1) + a : a > $(t) ? (o = t + 1, s = a - $(t)) : (o = t, s = a), { year: o, dayOfYear: s } } function Q(t, e, n) { var r, i, o = V(t.year(), e, n), s = Math.floor((t.dayOfYear() - o - 1) / 7) + 1; return s < 1 ? r = s + G(i = t.year() - 1, e, n) : s > G(t.year(), e, n) ? (r = s - G(t.year(), e, n), i = t.year() + 1) : (i = t.year(), r = s), { week: r, year: i } } function G(t, e, n) { var r = V(t, e, n), i = V(t + 1, e, n); return ($(t) - r + i) / 7 } function J() { function t(t, e) { return e.length - t.length } var e, n, r, i, o, s = [], a = [], l = [], u = []; for (e = 0; e < 7; e++)n = p([2e3, 1]).day(e), r = this.weekdaysMin(n, ""), i = this.weekdaysShort(n, ""), o = this.weekdays(n, ""), s.push(r), a.push(i), l.push(o), u.push(r), u.push(i), u.push(o); for (s.sort(t), a.sort(t), l.sort(t), u.sort(t), e = 0; e < 7; e++)a[e] = I(a[e]), l[e] = I(l[e]), u[e] = I(u[e]); this._weekdaysRegex = new RegExp("^(" + u.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + l.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + a.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + s.join("|") + ")", "i") } function Z() { return this.hours() % 12 || 12 } function tt(t, e) { N(t, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), e) }) } function et(t, e) { return e._meridiemParse } function nt(t) { return t ? t.toLowerCase().replace("_", "-") : t } function rt(t) { var e = null; if (!Ke[t] && "undefined" != typeof module && module && module.exports) try { e = ze._abbr, require("./locale/" + t), it(e) } catch (t) { } return Ke[t] } function it(t, e) { var n; return t && ((n = u(e) ? st(t) : ot(t, e)) && (ze = n)), ze._abbr } function ot(t, e) { if (null !== e) { var n = We; if (e.abbr = t, null != Ke[t]) o("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), n = Ke[t]._config; else if (null != e.parentLocale) { if (null == Ke[e.parentLocale]) return Ve[e.parentLocale] || (Ve[e.parentLocale] = []), Ve[e.parentLocale].push({ name: t, config: e }), null; n = Ke[e.parentLocale]._config } return Ke[t] = new S(i(n, e)), Ve[t] && Ve[t].forEach(function (t) { ot(t.name, t.config) }), it(t), Ke[t] } return delete Ke[t], null } function st(t) { var e; if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t) return ze; if (!a(t)) { if (e = rt(t)) return e; t = [t] } return function (t) { for (var e, n, r, i, o = 0; o < t.length;) { for (e = (i = nt(t[o]).split("-")).length, n = (n = nt(t[o + 1])) ? n.split("-") : null; 0 < e;) { if (r = rt(i.slice(0, e).join("-"))) return r; if (n && n.length >= e && s(i, n, !0) >= e - 1) break; e-- } o++ } return null }(t) } function at(t) { var e, n = t._a; return n && -2 === v(t).overflow && (e = n[Ee] < 0 || 11 < n[Ee] ? Ee : n[Te] < 1 || n[Te] > U(n[xe], n[Ee]) ? Te : n[ke] < 0 || 24 < n[ke] || 24 === n[ke] && (0 !== n[je] || 0 !== n[Se] || 0 !== n[Oe]) ? ke : n[je] < 0 || 59 < n[je] ? je : n[Se] < 0 || 59 < n[Se] ? Se : n[Oe] < 0 || 999 < n[Oe] ? Oe : -1, v(t)._overflowDayOfYear && (e < xe || Te < e) && (e = Te), v(t)._overflowWeeks && -1 === e && (e = Ae), v(t)._overflowWeekday && -1 === e && (e = Le), v(t).overflow = e), t } function lt(t) { var e, n, r, i, o, s, a = t._i, l = Xe.exec(a) || Qe.exec(a); if (l) { for (v(t).iso = !0, e = 0, n = Je.length; e < n; e++)if (Je[e][1].exec(l[1])) { i = Je[e][0], r = !1 !== Je[e][2]; break } if (null == i) return void (t._isValid = !1); if (l[3]) { for (e = 0, n = Ze.length; e < n; e++)if (Ze[e][1].exec(l[3])) { o = (l[2] || " ") + Ze[e][0]; break } if (null == o) return void (t._isValid = !1) } if (!r && null != o) return void (t._isValid = !1); if (l[4]) { if (!Ge.exec(l[4])) return void (t._isValid = !1); s = "Z" } t._f = i + (o || "") + (s || ""), ht(t) } else t._isValid = !1 } function ut(t) { var e, n, r, i, o, s, a, l = { " GMT": " +0000", " EDT": " -0400", " EST": " -0500", " CDT": " -0500", " CST": " -0600", " MDT": " -0600", " MST": " -0700", " PDT": " -0700", " PST": " -0800" }; if (e = t._i.replace(/\([^\)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s|\s$/g, ""), n = en.exec(e)) { if (r = n[1] ? "ddd" + (5 === n[1].length ? ", " : " ") : "", i = "D MMM " + (10 < n[2].length ? "YYYY " : "YY "), o = "HH:mm" + (n[4] ? ":ss" : ""), n[1]) { var u = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][new Date(n[2]).getDay()]; if (n[1].substr(0, 3) !== u) return v(t).weekdayMismatch = !0, void (t._isValid = !1) } switch (n[5].length) { case 2: 0 === a ? s = " +0000" : s = ((a = "YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase()) - 12) < 0 ? " -" : " +") + ("" + a).replace(/^-?/, "0").match(/..$/)[0] + "00"; break; case 4: s = l[n[5]]; break; default: s = l[" GMT"] }n[5] = s, t._i = n.splice(1).join(""), " ZZ", t._f = r + i + o + " ZZ", ht(t), v(t).rfc2822 = !0 } else t._isValid = !1 } function ct(t, e, n) { return null != t ? t : null != e ? e : n } function ft(t) { var e, n, r, i, o, s, a = []; if (!t._d) { for (o = t, s = void 0, s = new Date(m.now()), r = o._useUTC ? [s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate()] : [s.getFullYear(), s.getMonth(), s.getDate()], t._w && null == t._a[Te] && null == t._a[Ee] && function (t) { var e, n, r, i, o, s, a, l; if (null != (e = t._w).GG || null != e.W || null != e.E) o = 1, s = 4, n = ct(e.GG, t._a[xe], Q(gt(), 1, 4).year), r = ct(e.W, 1), ((i = ct(e.E, 1)) < 1 || 7 < i) && (l = !0); else { o = t._locale._week.dow, s = t._locale._week.doy; var u = Q(gt(), o, s); n = ct(e.gg, t._a[xe], u.year), r = ct(e.w, u.week), null != e.d ? ((i = e.d) < 0 || 6 < i) && (l = !0) : null != e.e ? (i = e.e + o, (e.e < 0 || 6 < e.e) && (l = !0)) : i = o } r < 1 || r > G(n, o, s) ? v(t)._overflowWeeks = !0 : null != l ? v(t)._overflowWeekday = !0 : (a = X(n, r, i, o, s), t._a[xe] = a.year, t._dayOfYear = a.dayOfYear) }(t), null != t._dayOfYear && (i = ct(t._a[xe], r[xe]), (t._dayOfYear > $(i) || 0 === t._dayOfYear) && (v(t)._overflowDayOfYear = !0), n = K(i, 0, t._dayOfYear), t._a[Ee] = n.getUTCMonth(), t._a[Te] = n.getUTCDate()), e = 0; e < 3 && null == t._a[e]; ++e)t._a[e] = a[e] = r[e]; for (; e < 7; e++)t._a[e] = a[e] = null == t._a[e] ? 2 === e ? 1 : 0 : t._a[e]; 24 === t._a[ke] && 0 === t._a[je] && 0 === t._a[Se] && 0 === t._a[Oe] && (t._nextDay = !0, t._a[ke] = 0), t._d = (t._useUTC ? K : function (t, e, n, r, i, o, s) { var a = new Date(t, e, n, r, i, o, s); return t < 100 && 0 <= t && isFinite(a.getFullYear()) && a.setFullYear(t), a }).apply(null, a), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[ke] = 24) } } function ht(t) { if (t._f !== m.ISO_8601) if (t._f !== m.RFC_2822) { t._a = [], v(t).empty = !0; var e, n, r, i, o, s, a, l, u, c, f, h, d = "" + t._i, p = d.length, g = 0; for (r = D(t._f, t._locale).match(te) || [], e = 0; e < r.length; e++)i = r[e], (n = (d.match(q(i, t)) || [])[0]) && (0 < (o = d.substr(0, d.indexOf(n))).length && v(t).unusedInput.push(o), d = d.slice(d.indexOf(n) + n.length), g += n.length), re[i] ? (n ? v(t).empty = !1 : v(t).unusedTokens.push(i), s = i, l = t, null != (a = n) && y(we, s) && we[s](a, l._a, l, s)) : t._strict && !n && v(t).unusedTokens.push(i); v(t).charsLeftOver = p - g, 0 < d.length && v(t).unusedInput.push(d), t._a[ke] <= 12 && !0 === v(t).bigHour && 0 < t._a[ke] && (v(t).bigHour = void 0), v(t).parsedDateParts = t._a.slice(0), v(t).meridiem = t._meridiem, t._a[ke] = (u = t._locale, c = t._a[ke], null == (f = t._meridiem) ? c : null != u.meridiemHour ? u.meridiemHour(c, f) : (null != u.isPM && ((h = u.isPM(f)) && c < 12 && (c += 12), h || 12 !== c || (c = 0)), c)), ft(t), at(t) } else ut(t); else lt(t) } function dt(t) { var e, n, r, i, o = t._i, s = t._f; return t._locale = t._locale || st(t._l), null === o || void 0 === s && "" === o ? b({ nullInput: !0 }) : ("string" == typeof o && (t._i = o = t._locale.preparse(o)), x(o) ? new w(at(o)) : (f(o) ? t._d = o : a(s) ? function (t) { var e, n, r, i, o; if (0 === t._f.length) return v(t).invalidFormat = !0, t._d = new Date(NaN); for (i = 0; i < t._f.length; i++)o = 0, e = _({}, t), null != t._useUTC && (e._useUTC = t._useUTC), e._f = t._f[i], ht(e), g(e) && (o += v(e).charsLeftOver, o += 10 * v(e).unusedTokens.length, v(e).score = o, (null == r || o < r) && (r = o, n = e)); d(t, n || e) }(t) : s ? ht(t) : u(n = (e = t)._i) ? e._d = new Date(m.now()) : f(n) ? e._d = new Date(n.valueOf()) : "string" == typeof n ? (r = e, null !== (i = tn.exec(r._i)) ? r._d = new Date(+i[1]) : (lt(r), !1 === r._isValid && (delete r._isValid, ut(r), !1 === r._isValid && (delete r._isValid, m.createFromInputFallback(r))))) : a(n) ? (e._a = h(n.slice(0), function (t) { return parseInt(t, 10) }), ft(e)) : l(n) ? function (t) { if (!t._d) { var e = A(t._i); t._a = h([e.year, e.month, e.day || e.date, e.hour, e.minute, e.second, e.millisecond], function (t) { return t && parseInt(t, 10) }), ft(t) } }(e) : c(n) ? e._d = new Date(n) : m.createFromInputFallback(e), g(t) || (t._d = null), t)) } function pt(t, e, n, r, i) { var o, s = {}; return !0 !== n && !1 !== n || (r = n, n = void 0), (l(t) && function (t) { var e; for (e in t) return !1; return !0 }(t) || a(t) && 0 === t.length) && (t = void 0), s._isAMomentObject = !0, s._useUTC = s._isUTC = i, s._l = n, s._i = t, s._f = e, s._strict = r, (o = new w(at(dt(s))))._nextDay && (o.add(1, "d"), o._nextDay = void 0), o } function gt(t, e, n, r) { return pt(t, e, n, r, !1) } function mt(t, e) { var n, r; if (1 === e.length && a(e[0]) && (e = e[0]), !e.length) return gt(); for (n = e[0], r = 1; r < e.length; ++r)e[r].isValid() && !e[r][t](n) || (n = e[r]); return n } function yt(t) { var e = A(t), n = e.year || 0, r = e.quarter || 0, i = e.month || 0, o = e.week || 0, s = e.day || 0, a = e.hour || 0, l = e.minute || 0, u = e.second || 0, c = e.millisecond || 0; this._isValid = function (t) { for (var e in t) if (-1 === on.indexOf(e) || null != t[e] && isNaN(t[e])) return !1; for (var n = !1, r = 0; r < on.length; ++r)if (t[on[r]]) { if (n) return !1; parseFloat(t[on[r]]) !== T(t[on[r]]) && (n = !0) } return !0 }(e), this._milliseconds = +c + 1e3 * u + 6e4 * l + 1e3 * a * 60 * 60, this._days = +s + 7 * o, this._months = +i + 3 * r + 12 * n, this._data = {}, this._locale = st(), this._bubble() } function vt(t) { return t instanceof yt } function bt(t) { return t < 0 ? -1 * Math.round(-1 * t) : Math.round(t) } function _t(t, n) { N(t, 0, 0, function () { var t = this.utcOffset(), e = "+"; return t < 0 && (t = -t, e = "-"), e + P(~~(t / 60), 2) + n + P(~~t % 60, 2) }) } function wt(t, e) { var n = (e || "").match(t); if (null === n) return null; var r = ((n[n.length - 1] || []) + "").match(sn) || ["-", 0, 0], i = 60 * r[1] + T(r[2]); return 0 === i ? 0 : "+" === r[0] ? i : -i } function xt(t, e) { var n, r; return e._isUTC ? (n = e.clone(), r = (x(t) || f(t) ? t.valueOf() : gt(t).valueOf()) - n.valueOf(), n._d.setTime(n._d.valueOf() + r), m.updateOffset(n, !1), n) : gt(t).local() } function Et(t) { return 15 * -Math.round(t._d.getTimezoneOffset() / 15) } function Tt() { return !!this.isValid() && this._isUTC && 0 === this._offset } function kt(t, e) { var n, r, i, o, s, a, l = t, u = null; return vt(t) ? l = { ms: t._milliseconds, d: t._days, M: t._months } : c(t) ? (l = {}, e ? l[e] = t : l.milliseconds = t) : (u = an.exec(t)) ? (n = "-" === u[1] ? -1 : 1, l = { y: 0, d: T(u[Te]) * n, h: T(u[ke]) * n, m: T(u[je]) * n, s: T(u[Se]) * n, ms: T(bt(1e3 * u[Oe])) * n }) : (u = ln.exec(t)) ? (n = "-" === u[1] ? -1 : 1, l = { y: jt(u[2], n), M: jt(u[3], n), w: jt(u[4], n), d: jt(u[5], n), h: jt(u[6], n), m: jt(u[7], n), s: jt(u[8], n) }) : null == l ? l = {} : "object" == typeof l && ("from" in l || "to" in l) && (o = gt(l.from), s = gt(l.to), i = o.isValid() && s.isValid() ? (s = xt(s, o), o.isBefore(s) ? a = St(o, s) : ((a = St(s, o)).milliseconds = -a.milliseconds, a.months = -a.months), a) : { milliseconds: 0, months: 0 }, (l = {}).ms = i.milliseconds, l.M = i.months), r = new yt(l), vt(t) && y(t, "_locale") && (r._locale = t._locale), r } function jt(t, e) { var n = t && parseFloat(t.replace(",", ".")); return (isNaN(n) ? 0 : n) * e } function St(t, e) { var n = { milliseconds: 0, months: 0 }; return n.months = e.month() - t.month() + 12 * (e.year() - t.year()), t.clone().add(n.months, "M").isAfter(e) && --n.months, n.milliseconds = +e - +t.clone().add(n.months, "M"), n } function Ot(r, i) { return function (t, e) { var n; return null === e || isNaN(+e) || (o(i, "moment()." + i + "(period, number) is deprecated. Please use moment()." + i + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), n = t, t = e, e = n), At(this, kt(t = "string" == typeof t ? +t : t, e), r), this } } function At(t, e, n, r) { var i = e._milliseconds, o = bt(e._days), s = bt(e._months); t.isValid() && (r = null == r || r, i && t._d.setTime(t._d.valueOf() + i * n), o && C(t, "Date", L(t, "Date") + o * n), s && F(t, L(t, "Month") + s * n), r && m.updateOffset(t, o || s)) } function Lt(t) { var e; return void 0 === t ? this._locale._abbr : (null != (e = st(t)) && (this._locale = e), this) } function Ct() { return this._locale } function Pt(t, e) { N(0, [t, t.length], 0, e) } function Nt(t, e, n, r, i) { var o; return null == t ? Q(this, r, i).year : ((o = G(t, r, i)) < e && (e = o), function (t, e, n, r, i) { var o = X(t, e, n, r, i), s = K(o.year, 0, o.dayOfYear); return this.year(s.getUTCFullYear()), this.month(s.getUTCMonth()), this.date(s.getUTCDate()), this }.call(this, t, e, n, r, i)) } function Mt(t, e) { e[Oe] = T(1e3 * ("0." + t)) } function Dt(t) { return t } function Rt(t, e, n, r) { var i = st(), o = p().set(r, e); return i[n](o, t) } function qt(t, e, n) { if (c(t) && (e = t, t = void 0), t = t || "", null != e) return Rt(t, e, n, "month"); var r, i = []; for (r = 0; r < 12; r++)i[r] = Rt(t, r, n, "month"); return i } function It(t, e, n, r) { "boolean" == typeof t || (n = e = t, t = !1), c(e) && (n = e, e = void 0), e = e || ""; var i = st(), o = t ? i._week.dow : 0; if (null != n) return Rt(e, (n + o) % 7, r, "day"); var s, a = []; for (s = 0; s < 7; s++)a[s] = Rt(e, (s + o) % 7, r, "day"); return a } function Bt(t, e, n, r) { var i = kt(e, n); return t._milliseconds += r * i._milliseconds, t._days += r * i._days, t._months += r * i._months, t._bubble() } function Ht(t) { return t < 0 ? Math.floor(t) : Math.ceil(t) } function Ut(t) { return 4800 * t / 146097 } function Ft(t) { return 146097 * t / 4800 } function Yt(t) { return function () { return this.as(t) } } function zt(t) { return function () { return this.isValid() ? this._data[t] : NaN } } function $t() { if (!this.isValid()) return this.localeData().invalidDate(); var t, e, n = qn(this._milliseconds) / 1e3, r = qn(this._days), i = qn(this._months); e = E((t = E(n / 60)) / 60), n %= 60, t %= 60; var o = E(i / 12), s = i %= 12, a = r, l = e, u = t, c = n, f = this.asSeconds(); return f ? (f < 0 ? "-" : "") + "P" + (o ? o + "Y" : "") + (s ? s + "M" : "") + (a ? a + "D" : "") + (l || u || c ? "T" : "") + (l ? l + "H" : "") + (u ? u + "M" : "") + (c ? c + "S" : "") : "P0D" } var Wt, Kt = Array.prototype.some ? Array.prototype.some : function (t) { for (var e = Object(this), n = e.length >>> 0, r = 0; r < n; r++)if (r in e && t.call(this, e[r], r, e)) return !0; return !1 }, Vt = m.momentProperties = [], Xt = !1, Qt = {}; m.suppressDeprecationWarnings = !1, m.deprecationHandler = null; var Gt = Object.keys ? Object.keys : function (t) { var e, n = []; for (e in t) y(t, e) && n.push(e); return n }, Jt = {}, Zt = {}, te = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, ee = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, ne = {}, re = {}, ie = /\d/, oe = /\d\d/, se = /\d{3}/, ae = /\d{4}/, le = /[+-]?\d{6}/, ue = /\d\d?/, ce = /\d\d\d\d?/, fe = /\d\d\d\d\d\d?/, he = /\d{1,3}/, de = /\d{1,4}/, pe = /[+-]?\d{1,6}/, ge = /\d+/, me = /[+-]?\d+/, ye = /Z|[+-]\d\d:?\d\d/gi, ve = /Z|[+-]\d\d(?::?\d\d)?/gi, be = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, _e = {}, we = {}, xe = 0, Ee = 1, Te = 2, ke = 3, je = 4, Se = 5, Oe = 6, Ae = 7, Le = 8, Ce = Array.prototype.indexOf ? Array.prototype.indexOf : function (t) { var e; for (e = 0; e < this.length; ++e)if (this[e] === t) return e; return -1 }; N("M", ["MM", 2], "Mo", function () { return this.month() + 1 }), N("MMM", 0, 0, function (t) { return this.localeData().monthsShort(this, t) }), N("MMMM", 0, 0, function (t) { return this.localeData().months(this, t) }), e("month", "M"), n("month", 8), R("M", ue), R("MM", ue, oe), R("MMM", function (t, e) { return e.monthsShortRegex(t) }), R("MMMM", function (t, e) { return e.monthsRegex(t) }), B(["M", "MM"], function (t, e) { e[Ee] = T(t) - 1 }), B(["MMM", "MMMM"], function (t, e, n, r) { var i = n._locale.monthsParse(t, r, n._strict); null != i ? e[Ee] = i : v(n).invalidMonth = t }); var Pe = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, Ne = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), Me = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), De = be, Re = be; N("Y", 0, 0, function () { var t = this.year(); return t <= 9999 ? "" + t : "+" + t }), N(0, ["YY", 2], 0, function () { return this.year() % 100 }), N(0, ["YYYY", 4], 0, "year"), N(0, ["YYYYY", 5], 0, "year"), N(0, ["YYYYYY", 6, !0], 0, "year"), e("year", "y"), n("year", 1), R("Y", me), R("YY", ue, oe), R("YYYY", de, ae), R("YYYYY", pe, le), R("YYYYYY", pe, le), B(["YYYYY", "YYYYYY"], xe), B("YYYY", function (t, e) { e[xe] = 2 === t.length ? m.parseTwoDigitYear(t) : T(t) }), B("YY", function (t, e) { e[xe] = m.parseTwoDigitYear(t) }), B("Y", function (t, e) { e[xe] = parseInt(t, 10) }), m.parseTwoDigitYear = function (t) { return T(t) + (68 < T(t) ? 1900 : 2e3) }; var qe = r("FullYear", !0); N("w", ["ww", 2], "wo", "week"), N("W", ["WW", 2], "Wo", "isoWeek"), e("week", "w"), e("isoWeek", "W"), n("week", 5), n("isoWeek", 5), R("w", ue), R("ww", ue, oe), R("W", ue), R("WW", ue, oe), H(["w", "ww", "W", "WW"], function (t, e, n, r) { e[r.substr(0, 1)] = T(t) }); N("d", 0, "do", "day"), N("dd", 0, 0, function (t) { return this.localeData().weekdaysMin(this, t) }), N("ddd", 0, 0, function (t) { return this.localeData().weekdaysShort(this, t) }), N("dddd", 0, 0, function (t) { return this.localeData().weekdays(this, t) }), N("e", 0, 0, "weekday"), N("E", 0, 0, "isoWeekday"), e("day", "d"), e("weekday", "e"), e("isoWeekday", "E"), n("day", 11), n("weekday", 11), n("isoWeekday", 11), R("d", ue), R("e", ue), R("E", ue), R("dd", function (t, e) { return e.weekdaysMinRegex(t) }), R("ddd", function (t, e) { return e.weekdaysShortRegex(t) }), R("dddd", function (t, e) { return e.weekdaysRegex(t) }), H(["dd", "ddd", "dddd"], function (t, e, n, r) { var i = n._locale.weekdaysParse(t, r, n._strict); null != i ? e.d = i : v(n).invalidWeekday = t }), H(["d", "e", "E"], function (t, e, n, r) { e[r] = T(t) }); var Ie = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), Be = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), He = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), Ue = be, Fe = be, Ye = be; N("H", ["HH", 2], 0, "hour"), N("h", ["hh", 2], 0, Z), N("k", ["kk", 2], 0, function () { return this.hours() || 24 }), N("hmm", 0, 0, function () { return "" + Z.apply(this) + P(this.minutes(), 2) }), N("hmmss", 0, 0, function () { return "" + Z.apply(this) + P(this.minutes(), 2) + P(this.seconds(), 2) }), N("Hmm", 0, 0, function () { return "" + this.hours() + P(this.minutes(), 2) }), N("Hmmss", 0, 0, function () { return "" + this.hours() + P(this.minutes(), 2) + P(this.seconds(), 2) }), tt("a", !0), tt("A", !1), e("hour", "h"), n("hour", 13), R("a", et), R("A", et), R("H", ue), R("h", ue), R("k", ue), R("HH", ue, oe), R("hh", ue, oe), R("kk", ue, oe), R("hmm", ce), R("hmmss", fe), R("Hmm", ce), R("Hmmss", fe), B(["H", "HH"], ke), B(["k", "kk"], function (t, e, n) { var r = T(t); e[ke] = 24 === r ? 0 : r }), B(["a", "A"], function (t, e, n) { n._isPm = n._locale.isPM(t), n._meridiem = t }), B(["h", "hh"], function (t, e, n) { e[ke] = T(t), v(n).bigHour = !0 }), B("hmm", function (t, e, n) { var r = t.length - 2; e[ke] = T(t.substr(0, r)), e[je] = T(t.substr(r)), v(n).bigHour = !0 }), B("hmmss", function (t, e, n) { var r = t.length - 4, i = t.length - 2; e[ke] = T(t.substr(0, r)), e[je] = T(t.substr(r, 2)), e[Se] = T(t.substr(i)), v(n).bigHour = !0 }), B("Hmm", function (t, e, n) { var r = t.length - 2; e[ke] = T(t.substr(0, r)), e[je] = T(t.substr(r)) }), B("Hmmss", function (t, e, n) { var r = t.length - 4, i = t.length - 2; e[ke] = T(t.substr(0, r)), e[je] = T(t.substr(r, 2)), e[Se] = T(t.substr(i)) }); var ze, $e = r("Hours", !0), We = { calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, longDateFormat: { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, invalidDate: "Invalid date", ordinal: "%d", dayOfMonthOrdinalParse: /\d{1,2}/, relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, months: Ne, monthsShort: Me, week: { dow: 0, doy: 6 }, weekdays: Ie, weekdaysMin: He, weekdaysShort: Be, meridiemParse: /[ap]\.?m?\.?/i }, Ke = {}, Ve = {}, Xe = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Qe = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Ge = /Z|[+-]\d\d(?::?\d\d)?/, Je = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], Ze = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], tn = /^\/?Date\((\-?\d+)/i, en = /^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/; m.createFromInputFallback = t("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (t) { t._d = new Date(t._i + (t._useUTC ? " UTC" : "")) }), m.ISO_8601 = function () { }, m.RFC_2822 = function () { }; var nn = t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var t = gt.apply(null, arguments); return this.isValid() && t.isValid() ? t < this ? this : t : b() }), rn = t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var t = gt.apply(null, arguments); return this.isValid() && t.isValid() ? this < t ? this : t : b() }), on = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"]; _t("Z", ":"), _t("ZZ", ""), R("Z", ve), R("ZZ", ve), B(["Z", "ZZ"], function (t, e, n) { n._useUTC = !0, n._tzm = wt(ve, t) }); var sn = /([\+\-]|\d\d)/gi; m.updateOffset = function () { }; var an = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, ln = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/; kt.fn = yt.prototype, kt.invalid = function () { return kt(NaN) }; var un = Ot(1, "add"), cn = Ot(-1, "subtract"); m.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", m.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; var fn = t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (t) { return void 0 === t ? this.localeData() : this.locale(t) }); N(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), N(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }), Pt("gggg", "weekYear"), Pt("ggggg", "weekYear"), Pt("GGGG", "isoWeekYear"), Pt("GGGGG", "isoWeekYear"), e("weekYear", "gg"), e("isoWeekYear", "GG"), n("weekYear", 1), n("isoWeekYear", 1), R("G", me), R("g", me), R("GG", ue, oe), R("gg", ue, oe), R("GGGG", de, ae), R("gggg", de, ae), R("GGGGG", pe, le), R("ggggg", pe, le), H(["gggg", "ggggg", "GGGG", "GGGGG"], function (t, e, n, r) { e[r.substr(0, 2)] = T(t) }), H(["gg", "GG"], function (t, e, n, r) { e[r] = m.parseTwoDigitYear(t) }), N("Q", 0, "Qo", "quarter"), e("quarter", "Q"), n("quarter", 7), R("Q", ie), B("Q", function (t, e) { e[Ee] = 3 * (T(t) - 1) }), N("D", ["DD", 2], "Do", "date"), e("date", "D"), n("date", 9), R("D", ue), R("DD", ue, oe), R("Do", function (t, e) { return t ? e._dayOfMonthOrdinalParse || e._ordinalParse : e._dayOfMonthOrdinalParseLenient }), B(["D", "DD"], Te), B("Do", function (t, e) { e[Te] = T(t.match(ue)[0]) }); var hn = r("Date", !0); N("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), e("dayOfYear", "DDD"), n("dayOfYear", 4), R("DDD", he), R("DDDD", se), B(["DDD", "DDDD"], function (t, e, n) { n._dayOfYear = T(t) }), N("m", ["mm", 2], 0, "minute"), e("minute", "m"), n("minute", 14), R("m", ue), R("mm", ue, oe), B(["m", "mm"], je); var dn = r("Minutes", !1); N("s", ["ss", 2], 0, "second"), e("second", "s"), n("second", 15), R("s", ue), R("ss", ue, oe), B(["s", "ss"], Se); var pn, gn = r("Seconds", !1); for (N("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), N(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), N(0, ["SSS", 3], 0, "millisecond"), N(0, ["SSSS", 4], 0, function () { return 10 * this.millisecond() }), N(0, ["SSSSS", 5], 0, function () { return 100 * this.millisecond() }), N(0, ["SSSSSS", 6], 0, function () { return 1e3 * this.millisecond() }), N(0, ["SSSSSSS", 7], 0, function () { return 1e4 * this.millisecond() }), N(0, ["SSSSSSSS", 8], 0, function () { return 1e5 * this.millisecond() }), N(0, ["SSSSSSSSS", 9], 0, function () { return 1e6 * this.millisecond() }), e("millisecond", "ms"), n("millisecond", 16), R("S", he, ie), R("SS", he, oe), R("SSS", he, se), pn = "SSSS"; pn.length <= 9; pn += "S")R(pn, ge); for (pn = "S"; pn.length <= 9; pn += "S")B(pn, Mt); var mn = r("Milliseconds", !1); N("z", 0, 0, "zoneAbbr"), N("zz", 0, 0, "zoneName"); var yn = w.prototype; yn.add = un, yn.calendar = function (t, e) { var n = t || gt(), r = xt(n, this).startOf("day"), i = m.calendarFormat(this, r) || "sameElse", o = e && (j(e[i]) ? e[i].call(this, n) : e[i]); return this.format(o || this.localeData().calendar(i, this, gt(n))) }, yn.clone = function () { return new w(this) }, yn.diff = function (t, e, n) { var r, i, o, s, a, l, u, c, f, h; return this.isValid() && (r = xt(t, this)).isValid() ? (i = 6e4 * (r.utcOffset() - this.utcOffset()), "year" === (e = O(e)) || "month" === e || "quarter" === e ? (a = this, f = 12 * ((l = r).year() - a.year()) + (l.month() - a.month()), h = a.clone().add(f, "months"), l - h < 0 ? (u = a.clone().add(f - 1, "months"), c = (l - h) / (h - u)) : (u = a.clone().add(f + 1, "months"), c = (l - h) / (u - h)), s = -(f + c) || 0, "quarter" === e ? s /= 3 : "year" === e && (s /= 12)) : (o = this - r, s = "second" === e ? o / 1e3 : "minute" === e ? o / 6e4 : "hour" === e ? o / 36e5 : "day" === e ? (o - i) / 864e5 : "week" === e ? (o - i) / 6048e5 : o), n ? s : E(s)) : NaN }, yn.endOf = function (t) { return void 0 === (t = O(t)) || "millisecond" === t ? this : ("date" === t && (t = "day"), this.startOf(t).add(1, "isoWeek" === t ? "week" : t).subtract(1, "ms")) }, yn.format = function (t) { t || (t = this.isUtc() ? m.defaultFormatUtc : m.defaultFormat); var e = M(this, t); return this.localeData().postformat(e) }, yn.from = function (t, e) { return this.isValid() && (x(t) && t.isValid() || gt(t).isValid()) ? kt({ to: this, from: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() }, yn.fromNow = function (t) { return this.from(gt(), t) }, yn.to = function (t, e) { return this.isValid() && (x(t) && t.isValid() || gt(t).isValid()) ? kt({ from: this, to: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() }, yn.toNow = function (t) { return this.to(gt(), t) }, yn.get = function (t) { return j(this[t = O(t)]) ? this[t]() : this }, yn.invalidAt = function () { return v(this).overflow }, yn.isAfter = function (t, e) { var n = x(t) ? t : gt(t); return !(!this.isValid() || !n.isValid()) && ("millisecond" === (e = O(u(e) ? "millisecond" : e)) ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(e).valueOf()) }, yn.isBefore = function (t, e) { var n = x(t) ? t : gt(t); return !(!this.isValid() || !n.isValid()) && ("millisecond" === (e = O(u(e) ? "millisecond" : e)) ? this.valueOf() < n.valueOf() : this.clone().endOf(e).valueOf() < n.valueOf()) }, yn.isBetween = function (t, e, n, r) { return ("(" === (r = r || "()")[0] ? this.isAfter(t, n) : !this.isBefore(t, n)) && (")" === r[1] ? this.isBefore(e, n) : !this.isAfter(e, n)) }, yn.isSame = function (t, e) { var n, r = x(t) ? t : gt(t); return !(!this.isValid() || !r.isValid()) && ("millisecond" === (e = O(e || "millisecond")) ? this.valueOf() === r.valueOf() : (n = r.valueOf(), this.clone().startOf(e).valueOf() <= n && n <= this.clone().endOf(e).valueOf())) }, yn.isSameOrAfter = function (t, e) { return this.isSame(t, e) || this.isAfter(t, e) }, yn.isSameOrBefore = function (t, e) { return this.isSame(t, e) || this.isBefore(t, e) }, yn.isValid = function () { return g(this) }, yn.lang = fn, yn.locale = Lt, yn.localeData = Ct, yn.max = rn, yn.min = nn, yn.parsingFlags = function () { return d({}, v(this)) }, yn.set = function (t, e) { if ("object" == typeof t) for (var n = function (t) { var e = []; for (var n in t) e.push({ unit: n, priority: Zt[n] }); return e.sort(function (t, e) { return t.priority - e.priority }), e }(t = A(t)), r = 0; r < n.length; r++)this[n[r].unit](t[n[r].unit]); else if (j(this[t = O(t)])) return this[t](e); return this }, yn.startOf = function (t) { switch (t = O(t)) { case "year": this.month(0); case "quarter": case "month": this.date(1); case "week": case "isoWeek": case "day": case "date": this.hours(0); case "hour": this.minutes(0); case "minute": this.seconds(0); case "second": this.milliseconds(0) }return "week" === t && this.weekday(0), "isoWeek" === t && this.isoWeekday(1), "quarter" === t && this.month(3 * Math.floor(this.month() / 3)), this }, yn.subtract = cn, yn.toArray = function () { return [this.year(), this.month(), this.date(), this.hour(), this.minute(), this.second(), this.millisecond()] }, yn.toObject = function () { return { years: this.year(), months: this.month(), date: this.date(), hours: this.hours(), minutes: this.minutes(), seconds: this.seconds(), milliseconds: this.milliseconds() } }, yn.toDate = function () { return new Date(this.valueOf()) }, yn.toISOString = function () { if (!this.isValid()) return null; var t = this.clone().utc(); return t.year() < 0 || 9999 < t.year() ? M(t, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : j(Date.prototype.toISOString) ? this.toDate().toISOString() : M(t, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") }, yn.inspect = function () { if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)"; var t = "moment", e = ""; this.isLocal() || (t = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", e = "Z"); var n = "[" + t + '("]', r = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", i = e + '[")]'; return this.format(n + r + "-MM-DD[T]HH:mm:ss.SSS" + i) }, yn.toJSON = function () { return this.isValid() ? this.toISOString() : null }, yn.toString = function () { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") }, yn.unix = function () { return Math.floor(this.valueOf() / 1e3) }, yn.valueOf = function () { return this._d.valueOf() - 6e4 * (this._offset || 0) }, yn.creationData = function () { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } }, yn.year = qe, yn.isLeapYear = function () { return W(this.year()) }, yn.weekYear = function (t) { return Nt.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy) }, yn.isoWeekYear = function (t) { return Nt.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4) }, yn.quarter = yn.quarters = function (t) { return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + this.month() % 3) }, yn.month = Y, yn.daysInMonth = function () { return U(this.year(), this.month()) }, yn.week = yn.weeks = function (t) { var e = this.localeData().week(this); return null == t ? e : this.add(7 * (t - e), "d") }, yn.isoWeek = yn.isoWeeks = function (t) { var e = Q(this, 1, 4).week; return null == t ? e : this.add(7 * (t - e), "d") }, yn.weeksInYear = function () { var t = this.localeData()._week; return G(this.year(), t.dow, t.doy) }, yn.isoWeeksInYear = function () { return G(this.year(), 1, 4) }, yn.date = hn, yn.day = yn.days = function (t) { if (!this.isValid()) return null != t ? this : NaN; var e, n, r = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != t ? (e = t, n = this.localeData(), t = "string" != typeof e ? e : isNaN(e) ? "number" == typeof (e = n.weekdaysParse(e)) ? e : null : parseInt(e, 10), this.add(t - r, "d")) : r }, yn.weekday = function (t) { if (!this.isValid()) return null != t ? this : NaN; var e = (this.day() + 7 - this.localeData()._week.dow) % 7; return null == t ? e : this.add(t - e, "d") }, yn.isoWeekday = function (t) { if (!this.isValid()) return null != t ? this : NaN; if (null != t) { var e = (n = t, r = this.localeData(), "string" == typeof n ? r.weekdaysParse(n) % 7 || 7 : isNaN(n) ? null : n); return this.day(this.day() % 7 ? e : e - 7) } var n, r; return this.day() || 7 }, yn.dayOfYear = function (t) { var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return null == t ? e : this.add(t - e, "d") }, yn.hour = yn.hours = $e, yn.minute = yn.minutes = dn, yn.second = yn.seconds = gn, yn.millisecond = yn.milliseconds = mn, yn.utcOffset = function (t, e, n) { var r, i = this._offset || 0; if (!this.isValid()) return null != t ? this : NaN; if (null != t) { if ("string" == typeof t) { if (null === (t = wt(ve, t))) return this } else Math.abs(t) < 16 && !n && (t *= 60); return !this._isUTC && e && (r = Et(this)), this._offset = t, this._isUTC = !0, null != r && this.add(r, "m"), i !== t && (!e || this._changeInProgress ? At(this, kt(t - i, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, m.updateOffset(this, !0), this._changeInProgress = null)), this } return this._isUTC ? i : Et(this) }, yn.utc = function (t) { return this.utcOffset(0, t) }, yn.local = function (t) { return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(Et(this), "m")), this }, yn.parseZone = function () { if (null != this._tzm) this.utcOffset(this._tzm, !1, !0); else if ("string" == typeof this._i) { var t = wt(ye, this._i); null != t ? this.utcOffset(t) : this.utcOffset(0, !0) } return this }, yn.hasAlignedHourOffset = function (t) { return !!this.isValid() && (t = t ? gt(t).utcOffset() : 0, (this.utcOffset() - t) % 60 == 0) }, yn.isDST = function () { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() }, yn.isLocal = function () { return !!this.isValid() && !this._isUTC }, yn.isUtcOffset = function () { return !!this.isValid() && this._isUTC }, yn.isUtc = Tt, yn.isUTC = Tt, yn.zoneAbbr = function () { return this._isUTC ? "UTC" : "" }, yn.zoneName = function () { return this._isUTC ? "Coordinated Universal Time" : "" }, yn.dates = t("dates accessor is deprecated. Use date instead.", hn), yn.months = t("months accessor is deprecated. Use month instead", Y), yn.years = t("years accessor is deprecated. Use year instead", qe), yn.zone = t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function (t, e) { return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset() }), yn.isDSTShifted = t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function () { if (!u(this._isDSTShifted)) return this._isDSTShifted; var t = {}; if (_(t, this), (t = dt(t))._a) { var e = t._isUTC ? p(t._a) : gt(t._a); this._isDSTShifted = this.isValid() && 0 < s(t._a, e.toArray()) } else this._isDSTShifted = !1; return this._isDSTShifted }); var vn = S.prototype; vn.calendar = function (t, e, n) { var r = this._calendar[t] || this._calendar.sameElse; return j(r) ? r.call(e, n) : r }, vn.longDateFormat = function (t) { var e = this._longDateFormat[t], n = this._longDateFormat[t.toUpperCase()]; return e || !n ? e : (this._longDateFormat[t] = n.replace(/MMMM|MM|DD|dddd/g, function (t) { return t.slice(1) }), this._longDateFormat[t]) }, vn.invalidDate = function () { return this._invalidDate }, vn.ordinal = function (t) { return this._ordinal.replace("%d", t) }, vn.preparse = Dt, vn.postformat = Dt, vn.relativeTime = function (t, e, n, r) { var i = this._relativeTime[n]; return j(i) ? i(t, e, n, r) : i.replace(/%d/i, t) }, vn.pastFuture = function (t, e) { var n = this._relativeTime[0 < t ? "future" : "past"]; return j(n) ? n(e) : n.replace(/%s/i, e) }, vn.set = function (t) { var e, n; for (n in t) j(e = t[n]) ? this[n] = e : this["_" + n] = e; this._config = t, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source) }, vn.months = function (t, e) { return t ? a(this._months) ? this._months[t.month()] : this._months[(this._months.isFormat || Pe).test(e) ? "format" : "standalone"][t.month()] : a(this._months) ? this._months : this._months.standalone }, vn.monthsShort = function (t, e) { return t ? a(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[Pe.test(e) ? "format" : "standalone"][t.month()] : a(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone }, vn.monthsParse = function (t, e, n) { var r, i, o; if (this._monthsParseExact) return function (t, e, n) { var r, i, o, s = t.toLocaleLowerCase(); if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], r = 0; r < 12; ++r)o = p([2e3, r]), this._shortMonthsParse[r] = this.monthsShort(o, "").toLocaleLowerCase(), this._longMonthsParse[r] = this.months(o, "").toLocaleLowerCase(); return n ? -1 !== (i = "MMM" === e ? Ce.call(this._shortMonthsParse, s) : Ce.call(this._longMonthsParse, s)) ? i : null : "MMM" === e ? -1 !== (i = Ce.call(this._shortMonthsParse, s)) ? i : -1 !== (i = Ce.call(this._longMonthsParse, s)) ? i : null : -1 !== (i = Ce.call(this._longMonthsParse, s)) ? i : -1 !== (i = Ce.call(this._shortMonthsParse, s)) ? i : null }.call(this, t, e, n); for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), r = 0; r < 12; r++) { if (i = p([2e3, r]), n && !this._longMonthsParse[r] && (this._longMonthsParse[r] = new RegExp("^" + this.months(i, "").replace(".", "") + "$", "i"), this._shortMonthsParse[r] = new RegExp("^" + this.monthsShort(i, "").replace(".", "") + "$", "i")), n || this._monthsParse[r] || (o = "^" + this.months(i, "") + "|^" + this.monthsShort(i, ""), this._monthsParse[r] = new RegExp(o.replace(".", ""), "i")), n && "MMMM" === e && this._longMonthsParse[r].test(t)) return r; if (n && "MMM" === e && this._shortMonthsParse[r].test(t)) return r; if (!n && this._monthsParse[r].test(t)) return r } }, vn.monthsRegex = function (t) { return this._monthsParseExact ? (y(this, "_monthsRegex") || z.call(this), t ? this._monthsStrictRegex : this._monthsRegex) : (y(this, "_monthsRegex") || (this._monthsRegex = Re), this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex) }, vn.monthsShortRegex = function (t) { return this._monthsParseExact ? (y(this, "_monthsRegex") || z.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex) : (y(this, "_monthsShortRegex") || (this._monthsShortRegex = De), this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex) }, vn.week = function (t) { return Q(t, this._week.dow, this._week.doy).week }, vn.firstDayOfYear = function () { return this._week.doy }, vn.firstDayOfWeek = function () { return this._week.dow }, vn.weekdays = function (t, e) { return t ? a(this._weekdays) ? this._weekdays[t.day()] : this._weekdays[this._weekdays.isFormat.test(e) ? "format" : "standalone"][t.day()] : a(this._weekdays) ? this._weekdays : this._weekdays.standalone }, vn.weekdaysMin = function (t) { return t ? this._weekdaysMin[t.day()] : this._weekdaysMin }, vn.weekdaysShort = function (t) { return t ? this._weekdaysShort[t.day()] : this._weekdaysShort }, vn.weekdaysParse = function (t, e, n) { var r, i, o; if (this._weekdaysParseExact) return function (t, e, n) { var r, i, o, s = t.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], r = 0; r < 7; ++r)o = p([2e3, 1]).day(r), this._minWeekdaysParse[r] = this.weekdaysMin(o, "").toLocaleLowerCase(), this._shortWeekdaysParse[r] = this.weekdaysShort(o, "").toLocaleLowerCase(), this._weekdaysParse[r] = this.weekdays(o, "").toLocaleLowerCase(); return n ? -1 !== (i = "dddd" === e ? Ce.call(this._weekdaysParse, s) : "ddd" === e ? Ce.call(this._shortWeekdaysParse, s) : Ce.call(this._minWeekdaysParse, s)) ? i : null : "dddd" === e ? -1 !== (i = Ce.call(this._weekdaysParse, s)) ? i : -1 !== (i = Ce.call(this._shortWeekdaysParse, s)) ? i : -1 !== (i = Ce.call(this._minWeekdaysParse, s)) ? i : null : "ddd" === e ? -1 !== (i = Ce.call(this._shortWeekdaysParse, s)) ? i : -1 !== (i = Ce.call(this._weekdaysParse, s)) ? i : -1 !== (i = Ce.call(this._minWeekdaysParse, s)) ? i : null : -1 !== (i = Ce.call(this._minWeekdaysParse, s)) ? i : -1 !== (i = Ce.call(this._weekdaysParse, s)) ? i : -1 !== (i = Ce.call(this._shortWeekdaysParse, s)) ? i : null }.call(this, t, e, n); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), r = 0; r < 7; r++) { if (i = p([2e3, 1]).day(r), n && !this._fullWeekdaysParse[r] && (this._fullWeekdaysParse[r] = new RegExp("^" + this.weekdays(i, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[r] = new RegExp("^" + this.weekdaysShort(i, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[r] = new RegExp("^" + this.weekdaysMin(i, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[r] || (o = "^" + this.weekdays(i, "") + "|^" + this.weekdaysShort(i, "") + "|^" + this.weekdaysMin(i, ""), this._weekdaysParse[r] = new RegExp(o.replace(".", ""), "i")), n && "dddd" === e && this._fullWeekdaysParse[r].test(t)) return r; if (n && "ddd" === e && this._shortWeekdaysParse[r].test(t)) return r; if (n && "dd" === e && this._minWeekdaysParse[r].test(t)) return r; if (!n && this._weekdaysParse[r].test(t)) return r } }, vn.weekdaysRegex = function (t) { return this._weekdaysParseExact ? (y(this, "_weekdaysRegex") || J.call(this), t ? this._weekdaysStrictRegex : this._weekdaysRegex) : (y(this, "_weekdaysRegex") || (this._weekdaysRegex = Ue), this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex) }, vn.weekdaysShortRegex = function (t) { return this._weekdaysParseExact ? (y(this, "_weekdaysRegex") || J.call(this), t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (y(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Fe), this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) }, vn.weekdaysMinRegex = function (t) { return this._weekdaysParseExact ? (y(this, "_weekdaysRegex") || J.call(this), t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (y(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Ye), this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) }, vn.isPM = function (t) { return "p" === (t + "").toLowerCase().charAt(0) }, vn.meridiem = function (t, e, n) { return 11 < t ? n ? "pm" : "PM" : n ? "am" : "AM" }, it("en", { dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (t) { var e = t % 10; return t + (1 === T(t % 100 / 10) ? "th" : 1 === e ? "st" : 2 === e ? "nd" : 3 === e ? "rd" : "th") } }), m.lang = t("moment.lang is deprecated. Use moment.locale instead.", it), m.langData = t("moment.langData is deprecated. Use moment.localeData instead.", st); var bn = Math.abs, _n = Yt("ms"), wn = Yt("s"), xn = Yt("m"), En = Yt("h"), Tn = Yt("d"), kn = Yt("w"), jn = Yt("M"), Sn = Yt("y"), On = zt("milliseconds"), An = zt("seconds"), Ln = zt("minutes"), Cn = zt("hours"), Pn = zt("days"), Nn = zt("months"), Mn = zt("years"), Dn = Math.round, Rn = { ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11 }, qn = Math.abs, In = yt.prototype; return In.isValid = function () { return this._isValid }, In.abs = function () { var t = this._data; return this._milliseconds = bn(this._milliseconds), this._days = bn(this._days), this._months = bn(this._months), t.milliseconds = bn(t.milliseconds), t.seconds = bn(t.seconds), t.minutes = bn(t.minutes), t.hours = bn(t.hours), t.months = bn(t.months), t.years = bn(t.years), this }, In.add = function (t, e) { return Bt(this, t, e, 1) }, In.subtract = function (t, e) { return Bt(this, t, e, -1) }, In.as = function (t) { if (!this.isValid()) return NaN; var e, n, r = this._milliseconds; if ("month" === (t = O(t)) || "year" === t) return e = this._days + r / 864e5, n = this._months + Ut(e), "month" === t ? n : n / 12; switch (e = this._days + Math.round(Ft(this._months)), t) { case "week": return e / 7 + r / 6048e5; case "day": return e + r / 864e5; case "hour": return 24 * e + r / 36e5; case "minute": return 1440 * e + r / 6e4; case "second": return 86400 * e + r / 1e3; case "millisecond": return Math.floor(864e5 * e) + r; default: throw new Error("Unknown unit " + t) } }, In.asMilliseconds = _n, In.asSeconds = wn, In.asMinutes = xn, In.asHours = En, In.asDays = Tn, In.asWeeks = kn, In.asMonths = jn, In.asYears = Sn, In.valueOf = function () { return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * T(this._months / 12) : NaN }, In._bubble = function () { var t, e, n, r, i, o = this._milliseconds, s = this._days, a = this._months, l = this._data; return 0 <= o && 0 <= s && 0 <= a || o <= 0 && s <= 0 && a <= 0 || (o += 864e5 * Ht(Ft(a) + s), a = s = 0), l.milliseconds = o % 1e3, t = E(o / 1e3), l.seconds = t % 60, e = E(t / 60), l.minutes = e % 60, n = E(e / 60), l.hours = n % 24, a += i = E(Ut(s += E(n / 24))), s -= Ht(Ft(i)), r = E(a / 12), a %= 12, l.days = s, l.months = a, l.years = r, this }, In.get = function (t) { return t = O(t), this.isValid() ? this[t + "s"]() : NaN }, In.milliseconds = On, In.seconds = An, In.minutes = Ln, In.hours = Cn, In.days = Pn, In.weeks = function () { return E(this.days() / 7) }, In.months = Nn, In.years = Mn, In.humanize = function (t) { if (!this.isValid()) return this.localeData().invalidDate(); var e, n, r, i, o, s, a, l, u, c, f, h = this.localeData(), d = (n = !t, r = h, i = kt(e = this).abs(), o = Dn(i.as("s")), s = Dn(i.as("m")), a = Dn(i.as("h")), l = Dn(i.as("d")), u = Dn(i.as("M")), c = Dn(i.as("y")), (f = o <= Rn.ss && ["s", o] || o < Rn.s && ["ss", o] || s <= 1 && ["m"] || s < Rn.m && ["mm", s] || a <= 1 && ["h"] || a < Rn.h && ["hh", a] || l <= 1 && ["d"] || l < Rn.d && ["dd", l] || u <= 1 && ["M"] || u < Rn.M && ["MM", u] || c <= 1 && ["y"] || ["yy", c])[2] = n, f[3] = 0 < +e, f[4] = r, function (t, e, n, r, i) { return i.relativeTime(e || 1, !!n, t, r) }.apply(null, f)); return t && (d = h.pastFuture(+this, d)), h.postformat(d) }, In.toISOString = $t, In.toString = $t, In.toJSON = $t, In.locale = Lt, In.localeData = Ct, In.toIsoString = t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", $t), In.lang = fn, N("X", 0, 0, "unix"), N("x", 0, 0, "valueOf"), R("x", me), R("X", /[+-]?\d+(\.\d{1,3})?/), B("X", function (t, e, n) { n._d = new Date(1e3 * parseFloat(t, 10)) }), B("x", function (t, e, n) { n._d = new Date(T(t)) }), m.version = "2.18.1", Wt = gt, m.fn = yn, m.min = function () { return mt("isBefore", [].slice.call(arguments, 0)) }, m.max = function () { return mt("isAfter", [].slice.call(arguments, 0)) }, m.now = function () { return Date.now ? Date.now() : +new Date }, m.utc = p, m.unix = function (t) { return gt(1e3 * t) }, m.months = function (t, e) { return qt(t, e, "months") }, m.isDate = f, m.locale = it, m.invalid = b, m.duration = kt, m.isMoment = x, m.weekdays = function (t, e, n) { return It(t, e, n, "weekdays") }, m.parseZone = function () { return gt.apply(null, arguments).parseZone() }, m.localeData = st, m.isDuration = vt, m.monthsShort = function (t, e) { return qt(t, e, "monthsShort") }, m.weekdaysMin = function (t, e, n) { return It(t, e, n, "weekdaysMin") }, m.defineLocale = ot, m.updateLocale = function (t, e) { if (null != e) { var n, r = We; null != Ke[t] && (r = Ke[t]._config), (n = new S(e = i(r, e))).parentLocale = Ke[t], Ke[t] = n, it(t) } else null != Ke[t] && (null != Ke[t].parentLocale ? Ke[t] = Ke[t].parentLocale : null != Ke[t] && delete Ke[t]); return Ke[t] }, m.locales = function () { return Gt(Ke) }, m.weekdaysShort = function (t, e, n) { return It(t, e, n, "weekdaysShort") }, m.normalizeUnits = O, m.relativeTimeRounding = function (t) { return void 0 === t ? Dn : "function" == typeof t && (Dn = t, !0) }, m.relativeTimeThreshold = function (t, e) { return void 0 !== Rn[t] && (void 0 === e ? Rn[t] : (Rn[t] = e, "s" === t && (Rn.ss = e - 1), !0)) }, m.calendarFormat = function (t, e) { var n = t.diff(e, "days", !0); return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse" }, m.prototype = yn, m }), function (t, e) { "object" == typeof exports && "undefined" != typeof module && "function" == typeof require ? e(require("../moment")) : "function" == typeof define && define.amd ? define(["moment"], e) : e(t.moment) }(this, function (t) { "use strict"; var n = "ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"), r = "ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"); return t.defineLocale("es", { months: "enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"), monthsShort: function (t, e) { return /-MMM-/.test(e) ? r[t.month()] : n[t.month()] }, monthsParseExact: !0, weekdays: "domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"), weekdaysShort: "dom._lun._mar._mié._jue._vie._sáb.".split("_"), weekdaysMin: "do_lu_ma_mi_ju_vi_sá".split("_"), weekdaysParseExact: !0, longDateFormat: { LT: "H:mm", LTS: "H:mm:ss", L: "DD/MM/YYYY", LL: "D [de] MMMM [de] YYYY", LLL: "D [de] MMMM [de] YYYY H:mm", LLLL: "dddd, D [de] MMMM [de] YYYY H:mm" }, calendar: { sameDay: function () { return "[hoy a la" + (1 !== this.hours() ? "s" : "") + "] LT" }, nextDay: function () { return "[mañana a la" + (1 !== this.hours() ? "s" : "") + "] LT" }, nextWeek: function () { return "dddd [a la" + (1 !== this.hours() ? "s" : "") + "] LT" }, lastDay: function () { return "[ayer a la" + (1 !== this.hours() ? "s" : "") + "] LT" }, lastWeek: function () { return "[el] dddd [pasado a la" + (1 !== this.hours() ? "s" : "") + "] LT" }, sameElse: "L" }, relativeTime: { future: "en %s", past: "hace %s", s: "unos segundos", m: "un minuto", mm: "%d minutos", h: "una hora", hh: "%d horas", d: "un día", dd: "%d días", M: "un mes", MM: "%d meses", y: "un año", yy: "%d años" }, ordinalParse: /\d{1,2}º/, ordinal: "%dº", week: { dow: 1, doy: 4 } }) }), function (t, e) { "object" == typeof exports && "undefined" != typeof module && "function" == typeof require ? e(require("../moment")) : "function" == typeof define && define.amd ? define(["moment"], e) : e(t.moment) }(this, function (t) { "use strict"; return t.defineLocale("fr", { months: "janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"), monthsShort: "janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"), monthsParseExact: !0, weekdays: "dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"), weekdaysShort: "dim._lun._mar._mer._jeu._ven._sam.".split("_"), weekdaysMin: "Di_Lu_Ma_Me_Je_Ve_Sa".split("_"), weekdaysParseExact: !0, longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD/MM/YYYY", LL: "D MMMM YYYY", LLL: "D MMMM YYYY HH:mm", LLLL: "dddd D MMMM YYYY HH:mm" }, calendar: { sameDay: "[Aujourd'hui à] LT", nextDay: "[Demain à] LT", nextWeek: "dddd [à] LT", lastDay: "[Hier à] LT", lastWeek: "dddd [dernier à] LT", sameElse: "L" }, relativeTime: { future: "dans %s", past: "il y a %s", s: "quelques secondes", m: "une minute", mm: "%d minutes", h: "une heure", hh: "%d heures", d: "un jour", dd: "%d jours", M: "un mois", MM: "%d mois", y: "un an", yy: "%d ans" }, ordinalParse: /\d{1,2}(er|)/, ordinal: function (t) { return t + (1 === t ? "er" : "") }, week: { dow: 1, doy: 4 } }) }), function (t, e) { "object" == typeof exports && "undefined" != typeof module && "function" == typeof require ? e(require("../moment")) : "function" == typeof define && define.amd ? define(["moment"], e) : e(t.moment) }(this, function (t) { "use strict"; var n = "jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"), r = "jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"); return t.defineLocale("nl", { months: "januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"), monthsShort: function (t, e) { return /-MMM-/.test(e) ? r[t.month()] : n[t.month()] }, monthsParseExact: !0, weekdays: "zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"), weekdaysShort: "zo._ma._di._wo._do._vr._za.".split("_"), weekdaysMin: "Zo_Ma_Di_Wo_Do_Vr_Za".split("_"), weekdaysParseExact: !0, longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD-MM-YYYY", LL: "D MMMM YYYY", LLL: "D MMMM YYYY HH:mm", LLLL: "dddd D MMMM YYYY HH:mm" }, calendar: { sameDay: "[vandaag om] LT", nextDay: "[morgen om] LT", nextWeek: "dddd [om] LT", lastDay: "[gisteren om] LT", lastWeek: "[afgelopen] dddd [om] LT", sameElse: "L" }, relativeTime: { future: "over %s", past: "%s geleden", s: "een paar seconden", m: "één minuut", mm: "%d minuten", h: "één uur", hh: "%d uur", d: "één dag", dd: "%d dagen", M: "één maand", MM: "%d maanden", y: "één jaar", yy: "%d jaar" }, ordinalParse: /\d{1,2}(ste|de)/, ordinal: function (t) { return t + (1 === t || 8 === t || 20 <= t ? "ste" : "de") }, week: { dow: 1, doy: 4 } }) }), function (t, e) { "object" == typeof exports && "undefined" != typeof module && "function" == typeof require ? e(require("../moment")) : "function" == typeof define && define.amd ? define(["moment"], e) : e(t.moment) }(this, function (t) { "use strict"; var n = "styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"), r = "stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"); function i(t) { return t % 10 < 5 && 1 < t % 10 && ~~(t / 10) % 10 != 1 } function e(t, e, n) { var r = t + " "; switch (n) { case "m": return e ? "minuta" : "minutę"; case "mm": return r + (i(t) ? "minuty" : "minut"); case "h": return e ? "godzina" : "godzinę"; case "hh": return r + (i(t) ? "godziny" : "godzin"); case "MM": return r + (i(t) ? "miesiące" : "miesięcy"); case "yy": return r + (i(t) ? "lata" : "lat") } } return t.defineLocale("pl", { months: function (t, e) { return "" === e ? "(" + r[t.month()] + "|" + n[t.month()] + ")" : /D MMMM/.test(e) ? r[t.month()] : n[t.month()] }, monthsShort: "sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"), weekdays: "niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"), weekdaysShort: "nie_pon_wt_śr_czw_pt_sb".split("_"), weekdaysMin: "Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"), longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD.MM.YYYY", LL: "D MMMM YYYY", LLL: "D MMMM YYYY HH:mm", LLLL: "dddd, D MMMM YYYY HH:mm" }, calendar: { sameDay: "[Dziś o] LT", nextDay: "[Jutro o] LT", nextWeek: "[W] dddd [o] LT", lastDay: "[Wczoraj o] LT", lastWeek: function () { switch (this.day()) { case 0: return "[W zeszłą niedzielę o] LT"; case 3: return "[W zeszłą środę o] LT"; case 6: return "[W zeszłą sobotę o] LT"; default: return "[W zeszły] dddd [o] LT" } }, sameElse: "L" }, relativeTime: { future: "za %s", past: "%s temu", s: "kilka sekund", m: e, mm: e, h: e, hh: e, d: "1 dzień", dd: "%d dni", M: "miesiąc", MM: e, y: "rok", yy: e }, ordinalParse: /\d{1,2}\./, ordinal: "%d.", week: { dow: 1, doy: 4 } }) }), function (t, e) { "object" == typeof exports && "undefined" != typeof module && "function" == typeof require ? e(require("../moment")) : "function" == typeof define && define.amd ? define(["../moment"], e) : e(t.moment) }(this, function (t) { "use strict"; function e(t, e, n) { var r, i; return "m" === n ? e ? "минута" : "минуту" : t + " " + (r = +t, i = { mm: e ? "минута_минуты_минут" : "минуту_минуты_минут", hh: "час_часа_часов", dd: "день_дня_дней", MM: "месяц_месяца_месяцев", yy: "год_года_лет" }[n].split("_"), r % 10 == 1 && r % 100 != 11 ? i[0] : 2 <= r % 10 && r % 10 <= 4 && (r % 100 < 10 || 20 <= r % 100) ? i[1] : i[2]) } var n = [/^янв/i, /^фев/i, /^мар/i, /^апр/i, /^ма[йя]/i, /^июн/i, /^июл/i, /^авг/i, /^сен/i, /^окт/i, /^ноя/i, /^дек/i]; return t.defineLocale("ru", { months: { format: "января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"), standalone: "январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_") }, monthsShort: { format: "янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"), standalone: "янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_") }, weekdays: { standalone: "воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"), format: "воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"), isFormat: /\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/ }, weekdaysShort: "вс_пн_вт_ср_чт_пт_сб".split("_"), weekdaysMin: "вс_пн_вт_ср_чт_пт_сб".split("_"), monthsParse: n, longMonthsParse: n, shortMonthsParse: n, monthsRegex: /^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i, monthsShortRegex: /^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i, monthsStrictRegex: /^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i, monthsShortStrictRegex: /^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i, longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD.MM.YYYY", LL: "D MMMM YYYY г.", LLL: "D MMMM YYYY г., HH:mm", LLLL: "dddd, D MMMM YYYY г., HH:mm" }, calendar: { sameDay: "[Сегодня в] LT", nextDay: "[Завтра в] LT", lastDay: "[Вчера в] LT", nextWeek: function (t) { if (t.week() === this.week()) return 2 === this.day() ? "[Во] dddd [в] LT" : "[В] dddd [в] LT"; switch (this.day()) { case 0: return "[В следующее] dddd [в] LT"; case 1: case 2: case 4: return "[В следующий] dddd [в] LT"; case 3: case 5: case 6: return "[В следующую] dddd [в] LT" } }, lastWeek: function (t) { if (t.week() === this.week()) return 2 === this.day() ? "[Во] dddd [в] LT" : "[В] dddd [в] LT"; switch (this.day()) { case 0: return "[В прошлое] dddd [в] LT"; case 1: case 2: case 4: return "[В прошлый] dddd [в] LT"; case 3: case 5: case 6: return "[В прошлую] dddd [в] LT" } }, sameElse: "L" }, relativeTime: { future: "через %s", past: "%s назад", s: "несколько секунд", m: e, mm: e, h: "час", hh: e, d: "день", dd: e, M: "месяц", MM: e, y: "год", yy: e }, meridiemParse: /ночи|утра|дня|вечера/i, isPM: function (t) { return /^(дня|вечера)$/.test(t) }, meridiem: function (t, e, n) { return t < 4 ? "ночи" : t < 12 ? "утра" : t < 17 ? "дня" : "вечера" }, dayOfMonthOrdinalParse: /\d{1,2}-(й|го|я)/, ordinal: function (t, e) { switch (e) { case "M": case "d": case "DDD": return t + "-й"; case "D": return t + "-го"; case "w": case "W": return t + "-я"; default: return t } }, week: { dow: 1, doy: 7 } }) }), function (t) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else { ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).io = t() } }(function () { return function o(s, a, l) { function u(n, t) { if (!a[n]) { if (!s[n]) { var e = "function" == typeof require && require; if (!t && e) return e(n, !0); if (c) return c(n, !0); var r = new Error("Cannot find module '" + n + "'"); throw r.code = "MODULE_NOT_FOUND", r } var i = a[n] = { exports: {} }; s[n][0].call(i.exports, function (t) { var e = s[n][1][t]; return u(e || t) }, i, i.exports, o, s, a, l) } return a[n].exports } for (var c = "function" == typeof require && require, t = 0; t < l.length; t++)u(l[t]); return u }({ 1: [function (t, e, n) { e.exports = t("./lib/") }, { "./lib/": 2 }], 2: [function (t, e, n) { e.exports = t("./socket"), e.exports.parser = t("engine.io-parser") }, { "./socket": 3, "engine.io-parser": 19 }], 3: [function (e, u, t) { (function (r) { var n = e("./transports"), t = e("component-emitter"), f = e("debug")("engine.io-client:socket"), i = e("indexof"), o = e("engine.io-parser"), s = e("parseuri"), a = e("parsejson"), l = e("parseqs"); function h(t, e) { if (!(this instanceof h)) return new h(t, e); e = e || {}, t && "object" == typeof t && (e = t, t = null), t ? (t = s(t), e.hostname = t.host, e.secure = "https" == t.protocol || "wss" == t.protocol, e.port = t.port, t.query && (e.query = t.query)) : e.host && (e.hostname = s(e.host).host), this.secure = null != e.secure ? e.secure : r.location && "https:" == location.protocol, e.hostname && !e.port && (e.port = this.secure ? "443" : "80"), this.agent = e.agent || !1, this.hostname = e.hostname || (r.location ? location.hostname : "localhost"), this.port = e.port || (r.location && location.port ? location.port : this.secure ? 443 : 80), this.query = e.query || {}, "string" == typeof this.query && (this.query = l.decode(this.query)), this.upgrade = !1 !== e.upgrade, this.path = (e.path || "/engine.io").replace(/\/$/, "") + "/", this.forceJSONP = !!e.forceJSONP, this.jsonp = !1 !== e.jsonp, this.forceBase64 = !!e.forceBase64, this.enablesXDR = !!e.enablesXDR, this.timestampParam = e.timestampParam || "t", this.timestampRequests = e.timestampRequests, this.transports = e.transports || ["polling", "websocket"], this.readyState = "", this.writeBuffer = [], this.policyPort = e.policyPort || 843, this.rememberUpgrade = e.rememberUpgrade || !1, this.binaryType = null, this.onlyBinaryUpgrades = e.onlyBinaryUpgrades, this.perMessageDeflate = !1 !== e.perMessageDeflate && (e.perMessageDeflate || {}), !0 === this.perMessageDeflate && (this.perMessageDeflate = {}), this.perMessageDeflate && null == this.perMessageDeflate.threshold && (this.perMessageDeflate.threshold = 1024), this.pfx = e.pfx || null, this.key = e.key || null, this.passphrase = e.passphrase || null, this.cert = e.cert || null, this.ca = e.ca || null, this.ciphers = e.ciphers || null, this.rejectUnauthorized = void 0 === e.rejectUnauthorized ? null : e.rejectUnauthorized; var n = "object" == typeof r && r; n.global === n && e.extraHeaders && 0 < Object.keys(e.extraHeaders).length && (this.extraHeaders = e.extraHeaders), this.open() } (u.exports = h).priorWebsocketSuccess = !1, t(h.prototype), h.protocol = o.protocol, (h.Socket = h).Transport = e("./transport"), h.transports = e("./transports"), h.parser = e("engine.io-parser"), h.prototype.createTransport = function (t) { f('creating transport "%s"', t); var e = function (t) { var e = {}; for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]); return e }(this.query); return e.EIO = o.protocol, e.transport = t, this.id && (e.sid = this.id), new n[t]({ agent: this.agent, hostname: this.hostname, port: this.port, secure: this.secure, path: this.path, query: e, forceJSONP: this.forceJSONP, jsonp: this.jsonp, forceBase64: this.forceBase64, enablesXDR: this.enablesXDR, timestampRequests: this.timestampRequests, timestampParam: this.timestampParam, policyPort: this.policyPort, socket: this, pfx: this.pfx, key: this.key, passphrase: this.passphrase, cert: this.cert, ca: this.ca, ciphers: this.ciphers, rejectUnauthorized: this.rejectUnauthorized, perMessageDeflate: this.perMessageDeflate, extraHeaders: this.extraHeaders }) }, h.prototype.open = function () { var t; if (this.rememberUpgrade && h.priorWebsocketSuccess && -1 != this.transports.indexOf("websocket")) t = "websocket"; else { if (0 === this.transports.length) { var e = this; return void setTimeout(function () { e.emit("error", "No transports available") }, 0) } t = this.transports[0] } this.readyState = "opening"; try { t = this.createTransport(t) } catch (t) { return this.transports.shift(), void this.open() } t.open(), this.setTransport(t) }, h.prototype.setTransport = function (t) { f("setting transport %s", t.name); var e = this; this.transport && (f("clearing existing transport %s", this.transport.name), this.transport.removeAllListeners()), (this.transport = t).on("drain", function () { e.onDrain() }).on("packet", function (t) { e.onPacket(t) }).on("error", function (t) { e.onError(t) }).on("close", function () { e.onClose("transport close") }) }, h.prototype.probe = function (n) { f('probing transport "%s"', n); var r = this.createTransport(n, { probe: 1 }), i = !1, o = this; function t() { if (o.onlyBinaryUpgrades) { var t = !this.supportsBinary && o.transport.supportsBinary; i = i || t } i || (f('probe transport "%s" opened', n), r.send([{ type: "ping", data: "probe" }]), r.once("packet", function (t) { if (!i) if ("pong" == t.type && "probe" == t.data) { if (f('probe transport "%s" pong', n), o.upgrading = !0, o.emit("upgrading", r), !r) return; h.priorWebsocketSuccess = "websocket" == r.name, f('pausing current transport "%s"', o.transport.name), o.transport.pause(function () { i || "closed" != o.readyState && (f("changing transport and sending upgrade packet"), c(), o.setTransport(r), r.send([{ type: "upgrade" }]), o.emit("upgrade", r), r = null, o.upgrading = !1, o.flush()) }) } else { f('probe transport "%s" failed', n); var e = new Error("probe error"); e.transport = r.name, o.emit("upgradeError", e) } })) } function s() { i || (i = !0, c(), r.close(), r = null) } function e(t) { var e = new Error("probe error: " + t); e.transport = r.name, s(), f('probe transport "%s" failed because of error: %s', n, t), o.emit("upgradeError", e) } function a() { e("transport closed") } function l() { e("socket closed") } function u(t) { r && t.name != r.name && (f('"%s" works - aborting "%s"', t.name, r.name), s()) } function c() { r.removeListener("open", t), r.removeListener("error", e), r.removeListener("close", a), o.removeListener("close", l), o.removeListener("upgrading", u) } h.priorWebsocketSuccess = !1, r.once("open", t), r.once("error", e), r.once("close", a), this.once("close", l), this.once("upgrading", u), r.open() }, h.prototype.onOpen = function () { if (f("socket open"), this.readyState = "open", h.priorWebsocketSuccess = "websocket" == this.transport.name, this.emit("open"), this.flush(), "open" == this.readyState && this.upgrade && this.transport.pause) { f("starting upgrade probes"); for (var t = 0, e = this.upgrades.length; t < e; t++)this.probe(this.upgrades[t]) } }, h.prototype.onPacket = function (t) { if ("opening" == this.readyState || "open" == this.readyState) switch (f('socket receive: type "%s", data "%s"', t.type, t.data), this.emit("packet", t), this.emit("heartbeat"), t.type) { case "open": this.onHandshake(a(t.data)); break; case "pong": this.setPing(), this.emit("pong"); break; case "error": var e = new Error("server error"); e.code = t.data, this.onError(e); break; case "message": this.emit("data", t.data), this.emit("message", t.data) } else f('packet received with socket readyState "%s"', this.readyState) }, h.prototype.onHandshake = function (t) { this.emit("handshake", t), this.id = t.sid, this.transport.query.sid = t.sid, this.upgrades = this.filterUpgrades(t.upgrades), this.pingInterval = t.pingInterval, this.pingTimeout = t.pingTimeout, this.onOpen(), "closed" != this.readyState && (this.setPing(), this.removeListener("heartbeat", this.onHeartbeat), this.on("heartbeat", this.onHeartbeat)) }, h.prototype.onHeartbeat = function (t) { clearTimeout(this.pingTimeoutTimer); var e = this; e.pingTimeoutTimer = setTimeout(function () { "closed" != e.readyState && e.onClose("ping timeout") }, t || e.pingInterval + e.pingTimeout) }, h.prototype.setPing = function () { var t = this; clearTimeout(t.pingIntervalTimer), t.pingIntervalTimer = setTimeout(function () { f("writing ping packet - expecting pong within %sms", t.pingTimeout), t.ping(), t.onHeartbeat(t.pingTimeout) }, t.pingInterval) }, h.prototype.ping = function () { var t = this; this.sendPacket("ping", function () { t.emit("ping") }) }, h.prototype.onDrain = function () { this.writeBuffer.splice(0, this.prevBufferLen), (this.prevBufferLen = 0) === this.writeBuffer.length ? this.emit("drain") : this.flush() }, h.prototype.flush = function () { "closed" != this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length && (f("flushing %d packets in socket", this.writeBuffer.length), this.transport.send(this.writeBuffer), this.prevBufferLen = this.writeBuffer.length, this.emit("flush")) }, h.prototype.write = h.prototype.send = function (t, e, n) { return this.sendPacket("message", t, e, n), this }, h.prototype.sendPacket = function (t, e, n, r) { if ("function" == typeof e && (r = e, e = void 0), "function" == typeof n && (r = n, n = null), "closing" != this.readyState && "closed" != this.readyState) { (n = n || {}).compress = !1 !== n.compress; var i = { type: t, data: e, options: n }; this.emit("packetCreate", i), this.writeBuffer.push(i), r && this.once("flush", r), this.flush() } }, h.prototype.close = function () { if ("opening" == this.readyState || "open" == this.readyState) { this.readyState = "closing"; var t = this; this.writeBuffer.length ? this.once("drain", function () { this.upgrading ? r() : e() }) : this.upgrading ? r() : e() } function e() { t.onClose("forced close"), f("socket closing - telling transport to close"), t.transport.close() } function n() { t.removeListener("upgrade", n), t.removeListener("upgradeError", n), e() } function r() { t.once("upgrade", n), t.once("upgradeError", n) } return this }, h.prototype.onError = function (t) { f("socket error %j", t), h.priorWebsocketSuccess = !1, this.emit("error", t), this.onClose("transport error", t) }, h.prototype.onClose = function (t, e) { if ("opening" == this.readyState || "open" == this.readyState || "closing" == this.readyState) { f('socket close with reason: "%s"', t); clearTimeout(this.pingIntervalTimer), clearTimeout(this.pingTimeoutTimer), this.transport.removeAllListeners("close"), this.transport.close(), this.transport.removeAllListeners(), this.readyState = "closed", this.id = null, this.emit("close", t, e), this.writeBuffer = [], this.prevBufferLen = 0 } }, h.prototype.filterUpgrades = function (t) { for (var e = [], n = 0, r = t.length; n < r; n++)~i(this.transports, t[n]) && e.push(t[n]); return e } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { "./transport": 4, "./transports": 5, "component-emitter": 15, debug: 17, "engine.io-parser": 19, indexof: 23, parsejson: 26, parseqs: 27, parseuri: 28 }], 4: [function (t, e, n) { var r = t("engine.io-parser"); function i(t) { this.path = t.path, this.hostname = t.hostname, this.port = t.port, this.secure = t.secure, this.query = t.query, this.timestampParam = t.timestampParam, this.timestampRequests = t.timestampRequests, this.readyState = "", this.agent = t.agent || !1, this.socket = t.socket, this.enablesXDR = t.enablesXDR, this.pfx = t.pfx, this.key = t.key, this.passphrase = t.passphrase, this.cert = t.cert, this.ca = t.ca, this.ciphers = t.ciphers, this.rejectUnauthorized = t.rejectUnauthorized, this.extraHeaders = t.extraHeaders } t("component-emitter")((e.exports = i).prototype), i.prototype.onError = function (t, e) { var n = new Error(t); return n.type = "TransportError", n.description = e, this.emit("error", n), this }, i.prototype.open = function () { return "closed" != this.readyState && "" != this.readyState || (this.readyState = "opening", this.doOpen()), this }, i.prototype.close = function () { return "opening" != this.readyState && "open" != this.readyState || (this.doClose(), this.onClose()), this }, i.prototype.send = function (t) { if ("open" != this.readyState) throw new Error("Transport not open"); this.write(t) }, i.prototype.onOpen = function () { this.readyState = "open", this.writable = !0, this.emit("open") }, i.prototype.onData = function (t) { var e = r.decodePacket(t, this.socket.binaryType); this.onPacket(e) }, i.prototype.onPacket = function (t) { this.emit("packet", t) }, i.prototype.onClose = function () { this.readyState = "closed", this.emit("close") } }, { "component-emitter": 15, "engine.io-parser": 19 }], 5: [function (e, t, n) { (function (s) { var a = e("xmlhttprequest-ssl"), l = e("./polling-xhr"), u = e("./polling-jsonp"), t = e("./websocket"); n.polling = function (t) { var e = !1, n = !1, r = !1 !== t.jsonp; if (s.location) { var i = "https:" == location.protocol, o = location.port; o || (o = i ? 443 : 80), e = t.hostname != location.hostname || o != t.port, n = t.secure != i } { if (t.xdomain = e, t.xscheme = n, "open" in new a(t) && !t.forceJSONP) return new l(t); if (!r) throw new Error("JSONP disabled"); return new u(t) } }, n.websocket = t }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { "./polling-jsonp": 6, "./polling-xhr": 7, "./websocket": 9, "xmlhttprequest-ssl": 10 }], 6: [function (s, a, t) { (function (n) { var r = s("./polling"), t = s("component-inherit"); a.exports = e; var i, u = /\n/g, c = /\\n/g; function o() { } function e(t) { r.call(this, t), this.query = this.query || {}, i || (n.___eio || (n.___eio = []), i = n.___eio), this.index = i.length; var e = this; i.push(function (t) { e.onData(t) }), this.query.j = this.index, n.document && n.addEventListener && n.addEventListener("beforeunload", function () { e.script && (e.script.onerror = o) }, !1) } t(e, r), e.prototype.supportsBinary = !1, e.prototype.doClose = function () { this.script && (this.script.parentNode.removeChild(this.script), this.script = null), this.form && (this.form.parentNode.removeChild(this.form), this.form = null, this.iframe = null), r.prototype.doClose.call(this) }, e.prototype.doPoll = function () { var e = this, t = document.createElement("script"); this.script && (this.script.parentNode.removeChild(this.script), this.script = null), t.async = !0, t.src = this.uri(), t.onerror = function (t) { e.onError("jsonp poll error", t) }; var n = document.getElementsByTagName("script")[0]; n ? n.parentNode.insertBefore(t, n) : (document.head || document.body).appendChild(t), this.script = t, "undefined" != typeof navigator && /gecko/i.test(navigator.userAgent) && setTimeout(function () { var t = document.createElement("iframe"); document.body.appendChild(t), document.body.removeChild(t) }, 100) }, e.prototype.doWrite = function (t, e) { var n = this; if (!this.form) { var r, i = document.createElement("form"), o = document.createElement("textarea"), s = this.iframeId = "eio_iframe_" + this.index; i.className = "socketio", i.style.position = "absolute", i.style.top = "-1000px", i.style.left = "-1000px", i.target = s, i.method = "POST", i.setAttribute("accept-charset", "utf-8"), o.name = "d", i.appendChild(o), document.body.appendChild(i), this.form = i, this.area = o } function a() { l(), e() } function l() { if (n.iframe) try { n.form.removeChild(n.iframe) } catch (t) { n.onError("jsonp polling iframe removal error", t) } try { var t = '<iframe src="javascript:0" name="' + n.iframeId + '">'; r = document.createElement(t) } catch (t) { (r = document.createElement("iframe")).name = n.iframeId, r.src = "javascript:0" } r.id = n.iframeId, n.form.appendChild(r), n.iframe = r } this.form.action = this.uri(), l(), t = t.replace(c, "\\\n"), this.area.value = t.replace(u, "\\n"); try { this.form.submit() } catch (t) { } this.iframe.attachEvent ? this.iframe.onreadystatechange = function () { "complete" == n.iframe.readyState && a() } : this.iframe.onload = a } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { "./polling": 8, "component-inherit": 16 }], 7: [function (c, f, t) { (function (i) { var o = c("xmlhttprequest-ssl"), r = c("./polling"), t = c("component-emitter"), e = c("component-inherit"), s = c("debug")("engine.io-client:polling-xhr"); function n() { } function a(t) { if (r.call(this, t), i.location) { var e = "https:" == location.protocol, n = location.port; n || (n = e ? 443 : 80), this.xd = t.hostname != i.location.hostname || n != t.port, this.xs = t.secure != e } else this.extraHeaders = t.extraHeaders } function l(t) { this.method = t.method || "GET", this.uri = t.uri, this.xd = !!t.xd, this.xs = !!t.xs, this.async = !1 !== t.async, this.data = null != t.data ? t.data : null, this.agent = t.agent, this.isBinary = t.isBinary, this.supportsBinary = t.supportsBinary, this.enablesXDR = t.enablesXDR, this.pfx = t.pfx, this.key = t.key, this.passphrase = t.passphrase, this.cert = t.cert, this.ca = t.ca, this.ciphers = t.ciphers, this.rejectUnauthorized = t.rejectUnauthorized, this.extraHeaders = t.extraHeaders, this.create() } function u() { for (var t in l.requests) l.requests.hasOwnProperty(t) && l.requests[t].abort() } f.exports = a, f.exports.Request = l, e(a, r), a.prototype.supportsBinary = !0, a.prototype.request = function (t) { return (t = t || {}).uri = this.uri(), t.xd = this.xd, t.xs = this.xs, t.agent = this.agent || !1, t.supportsBinary = this.supportsBinary, t.enablesXDR = this.enablesXDR, t.pfx = this.pfx, t.key = this.key, t.passphrase = this.passphrase, t.cert = this.cert, t.ca = this.ca, t.ciphers = this.ciphers, t.rejectUnauthorized = this.rejectUnauthorized, t.extraHeaders = this.extraHeaders, new l(t) }, a.prototype.doWrite = function (t, e) { var n = "string" != typeof t && void 0 !== t, r = this.request({ method: "POST", data: t, isBinary: n }), i = this; r.on("success", e), r.on("error", function (t) { i.onError("xhr post error", t) }), this.sendXhr = r }, a.prototype.doPoll = function () { s("xhr poll"); var t = this.request(), e = this; t.on("data", function (t) { e.onData(t) }), t.on("error", function (t) { e.onError("xhr poll error", t) }), this.pollXhr = t }, t(l.prototype), l.prototype.create = function () { var t = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR }; t.pfx = this.pfx, t.key = this.key, t.passphrase = this.passphrase, t.cert = this.cert, t.ca = this.ca, t.ciphers = this.ciphers, t.rejectUnauthorized = this.rejectUnauthorized; var e = this.xhr = new o(t), n = this; try { s("xhr open %s: %s", this.method, this.uri), e.open(this.method, this.uri, this.async); try { if (this.extraHeaders) for (var r in e.setDisableHeaderCheck(!0), this.extraHeaders) this.extraHeaders.hasOwnProperty(r) && e.setRequestHeader(r, this.extraHeaders[r]) } catch (t) { } if (this.supportsBinary && (e.responseType = "arraybuffer"), "POST" == this.method) try { this.isBinary ? e.setRequestHeader("Content-type", "application/octet-stream") : e.setRequestHeader("Content-type", "text/plain;charset=UTF-8") } catch (t) { } "withCredentials" in e && (e.withCredentials = !0), this.hasXDR() ? (e.onload = function () { n.onLoad() }, e.onerror = function () { n.onError(e.responseText) }) : e.onreadystatechange = function () { 4 == e.readyState && (200 == e.status || 1223 == e.status ? n.onLoad() : setTimeout(function () { n.onError(e.status) }, 0)) }, s("xhr data %s", this.data), e.send(this.data) } catch (t) { return void setTimeout(function () { n.onError(t) }, 0) } i.document && (this.index = l.requestsCount++ , l.requests[this.index] = this) }, l.prototype.onSuccess = function () { this.emit("success"), this.cleanup() }, l.prototype.onData = function (t) { this.emit("data", t), this.onSuccess() }, l.prototype.onError = function (t) { this.emit("error", t), this.cleanup(!0) }, l.prototype.cleanup = function (t) { if (void 0 !== this.xhr && null !== this.xhr) { if (this.hasXDR() ? this.xhr.onload = this.xhr.onerror = n : this.xhr.onreadystatechange = n, t) try { this.xhr.abort() } catch (t) { } i.document && delete l.requests[this.index], this.xhr = null } }, l.prototype.onLoad = function () { var e; try { var t; try { t = this.xhr.getResponseHeader("Content-Type").split(";")[0] } catch (t) { } if ("application/octet-stream" === t) e = this.xhr.response; else if (this.supportsBinary) try { e = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response)) } catch (t) { for (var n = new Uint8Array(this.xhr.response), r = [], i = 0, o = n.length; i < o; i++)r.push(n[i]); e = String.fromCharCode.apply(null, r) } else e = this.xhr.responseText } catch (t) { this.onError(t) } null != e && this.onData(e) }, l.prototype.hasXDR = function () { return void 0 !== i.XDomainRequest && !this.xs && this.enablesXDR }, l.prototype.abort = function () { this.cleanup() }, i.document && (l.requestsCount = 0, l.requests = {}, i.attachEvent ? i.attachEvent("onunload", u) : i.addEventListener && i.addEventListener("beforeunload", u, !1)) }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { "./polling": 8, "component-emitter": 15, "component-inherit": 16, debug: 17, "xmlhttprequest-ssl": 10 }], 8: [function (t, e, n) { var r = t("../transport"), i = t("parseqs"), o = t("engine.io-parser"), s = t("component-inherit"), a = t("yeast"), l = t("debug")("engine.io-client:polling"); e.exports = c; var u = null != new (t("xmlhttprequest-ssl"))({ xdomain: !1 }).responseType; function c(t) { var e = t && t.forceBase64; u && !e || (this.supportsBinary = !1), r.call(this, t) } s(c, r), c.prototype.name = "polling", c.prototype.doOpen = function () { this.poll() }, c.prototype.pause = function (t) { var e = this; function n() { l("paused"), e.readyState = "paused", t() } if (this.readyState = "pausing", this.polling || !this.writable) { var r = 0; this.polling && (l("we are currently polling - waiting to pause"), r++ , this.once("pollComplete", function () { l("pre-pause polling complete"), --r || n() })), this.writable || (l("we are currently writing - waiting to pause"), r++ , this.once("drain", function () { l("pre-pause writing complete"), --r || n() })) } else n() }, c.prototype.poll = function () { l("polling"), this.polling = !0, this.doPoll(), this.emit("poll") }, c.prototype.onData = function (t) { var r = this; l("polling got data %s", t); o.decodePayload(t, this.socket.binaryType, function (t, e, n) { if ("opening" == r.readyState && r.onOpen(), "close" == t.type) return r.onClose(), !1; r.onPacket(t) }), "closed" != this.readyState && (this.polling = !1, this.emit("pollComplete"), "open" == this.readyState ? this.poll() : l('ignoring poll - transport state "%s"', this.readyState)) }, c.prototype.doClose = function () { var t = this; function e() { l("writing close packet"), t.write([{ type: "close" }]) } "open" == this.readyState ? (l("transport open - closing"), e()) : (l("transport not open - deferring close"), this.once("open", e)) }, c.prototype.write = function (t) { var e = this; this.writable = !1; var n = function () { e.writable = !0, e.emit("drain") }; e = this; o.encodePayload(t, this.supportsBinary, function (t) { e.doWrite(t, n) }) }, c.prototype.uri = function () { var t = this.query || {}, e = this.secure ? "https" : "http", n = ""; return !1 !== this.timestampRequests && (t[this.timestampParam] = a()), this.supportsBinary || t.sid || (t.b64 = 1), t = i.encode(t), this.port && ("https" == e && 443 != this.port || "http" == e && 80 != this.port) && (n = ":" + this.port), t.length && (t = "?" + t), e + "://" + (-1 !== this.hostname.indexOf(":") ? "[" + this.hostname + "]" : this.hostname) + n + this.path + t } }, { "../transport": 4, "component-inherit": 16, debug: 17, "engine.io-parser": 19, parseqs: 27, "xmlhttprequest-ssl": 10, yeast: 30 }], 9: [function (c, f, t) { (function (s) { var n = c("../transport"), a = c("engine.io-parser"), r = c("parseqs"), t = c("component-inherit"), i = c("yeast"), l = c("debug")("engine.io-client:websocket"), u = s.WebSocket || s.MozWebSocket, o = u; if (!o && "undefined" == typeof window) try { o = c("ws") } catch (t) { } function e(t) { t && t.forceBase64 && (this.supportsBinary = !1), this.perMessageDeflate = t.perMessageDeflate, n.call(this, t) } t(f.exports = e, n), e.prototype.name = "websocket", e.prototype.supportsBinary = !0, e.prototype.doOpen = function () { if (this.check()) { var t = this.uri(), e = { agent: this.agent, perMessageDeflate: this.perMessageDeflate }; e.pfx = this.pfx, e.key = this.key, e.passphrase = this.passphrase, e.cert = this.cert, e.ca = this.ca, e.ciphers = this.ciphers, e.rejectUnauthorized = this.rejectUnauthorized, this.extraHeaders && (e.headers = this.extraHeaders), this.ws = u ? new o(t) : new o(t, void 0, e), void 0 === this.ws.binaryType && (this.supportsBinary = !1), this.ws.supports && this.ws.supports.binary ? (this.supportsBinary = !0, this.ws.binaryType = "buffer") : this.ws.binaryType = "arraybuffer", this.addEventListeners() } }, e.prototype.addEventListeners = function () { var e = this; this.ws.onopen = function () { e.onOpen() }, this.ws.onclose = function () { e.onClose() }, this.ws.onmessage = function (t) { e.onData(t.data) }, this.ws.onerror = function (t) { e.onError("websocket error", t) } }, "undefined" != typeof navigator && /iPad|iPhone|iPod/i.test(navigator.userAgent) && (e.prototype.onData = function (t) { var e = this; setTimeout(function () { n.prototype.onData.call(e, t) }, 0) }), e.prototype.write = function (t) { var r = this; this.writable = !1; for (var i = t.length, e = 0, n = i; e < n; e++)!function (n) { a.encodePacket(n, r.supportsBinary, function (t) { if (!u) { var e = {}; if (n.options && (e.compress = n.options.compress), r.perMessageDeflate) ("string" == typeof t ? s.Buffer.byteLength(t) : t.length) < r.perMessageDeflate.threshold && (e.compress = !1) } try { u ? r.ws.send(t) : r.ws.send(t, e) } catch (t) { l("websocket closed before onclose event") } --i || o() }) }(t[e]); function o() { r.emit("flush"), setTimeout(function () { r.writable = !0, r.emit("drain") }, 0) } }, e.prototype.onClose = function () { n.prototype.onClose.call(this) }, e.prototype.doClose = function () { void 0 !== this.ws && this.ws.close() }, e.prototype.uri = function () { var t = this.query || {}, e = this.secure ? "wss" : "ws", n = ""; return this.port && ("wss" == e && 443 != this.port || "ws" == e && 80 != this.port) && (n = ":" + this.port), this.timestampRequests && (t[this.timestampParam] = i()), this.supportsBinary || (t.b64 = 1), (t = r.encode(t)).length && (t = "?" + t), e + "://" + (-1 !== this.hostname.indexOf(":") ? "[" + this.hostname + "]" : this.hostname) + n + this.path + t }, e.prototype.check = function () { return !(!o || "__initialize" in o && this.name === e.prototype.name) } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { "../transport": 4, "component-inherit": 16, debug: 17, "engine.io-parser": 19, parseqs: 27, ws: void 0, yeast: 30 }], 10: [function (t, e, n) { var i = t("has-cors"); e.exports = function (t) { var e = t.xdomain, n = t.xscheme, r = t.enablesXDR; try { if ("undefined" != typeof XMLHttpRequest && (!e || i)) return new XMLHttpRequest } catch (t) { } try { if ("undefined" != typeof XDomainRequest && !n && r) return new XDomainRequest } catch (t) { } if (!e) try { return new ActiveXObject("Microsoft.XMLHTTP") } catch (t) { } } }, { "has-cors": 22 }], 11: [function (t, e, n) { function s() { } e.exports = function (t, n, r) { var i = !1; return r = r || s, 0 === (o.count = t) ? n() : o; function o(t, e) { if (o.count <= 0) throw new Error("after called too many times"); --o.count, t ? (i = !0, n(t), n = r) : 0 !== o.count || i || n(null, e) } } }, {}], 12: [function (t, e, n) { e.exports = function (t, e, n) { var r = t.byteLength; if (e = e || 0, n = n || r, t.slice) return t.slice(e, n); if (e < 0 && (e += r), n < 0 && (n += r), r < n && (n = r), r <= e || n <= e || 0 === r) return new ArrayBuffer(0); for (var i = new Uint8Array(t), o = new Uint8Array(n - e), s = e, a = 0; s < n; s++ , a++)o[a] = i[s]; return o.buffer } }, {}], 13: [function (t, e, n) { !function (f) { "use strict"; n.encode = function (t) { var e, n = new Uint8Array(t), r = n.length, i = ""; for (e = 0; e < r; e += 3)i += f[n[e] >> 2], i += f[(3 & n[e]) << 4 | n[e + 1] >> 4], i += f[(15 & n[e + 1]) << 2 | n[e + 2] >> 6], i += f[63 & n[e + 2]]; return r % 3 == 2 ? i = i.substring(0, i.length - 1) + "=" : r % 3 == 1 && (i = i.substring(0, i.length - 2) + "=="), i }, n.decode = function (t) { var e, n, r, i, o, s = .75 * t.length, a = t.length, l = 0; "=" === t[t.length - 1] && (s-- , "=" === t[t.length - 2] && s--); var u = new ArrayBuffer(s), c = new Uint8Array(u); for (e = 0; e < a; e += 4)n = f.indexOf(t[e]), r = f.indexOf(t[e + 1]), i = f.indexOf(t[e + 2]), o = f.indexOf(t[e + 3]), c[l++] = n << 2 | r >> 4, c[l++] = (15 & r) << 4 | i >> 2, c[l++] = (3 & i) << 6 | 63 & o; return u } }("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/") }, {}], 14: [function (t, l, e) { (function (t) { var i = t.BlobBuilder || t.WebKitBlobBuilder || t.MSBlobBuilder || t.MozBlobBuilder, e = function () { try { return 2 === new Blob(["hi"]).size } catch (t) { return !1 } }(), n = e && function () { try { return 2 === new Blob([new Uint8Array([1, 2])]).size } catch (t) { return !1 } }(), r = i && i.prototype.append && i.prototype.getBlob; function o(t) { for (var e = 0; e < t.length; e++) { var n = t[e]; if (n.buffer instanceof ArrayBuffer) { var r = n.buffer; if (n.byteLength !== r.byteLength) { var i = new Uint8Array(n.byteLength); i.set(new Uint8Array(r, n.byteOffset, n.byteLength)), r = i.buffer } t[e] = r } } } function s(t, e) { e = e || {}; var n = new i; o(t); for (var r = 0; r < t.length; r++)n.append(t[r]); return e.type ? n.getBlob(e.type) : n.getBlob() } function a(t, e) { return o(t), new Blob(t, e || {}) } l.exports = e ? n ? t.Blob : a : r ? s : void 0 }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, {}], 15: [function (t, e, n) { function r(t) { if (t) return function (t) { for (var e in r.prototype) t[e] = r.prototype[e]; return t }(t) } (e.exports = r).prototype.on = r.prototype.addEventListener = function (t, e) { return this._callbacks = this._callbacks || {}, (this._callbacks[t] = this._callbacks[t] || []).push(e), this }, r.prototype.once = function (t, e) { var n = this; function r() { n.off(t, r), e.apply(this, arguments) } return this._callbacks = this._callbacks || {}, r.fn = e, this.on(t, r), this }, r.prototype.off = r.prototype.removeListener = r.prototype.removeAllListeners = r.prototype.removeEventListener = function (t, e) { if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this; var n, r = this._callbacks[t]; if (!r) return this; if (1 == arguments.length) return delete this._callbacks[t], this; for (var i = 0; i < r.length; i++)if ((n = r[i]) === e || n.fn === e) { r.splice(i, 1); break } return this }, r.prototype.emit = function (t) { this._callbacks = this._callbacks || {}; var e = [].slice.call(arguments, 1), n = this._callbacks[t]; if (n) for (var r = 0, i = (n = n.slice(0)).length; r < i; ++r)n[r].apply(this, e); return this }, r.prototype.listeners = function (t) { return this._callbacks = this._callbacks || {}, this._callbacks[t] || [] }, r.prototype.hasListeners = function (t) { return !!this.listeners(t).length } }, {}], 16: [function (t, e, n) { e.exports = function (t, e) { var n = function () { }; n.prototype = e.prototype, t.prototype = new n, t.prototype.constructor = t } }, {}], 17: [function (t, e, o) { function n() { var t; try { t = o.storage.debug } catch (t) { } return t } (o = e.exports = t("./debug")).log = function () { return "object" == typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments) }, o.formatArgs = function () { var t = arguments, e = this.useColors; if (t[0] = (e ? "%c" : "") + this.namespace + (e ? " %c" : " ") + t[0] + (e ? "%c " : " ") + "+" + o.humanize(this.diff), !e) return t; var n = "color: " + this.color; t = [t[0], n, "color: inherit"].concat(Array.prototype.slice.call(t, 1)); var r = 0, i = 0; return t[0].replace(/%[a-z%]/g, function (t) { "%%" !== t && (r++ , "%c" === t && (i = r)) }), t.splice(i, 0, n), t }, o.save = function (t) { try { null == t ? o.storage.removeItem("debug") : o.storage.debug = t } catch (t) { } }, o.load = n, o.useColors = function () { return "WebkitAppearance" in document.documentElement.style || window.console && (console.firebug || console.exception && console.table) || navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && 31 <= parseInt(RegExp.$1, 10) }, o.storage = "undefined" != typeof chrome && void 0 !== chrome.storage ? chrome.storage.local : function () { try { return window.localStorage } catch (t) { } }(), o.colors = ["lightseagreen", "forestgreen", "goldenrod", "dodgerblue", "darkorchid", "crimson"], o.formatters.j = function (t) { return JSON.stringify(t) }, o.enable(n()) }, { "./debug": 18 }], 18: [function (t, e, a) { (a = e.exports = function (t) { function e() { } function r() { var i = r, t = +new Date, e = t - (l || t); i.diff = e, i.prev = l, i.curr = t, l = t, null == i.useColors && (i.useColors = a.useColors()), null == i.color && i.useColors && (i.color = a.colors[u++ % a.colors.length]); var o = Array.prototype.slice.call(arguments); o[0] = a.coerce(o[0]), "string" != typeof o[0] && (o = ["%o"].concat(o)); var s = 0; o[0] = o[0].replace(/%([a-z%])/g, function (t, e) { if ("%%" === t) return t; s++; var n = a.formatters[e]; if ("function" == typeof n) { var r = o[s]; t = n.call(i, r), o.splice(s, 1), s-- } return t }), "function" == typeof a.formatArgs && (o = a.formatArgs.apply(i, o)); var n = r.log || a.log || console.log.bind(console); n.apply(i, o) } e.enabled = !1, r.enabled = !0; var n = a.enabled(t) ? r : e; return n.namespace = t, n }).coerce = function (t) { return t instanceof Error ? t.stack || t.message : t }, a.disable = function () { a.enable("") }, a.enable = function (t) { a.save(t); for (var e = (t || "").split(/[\s,]+/), n = e.length, r = 0; r < n; r++)e[r] && ("-" === (t = e[r].replace(/\*/g, ".*?"))[0] ? a.skips.push(new RegExp("^" + t.substr(1) + "$")) : a.names.push(new RegExp("^" + t + "$"))) }, a.enabled = function (t) { var e, n; for (e = 0, n = a.skips.length; e < n; e++)if (a.skips[e].test(t)) return !1; for (e = 0, n = a.names.length; e < n; e++)if (a.names[e].test(t)) return !0; return !1 }, a.humanize = t("ms"), a.names = [], a.skips = [], a.formatters = {}; var l, u = 0 }, { ms: 25 }], 19: [function (r, t, m) { (function (u) { var t = r("./keys"), i = r("has-binary"), d = r("arraybuffer.slice"), o = r("base64-arraybuffer"), a = r("after"), c = r("utf8"), e = navigator.userAgent.match(/Android/i), n = /PhantomJS/i.test(navigator.userAgent), f = e || n; m.protocol = 3; var h = m.packets = { open: 0, close: 1, ping: 2, pong: 3, message: 4, upgrade: 5, noop: 6 }, s = t(h), p = { type: "error", data: "parser error" }, g = r("blob"); function l(t, e, n) { for (var i = new Array(t.length), r = a(t.length, n), o = function (n, t, r) { e(t, function (t, e) { i[n] = e, r(t, i) }) }, s = 0; s < t.length; s++)o(s, t[s], r) } m.encodePacket = function (t, e, n, r) { "function" == typeof e && (r = e, e = !1), "function" == typeof n && (r = n, n = null); var i, o, s, a = void 0 === t.data ? void 0 : t.data.buffer || t.data; if (u.ArrayBuffer && a instanceof ArrayBuffer) return function (t, e, n) { if (!e) return m.encodeBase64Packet(t, n); var r = t.data, i = new Uint8Array(r), o = new Uint8Array(1 + r.byteLength); o[0] = h[t.type]; for (var s = 0; s < i.length; s++)o[s + 1] = i[s]; return n(o.buffer) }(t, e, r); if (g && a instanceof u.Blob) return function (t, e, n) { if (!e) return m.encodeBase64Packet(t, n); if (f) return function (t, e, n) { if (!e) return m.encodeBase64Packet(t, n); var r = new FileReader; return r.onload = function () { t.data = r.result, m.encodePacket(t, e, !0, n) }, r.readAsArrayBuffer(t.data) }(t, e, n); var r = new Uint8Array(1); r[0] = h[t.type]; var i = new g([r.buffer, t.data]); return n(i) }(t, e, r); if (a && a.base64) return i = t, o = r, s = "b" + m.packets[i.type] + i.data.data, o(s); var l = h[t.type]; return void 0 !== t.data && (l += n ? c.encode(String(t.data)) : String(t.data)), r("" + l) }, m.encodeBase64Packet = function (e, n) { var r, i = "b" + m.packets[e.type]; if (g && e.data instanceof u.Blob) { var o = new FileReader; return o.onload = function () { var t = o.result.split(",")[1]; n(i + t) }, o.readAsDataURL(e.data) } try { r = String.fromCharCode.apply(null, new Uint8Array(e.data)) } catch (t) { for (var s = new Uint8Array(e.data), a = new Array(s.length), l = 0; l < s.length; l++)a[l] = s[l]; r = String.fromCharCode.apply(null, a) } return i += u.btoa(r), n(i) }, m.decodePacket = function (t, e, n) { if ("string" == typeof t || void 0 === t) { if ("b" == t.charAt(0)) return m.decodeBase64Packet(t.substr(1), e); if (n) try { t = c.decode(t) } catch (t) { return p } var r = t.charAt(0); return Number(r) == r && s[r] ? 1 < t.length ? { type: s[r], data: t.substring(1) } : { type: s[r] } : p } r = new Uint8Array(t)[0]; var i = d(t, 1); return g && "blob" === e && (i = new g([i])), { type: s[r], data: i } }, m.decodeBase64Packet = function (t, e) { var n = s[t.charAt(0)]; if (!u.ArrayBuffer) return { type: n, data: { base64: !0, data: t.substr(1) } }; var r = o.decode(t.substr(1)); return "blob" === e && g && (r = new g([r])), { type: n, data: r } }, m.encodePayload = function (t, e, n) { "function" == typeof e && (n = e, e = null); var r = i(t); if (e && r) return g && !f ? m.encodePayloadAsBlob(t, n) : m.encodePayloadAsArrayBuffer(t, n); if (!t.length) return n("0:"); l(t, function (t, n) { m.encodePacket(t, !!r && e, !0, function (t) { var e; n(null, (e = t).length + ":" + e) }) }, function (t, e) { return n(e.join("")) }) }, m.decodePayload = function (t, e, n) { if ("string" != typeof t) return m.decodePayloadAsBinary(t, e, n); var r; if ("function" == typeof e && (n = e, e = null), "" == t) return n(p, 0, 1); for (var i, o, s = "", a = 0, l = t.length; a < l; a++) { var u = t.charAt(a); if (":" != u) s += u; else { if ("" == s || s != (i = Number(s))) return n(p, 0, 1); if (s != (o = t.substr(a + 1, i)).length) return n(p, 0, 1); if (o.length) { if (r = m.decodePacket(o, e, !0), p.type == r.type && p.data == r.data) return n(p, 0, 1); if (!1 === n(r, a + i, l)) return } a += i, s = "" } } return "" != s ? n(p, 0, 1) : void 0 }, m.encodePayloadAsArrayBuffer = function (t, r) { if (!t.length) return r(new ArrayBuffer(0)); l(t, function (t, e) { m.encodePacket(t, !0, !0, function (t) { return e(null, t) }) }, function (t, e) { var n = e.reduce(function (t, e) { var n; return t + (n = "string" == typeof e ? e.length : e.byteLength).toString().length + n + 2 }, 0), s = new Uint8Array(n), a = 0; return e.forEach(function (t) { var e = "string" == typeof t, n = t; if (e) { for (var r = new Uint8Array(t.length), i = 0; i < t.length; i++)r[i] = t.charCodeAt(i); n = r.buffer } s[a++] = e ? 0 : 1; var o = n.byteLength.toString(); for (i = 0; i < o.length; i++)s[a++] = parseInt(o[i]); s[a++] = 255; for (r = new Uint8Array(n), i = 0; i < r.length; i++)s[a++] = r[i] }), r(s.buffer) }) }, m.encodePayloadAsBlob = function (t, n) { l(t, function (t, a) { m.encodePacket(t, !0, !0, function (t) { var e = new Uint8Array(1); if (e[0] = 1, "string" == typeof t) { for (var n = new Uint8Array(t.length), r = 0; r < t.length; r++)n[r] = t.charCodeAt(r); t = n.buffer, e[0] = 0 } var i = (t instanceof ArrayBuffer ? t.byteLength : t.size).toString(), o = new Uint8Array(i.length + 1); for (r = 0; r < i.length; r++)o[r] = parseInt(i[r]); if (o[i.length] = 255, g) { var s = new g([e.buffer, o.buffer, t]); a(null, s) } }) }, function (t, e) { return n(new g(e)) }) }, m.decodePayloadAsBinary = function (t, n, r) { "function" == typeof n && (r = n, n = null); for (var e = t, i = [], o = !1; 0 < e.byteLength;) { for (var s = new Uint8Array(e), a = 0 === s[0], l = "", u = 1; 255 != s[u]; u++) { if (310 < l.length) { o = !0; break } l += s[u] } if (o) return r(p, 0, 1); e = d(e, 2 + l.length), l = parseInt(l); var c = d(e, 0, l); if (a) try { c = String.fromCharCode.apply(null, new Uint8Array(c)) } catch (t) { var f = new Uint8Array(c); c = ""; for (u = 0; u < f.length; u++)c += String.fromCharCode(f[u]) } i.push(c), e = d(e, l) } var h = i.length; i.forEach(function (t, e) { r(m.decodePacket(t, n, !0), e, h) }) } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { "./keys": 20, after: 11, "arraybuffer.slice": 12, "base64-arraybuffer": 13, blob: 14, "has-binary": 21, utf8: 29 }], 20: [function (t, e, n) { e.exports = Object.keys || function (t) { var e = [], n = Object.prototype.hasOwnProperty; for (var r in t) n.call(t, r) && e.push(r); return e } }, {}], 21: [function (t, e, n) { (function (i) { var o = t("isarray"); e.exports = function (t) { return function t(e) { if (!e) return !1; if (i.Buffer && i.Buffer.isBuffer(e) || i.ArrayBuffer && e instanceof ArrayBuffer || i.Blob && e instanceof Blob || i.File && e instanceof File) return !0; if (o(e)) { for (var n = 0; n < e.length; n++)if (t(e[n])) return !0 } else if (e && "object" == typeof e) for (var r in e.toJSON && (e = e.toJSON()), e) if (Object.prototype.hasOwnProperty.call(e, r) && t(e[r])) return !0; return !1 }(t) } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { isarray: 24 }], 22: [function (t, e, n) { try { e.exports = "undefined" != typeof XMLHttpRequest && "withCredentials" in new XMLHttpRequest } catch (t) { e.exports = !1 } }, {}], 23: [function (t, e, n) { var r = [].indexOf; e.exports = function (t, e) { if (r) return t.indexOf(e); for (var n = 0; n < t.length; ++n)if (t[n] === e) return n; return -1 } }, {}], 24: [function (t, e, n) { e.exports = Array.isArray || function (t) { return "[object Array]" == Object.prototype.toString.call(t) } }, {}], 25: [function (t, e, n) { function i(t, e, n) { if (!(t < e)) return t < 1.5 * e ? Math.floor(t / e) + " " + n : Math.ceil(t / e) + " " + n + "s" } e.exports = function (t, e) { return e = e || {}, "string" == typeof t ? function (t) { if (1e4 < (t = "" + t).length) return; var e = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t); if (!e) return; var n = parseFloat(e[1]); switch ((e[2] || "ms").toLowerCase()) { case "years": case "year": case "yrs": case "yr": case "y": return 315576e5 * n; case "days": case "day": case "d": return 864e5 * n; case "hours": case "hour": case "hrs": case "hr": case "h": return 36e5 * n; case "minutes": case "minute": case "mins": case "min": case "m": return 6e4 * n; case "seconds": case "second": case "secs": case "sec": case "s": return 1e3 * n; case "milliseconds": case "millisecond": case "msecs": case "msec": case "ms": return n } }(t) : e.long ? i(r = t, 864e5, "day") || i(r, 36e5, "hour") || i(r, 6e4, "minute") || i(r, 1e3, "second") || r + " ms" : 864e5 <= (n = t) ? Math.round(n / 864e5) + "d" : 36e5 <= n ? Math.round(n / 36e5) + "h" : 6e4 <= n ? Math.round(n / 6e4) + "m" : 1e3 <= n ? Math.round(n / 1e3) + "s" : n + "ms"; var n, r } }, {}], 26: [function (t, l, e) { (function (e) { var n = /^[\],:{}\s]*$/, r = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, i = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, o = /(?:^|:|,)(?:\s*\[)+/g, s = /^\s+/, a = /\s+$/; l.exports = function (t) { return "string" == typeof t && t ? (t = t.replace(s, "").replace(a, ""), e.JSON && JSON.parse ? JSON.parse(t) : n.test(t.replace(r, "@").replace(i, "]").replace(o, "")) ? new Function("return " + t)() : void 0) : null } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, {}], 27: [function (t, e, n) { n.encode = function (t) { var e = ""; for (var n in t) t.hasOwnProperty(n) && (e.length && (e += "&"), e += encodeURIComponent(n) + "=" + encodeURIComponent(t[n])); return e }, n.decode = function (t) { for (var e = {}, n = t.split("&"), r = 0, i = n.length; r < i; r++) { var o = n[r].split("="); e[decodeURIComponent(o[0])] = decodeURIComponent(o[1]) } return e } }, {}], 28: [function (t, e, n) { var a = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/, l = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"]; e.exports = function (t) { var e = t, n = t.indexOf("["), r = t.indexOf("]"); -1 != n && -1 != r && (t = t.substring(0, n) + t.substring(n, r).replace(/:/g, ";") + t.substring(r, t.length)); for (var i = a.exec(t || ""), o = {}, s = 14; s--;)o[l[s]] = i[s] || ""; return -1 != n && -1 != r && (o.source = e, o.host = o.host.substring(1, o.host.length - 1).replace(/;/g, ":"), o.authority = o.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), o.ipv6uri = !0), o } }, {}], 29: [function (t, v, b) { (function (y) { !function (t) { var e = "object" == typeof b && b, n = "object" == typeof v && v && v.exports == e && v, r = "object" == typeof y && y; r.global !== r && r.window !== r || (t = r); var i, o, s, a = String.fromCharCode; function l(t) { for (var e, n, r = [], i = 0, o = t.length; i < o;)55296 <= (e = t.charCodeAt(i++)) && e <= 56319 && i < o ? 56320 == (64512 & (n = t.charCodeAt(i++))) ? r.push(((1023 & e) << 10) + (1023 & n) + 65536) : (r.push(e), i--) : r.push(e); return r } function u(t) { if (55296 <= t && t <= 57343) throw Error("Lone surrogate U+" + t.toString(16).toUpperCase() + " is not a scalar value") } function c(t, e) { return a(t >> e & 63 | 128) } function f(t) { if (0 == (4294967168 & t)) return a(t); var e = ""; return 0 == (4294965248 & t) ? e = a(t >> 6 & 31 | 192) : 0 == (4294901760 & t) ? (u(t), e = a(t >> 12 & 15 | 224), e += c(t, 6)) : 0 == (4292870144 & t) && (e = a(t >> 18 & 7 | 240), e += c(t, 12), e += c(t, 6)), e += a(63 & t | 128) } function h() { if (o <= s) throw Error("Invalid byte index"); var t = 255 & i[s]; if (s++ , 128 == (192 & t)) return 63 & t; throw Error("Invalid continuation byte") } function d() { var t, e; if (o < s) throw Error("Invalid byte index"); if (s == o) return !1; if (t = 255 & i[s], s++ , 0 == (128 & t)) return t; if (192 == (224 & t)) { if (128 <= (e = (31 & t) << 6 | h())) return e; throw Error("Invalid continuation byte") } if (224 == (240 & t)) { if (2048 <= (e = (15 & t) << 12 | h() << 6 | h())) return u(e), e; throw Error("Invalid continuation byte") } if (240 == (248 & t) && 65536 <= (e = (15 & t) << 18 | h() << 12 | h() << 6 | h()) && e <= 1114111) return e; throw Error("Invalid UTF-8 detected") } var p = { version: "2.0.0", encode: function (t) { for (var e = l(t), n = e.length, r = -1, i = ""; ++r < n;)i += f(e[r]); return i }, decode: function (t) { i = l(t), o = i.length, s = 0; for (var e, n = []; !1 !== (e = d());)n.push(e); return function (t) { for (var e, n = t.length, r = -1, i = ""; ++r < n;)65535 < (e = t[r]) && (i += a((e -= 65536) >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), i += a(e); return i }(n) } }; if (e && !e.nodeType) if (n) n.exports = p; else { var g = {}.hasOwnProperty; for (var m in p) g.call(p, m) && (e[m] = p[m]) } else t.utf8 = p }(this) }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, {}], 30: [function (t, e, n) { "use strict"; var r, i = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""), o = 64, s = {}, a = 0, l = 0; function u(t) { for (var e = ""; e = i[t % o] + e, 0 < (t = Math.floor(t / o));); return e } function c() { var t = u(+new Date); return t !== r ? (a = 0, r = t) : t + "." + u(a++) } for (; l < o; l++)s[i[l]] = l; c.encode = u, c.decode = function (t) { var e = 0; for (l = 0; l < t.length; l++)e = e * o + s[t.charAt(l)]; return e }, e.exports = c }, {}], 31: [function (t, e, n) { var l = t("./url"), r = t("socket.io-parser"), u = t("./manager"), c = t("debug")("socket.io-client"); e.exports = n = i; var f = n.managers = {}; function i(t, e) { "object" == typeof t && (e = t, t = void 0), e = e || {}; var n, r = l(t), i = r.source, o = r.id, s = r.path, a = f[o] && s in f[o].nsps; return e.forceNew || e["force new connection"] || !1 === e.multiplex || a ? (c("ignoring socket cache for %s", i), n = u(i, e)) : (f[o] || (c("new io instance for %s", i), f[o] = u(i, e)), n = f[o]), n.socket(r.path) } n.protocol = r.protocol, n.connect = i, n.Manager = t("./manager"), n.Socket = t("./socket") }, { "./manager": 32, "./socket": 34, "./url": 35, debug: 39, "socket.io-parser": 47 }], 32: [function (t, e, n) { var a = t("engine.io-client"), i = t("./socket"), r = t("component-emitter"), o = t("socket.io-parser"), l = t("./on"), s = t("component-bind"), u = t("debug")("socket.io-client:manager"), c = t("indexof"), f = t("backo2"), h = Object.prototype.hasOwnProperty; function d(t, e) { if (!(this instanceof d)) return new d(t, e); t && "object" == typeof t && (e = t, t = void 0), (e = e || {}).path = e.path || "/socket.io", this.nsps = {}, this.subs = [], this.opts = e, this.reconnection(!1 !== e.reconnection), this.reconnectionAttempts(e.reconnectionAttempts || 1 / 0), this.reconnectionDelay(e.reconnectionDelay || 1e3), this.reconnectionDelayMax(e.reconnectionDelayMax || 5e3), this.randomizationFactor(e.randomizationFactor || .5), this.backoff = new f({ min: this.reconnectionDelay(), max: this.reconnectionDelayMax(), jitter: this.randomizationFactor() }), this.timeout(null == e.timeout ? 2e4 : e.timeout), this.readyState = "closed", this.uri = t, this.connecting = [], this.lastPing = null, this.encoding = !1, this.packetBuffer = [], this.encoder = new o.Encoder, this.decoder = new o.Decoder, this.autoConnect = !1 !== e.autoConnect, this.autoConnect && this.open() } (e.exports = d).prototype.emitAll = function () { for (var t in this.emit.apply(this, arguments), this.nsps) h.call(this.nsps, t) && this.nsps[t].emit.apply(this.nsps[t], arguments) }, d.prototype.updateSocketIds = function () { for (var t in this.nsps) h.call(this.nsps, t) && (this.nsps[t].id = this.engine.id) }, r(d.prototype), d.prototype.reconnection = function (t) { return arguments.length ? (this._reconnection = !!t, this) : this._reconnection }, d.prototype.reconnectionAttempts = function (t) { return arguments.length ? (this._reconnectionAttempts = t, this) : this._reconnectionAttempts }, d.prototype.reconnectionDelay = function (t) { return arguments.length ? (this._reconnectionDelay = t, this.backoff && this.backoff.setMin(t), this) : this._reconnectionDelay }, d.prototype.randomizationFactor = function (t) { return arguments.length ? (this._randomizationFactor = t, this.backoff && this.backoff.setJitter(t), this) : this._randomizationFactor }, d.prototype.reconnectionDelayMax = function (t) { return arguments.length ? (this._reconnectionDelayMax = t, this.backoff && this.backoff.setMax(t), this) : this._reconnectionDelayMax }, d.prototype.timeout = function (t) { return arguments.length ? (this._timeout = t, this) : this._timeout }, d.prototype.maybeReconnectOnOpen = function () { !this.reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect() }, d.prototype.open = d.prototype.connect = function (n) { if (u("readyState %s", this.readyState), ~this.readyState.indexOf("open")) return this; u("opening %s", this.uri), this.engine = a(this.uri, this.opts); var t = this.engine, r = this; this.readyState = "opening", this.skipReconnect = !1; var e = l(t, "open", function () { r.onopen(), n && n() }), i = l(t, "error", function (t) { if (u("connect_error"), r.cleanup(), r.readyState = "closed", r.emitAll("connect_error", t), n) { var e = new Error("Connection error"); e.data = t, n(e) } else r.maybeReconnectOnOpen() }); if (!1 !== this._timeout) { var o = this._timeout; u("connect attempt will timeout after %d", o); var s = setTimeout(function () { u("connect attempt timed out after %d", o), e.destroy(), t.close(), t.emit("error", "timeout"), r.emitAll("connect_timeout", o) }, o); this.subs.push({ destroy: function () { clearTimeout(s) } }) } return this.subs.push(e), this.subs.push(i), this }, d.prototype.onopen = function () { u("open"), this.cleanup(), this.readyState = "open", this.emit("open"); var t = this.engine; this.subs.push(l(t, "data", s(this, "ondata"))), this.subs.push(l(t, "ping", s(this, "onping"))), this.subs.push(l(t, "pong", s(this, "onpong"))), this.subs.push(l(t, "error", s(this, "onerror"))), this.subs.push(l(t, "close", s(this, "onclose"))), this.subs.push(l(this.decoder, "decoded", s(this, "ondecoded"))) }, d.prototype.onping = function () { this.lastPing = new Date, this.emitAll("ping") }, d.prototype.onpong = function () { this.emitAll("pong", new Date - this.lastPing) }, d.prototype.ondata = function (t) { this.decoder.add(t) }, d.prototype.ondecoded = function (t) { this.emit("packet", t) }, d.prototype.onerror = function (t) { u("error", t), this.emitAll("error", t) }, d.prototype.socket = function (t) { var e = this.nsps[t]; if (!e) { e = new i(this, t), this.nsps[t] = e; var n = this; e.on("connecting", r), e.on("connect", function () { e.id = n.engine.id }), this.autoConnect && r() } function r() { ~c(n.connecting, e) || n.connecting.push(e) } return e }, d.prototype.destroy = function (t) { var e = c(this.connecting, t); ~e && this.connecting.splice(e, 1), this.connecting.length || this.close() }, d.prototype.packet = function (n) { u("writing packet %j", n); var r = this; r.encoding ? r.packetBuffer.push(n) : (r.encoding = !0, this.encoder.encode(n, function (t) { for (var e = 0; e < t.length; e++)r.engine.write(t[e], n.options); r.encoding = !1, r.processPacketQueue() })) }, d.prototype.processPacketQueue = function () { if (0 < this.packetBuffer.length && !this.encoding) { var t = this.packetBuffer.shift(); this.packet(t) } }, d.prototype.cleanup = function () { var t; for (u("cleanup"); t = this.subs.shift();)t.destroy(); this.packetBuffer = [], this.encoding = !1, this.lastPing = null, this.decoder.destroy() }, d.prototype.close = d.prototype.disconnect = function () { u("disconnect"), this.skipReconnect = !0, this.reconnecting = !1, "opening" == this.readyState && this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.engine && this.engine.close() }, d.prototype.onclose = function (t) { u("onclose"), this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.emit("close", t), this._reconnection && !this.skipReconnect && this.reconnect() }, d.prototype.reconnect = function () { if (this.reconnecting || this.skipReconnect) return this; var e = this; if (this.backoff.attempts >= this._reconnectionAttempts) u("reconnect failed"), this.backoff.reset(), this.emitAll("reconnect_failed"), this.reconnecting = !1; else { var t = this.backoff.duration(); u("will wait %dms before reconnect attempt", t), this.reconnecting = !0; var n = setTimeout(function () { e.skipReconnect || (u("attempting reconnect"), e.emitAll("reconnect_attempt", e.backoff.attempts), e.emitAll("reconnecting", e.backoff.attempts), e.skipReconnect || e.open(function (t) { t ? (u("reconnect attempt error"), e.reconnecting = !1, e.reconnect(), e.emitAll("reconnect_error", t.data)) : (u("reconnect success"), e.onreconnect()) })) }, t); this.subs.push({ destroy: function () { clearTimeout(n) } }) } }, d.prototype.onreconnect = function () { var t = this.backoff.attempts; this.reconnecting = !1, this.backoff.reset(), this.updateSocketIds(), this.emitAll("reconnect", t) } }, { "./on": 33, "./socket": 34, backo2: 36, "component-bind": 37, "component-emitter": 38, debug: 39, "engine.io-client": 1, indexof: 42, "socket.io-parser": 47 }], 33: [function (t, e, n) { e.exports = function (t, e, n) { return t.on(e, n), { destroy: function () { t.removeListener(e, n) } } } }, {}], 34: [function (t, e, n) { var o = t("socket.io-parser"), r = t("component-emitter"), s = t("to-array"), i = t("./on"), a = t("component-bind"), l = t("debug")("socket.io-client:socket"), u = t("has-binary"); e.exports = h; var c = { connect: 1, connect_error: 1, connect_timeout: 1, connecting: 1, disconnect: 1, error: 1, reconnect: 1, reconnect_attempt: 1, reconnect_failed: 1, reconnect_error: 1, reconnecting: 1, ping: 1, pong: 1 }, f = r.prototype.emit; function h(t, e) { this.io = t, this.nsp = e, (this.json = this).ids = 0, this.acks = {}, this.receiveBuffer = [], this.sendBuffer = [], this.connected = !1, this.disconnected = !0, this.io.autoConnect && this.open() } r(h.prototype), h.prototype.subEvents = function () { if (!this.subs) { var t = this.io; this.subs = [i(t, "open", a(this, "onopen")), i(t, "packet", a(this, "onpacket")), i(t, "close", a(this, "onclose"))] } }, h.prototype.open = h.prototype.connect = function () { return this.connected || (this.subEvents(), this.io.open(), "open" == this.io.readyState && this.onopen(), this.emit("connecting")), this }, h.prototype.send = function () { var t = s(arguments); return t.unshift("message"), this.emit.apply(this, t), this }, h.prototype.emit = function (t) { if (c.hasOwnProperty(t)) return f.apply(this, arguments), this; var e = s(arguments), n = o.EVENT; u(e) && (n = o.BINARY_EVENT); var r = { type: n, data: e, options: {} }; return r.options.compress = !this.flags || !1 !== this.flags.compress, "function" == typeof e[e.length - 1] && (l("emitting packet with ack id %d", this.ids), this.acks[this.ids] = e.pop(), r.id = this.ids++), this.connected ? this.packet(r) : this.sendBuffer.push(r), delete this.flags, this }, h.prototype.packet = function (t) { t.nsp = this.nsp, this.io.packet(t) }, h.prototype.onopen = function () { l("transport is open - connecting"), "/" != this.nsp && this.packet({ type: o.CONNECT }) }, h.prototype.onclose = function (t) { l("close (%s)", t), this.connected = !1, this.disconnected = !0, delete this.id, this.emit("disconnect", t) }, h.prototype.onpacket = function (t) { if (t.nsp == this.nsp) switch (t.type) { case o.CONNECT: this.onconnect(); break; case o.EVENT: case o.BINARY_EVENT: this.onevent(t); break; case o.ACK: case o.BINARY_ACK: this.onack(t); break; case o.DISCONNECT: this.ondisconnect(); break; case o.ERROR: this.emit("error", t.data) } }, h.prototype.onevent = function (t) { var e = t.data || []; l("emitting event %j", e), null != t.id && (l("attaching ack callback to event"), e.push(this.ack(t.id))), this.connected ? f.apply(this, e) : this.receiveBuffer.push(e) }, h.prototype.ack = function (n) { var r = this, i = !1; return function () { if (!i) { i = !0; var t = s(arguments); l("sending ack %j", t); var e = u(t) ? o.BINARY_ACK : o.ACK; r.packet({ type: e, id: n, data: t }) } } }, h.prototype.onack = function (t) { var e = this.acks[t.id]; "function" == typeof e ? (l("calling ack %s with %j", t.id, t.data), e.apply(this, t.data), delete this.acks[t.id]) : l("bad ack %s", t.id) }, h.prototype.onconnect = function () { this.connected = !0, this.disconnected = !1, this.emit("connect"), this.emitBuffered() }, h.prototype.emitBuffered = function () { var t; for (t = 0; t < this.receiveBuffer.length; t++)f.apply(this, this.receiveBuffer[t]); for (this.receiveBuffer = [], t = 0; t < this.sendBuffer.length; t++)this.packet(this.sendBuffer[t]); this.sendBuffer = [] }, h.prototype.ondisconnect = function () { l("server disconnect (%s)", this.nsp), this.destroy(), this.onclose("io server disconnect") }, h.prototype.destroy = function () { if (this.subs) { for (var t = 0; t < this.subs.length; t++)this.subs[t].destroy(); this.subs = null } this.io.destroy(this) }, h.prototype.close = h.prototype.disconnect = function () { return this.connected && (l("performing disconnect (%s)", this.nsp), this.packet({ type: o.DISCONNECT })), this.destroy(), this.connected && this.onclose("io client disconnect"), this }, h.prototype.compress = function (t) { return this.flags = this.flags || {}, this.flags.compress = t, this } }, { "./on": 33, "component-bind": 37, "component-emitter": 38, debug: 39, "has-binary": 41, "socket.io-parser": 47, "to-array": 51 }], 35: [function (t, e, n) { (function (i) { var o = t("parseuri"), s = t("debug")("socket.io-client:url"); e.exports = function (t, e) { var n = t, e = e || i.location; null == t && (t = e.protocol + "//" + e.host); "string" == typeof t && ("/" == t.charAt(0) && (t = "/" == t.charAt(1) ? e.protocol + t : e.host + t), /^(https?|wss?):\/\//.test(t) || (s("protocol-less url %s", t), t = void 0 !== e ? e.protocol + "//" + t : "https://" + t), s("parse %s", t), n = o(t)); n.port || (/^(http|ws)$/.test(n.protocol) ? n.port = "80" : /^(http|ws)s$/.test(n.protocol) && (n.port = "443")); n.path = n.path || "/"; var r = -1 !== n.host.indexOf(":") ? "[" + n.host + "]" : n.host; return n.id = n.protocol + "://" + r + ":" + n.port, n.href = n.protocol + "://" + r + (e && e.port == n.port ? "" : ":" + n.port), n } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { debug: 39, parseuri: 45 }], 36: [function (t, e, n) { function r(t) { t = t || {}, this.ms = t.min || 100, this.max = t.max || 1e4, this.factor = t.factor || 2, this.jitter = 0 < t.jitter && t.jitter <= 1 ? t.jitter : 0, this.attempts = 0 } (e.exports = r).prototype.duration = function () { var t = this.ms * Math.pow(this.factor, this.attempts++); if (this.jitter) { var e = Math.random(), n = Math.floor(e * this.jitter * t); t = 0 == (1 & Math.floor(10 * e)) ? t - n : t + n } return 0 | Math.min(t, this.max) }, r.prototype.reset = function () { this.attempts = 0 }, r.prototype.setMin = function (t) { this.ms = t }, r.prototype.setMax = function (t) { this.max = t }, r.prototype.setJitter = function (t) { this.jitter = t } }, {}], 37: [function (t, e, n) { var r = [].slice; e.exports = function (t, e) { if ("string" == typeof e && (e = t[e]), "function" != typeof e) throw new Error("bind() requires a function"); var n = r.call(arguments, 2); return function () { return e.apply(t, n.concat(r.call(arguments))) } } }, {}], 38: [function (t, e, n) { function r(t) { if (t) return function (t) { for (var e in r.prototype) t[e] = r.prototype[e]; return t }(t) } (e.exports = r).prototype.on = r.prototype.addEventListener = function (t, e) { return this._callbacks = this._callbacks || {}, (this._callbacks["$" + t] = this._callbacks["$" + t] || []).push(e), this }, r.prototype.once = function (t, e) { function n() { this.off(t, n), e.apply(this, arguments) } return n.fn = e, this.on(t, n), this }, r.prototype.off = r.prototype.removeListener = r.prototype.removeAllListeners = r.prototype.removeEventListener = function (t, e) { if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this; var n, r = this._callbacks["$" + t]; if (!r) return this; if (1 == arguments.length) return delete this._callbacks["$" + t], this; for (var i = 0; i < r.length; i++)if ((n = r[i]) === e || n.fn === e) { r.splice(i, 1); break } return this }, r.prototype.emit = function (t) { this._callbacks = this._callbacks || {}; var e = [].slice.call(arguments, 1), n = this._callbacks["$" + t]; if (n) for (var r = 0, i = (n = n.slice(0)).length; r < i; ++r)n[r].apply(this, e); return this }, r.prototype.listeners = function (t) { return this._callbacks = this._callbacks || {}, this._callbacks["$" + t] || [] }, r.prototype.hasListeners = function (t) { return !!this.listeners(t).length } }, {}], 39: [function (t, e, n) { arguments[4][17][0].apply(n, arguments) }, { "./debug": 40, dup: 17 }], 40: [function (t, e, n) { arguments[4][18][0].apply(n, arguments) }, { dup: 18, ms: 44 }], 41: [function (t, e, n) { (function (i) { var o = t("isarray"); e.exports = function (t) { return function t(e) { if (!e) return !1; if (i.Buffer && i.Buffer.isBuffer && i.Buffer.isBuffer(e) || i.ArrayBuffer && e instanceof ArrayBuffer || i.Blob && e instanceof Blob || i.File && e instanceof File) return !0; if (o(e)) { for (var n = 0; n < e.length; n++)if (t(e[n])) return !0 } else if (e && "object" == typeof e) for (var r in e.toJSON && "function" == typeof e.toJSON && (e = e.toJSON()), e) if (Object.prototype.hasOwnProperty.call(e, r) && t(e[r])) return !0; return !1 }(t) } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { isarray: 43 }], 42: [function (t, e, n) { arguments[4][23][0].apply(n, arguments) }, { dup: 23 }], 43: [function (t, e, n) { arguments[4][24][0].apply(n, arguments) }, { dup: 24 }], 44: [function (t, e, n) { arguments[4][25][0].apply(n, arguments) }, { dup: 25 }], 45: [function (t, e, n) { arguments[4][28][0].apply(n, arguments) }, { dup: 28 }], 46: [function (t, e, n) { (function (c) { var f = t("isarray"), h = t("./is-buffer"); n.deconstructPacket = function (t) { var s = [], e = t.data; var n = t; return n.data = function t(e) { if (!e) return e; if (h(e)) { var n = { _placeholder: !0, num: s.length }; return s.push(e), n } if (f(e)) { for (var r = new Array(e.length), i = 0; i < e.length; i++)r[i] = t(e[i]); return r } if ("object" == typeof e && !(e instanceof Date)) { for (var o in r = {}, e) r[o] = t(e[o]); return r } return e }(e), n.attachments = s.length, { packet: n, buffers: s } }, n.reconstructPacket = function (t, i) { return t.data = function t(e) { if (e && e._placeholder) return i[e.num]; if (f(e)) { for (var n = 0; n < e.length; n++)e[n] = t(e[n]); return e } if (e && "object" == typeof e) { for (var r in e) e[r] = t(e[r]); return e } return e }(t.data), t.attachments = void 0, t }, n.removeBlobs = function (t, a) { var l = 0, u = t; !function t(e, n, r) { if (!e) return e; if (c.Blob && e instanceof Blob || c.File && e instanceof File) { l++; var i = new FileReader; i.onload = function () { r ? r[n] = this.result : u = this.result, --l || a(u) }, i.readAsArrayBuffer(e) } else if (f(e)) for (var o = 0; o < e.length; o++)t(e[o], o, e); else if (e && "object" == typeof e && !h(e)) for (var s in e) t(e[s], s, e) }(u), l || a(u) } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, { "./is-buffer": 48, isarray: 43 }], 47: [function (t, e, s) { var a = t("debug")("socket.io-parser"), l = t("json3"), n = (t("isarray"), t("component-emitter")), o = t("./binary"), r = t("./is-buffer"); function i() { } function u(t) { var e = "", n = !1; return e += t.type, s.BINARY_EVENT != t.type && s.BINARY_ACK != t.type || (e += t.attachments, e += "-"), t.nsp && "/" != t.nsp && (n = !0, e += t.nsp), null != t.id && (n && (e += ",", n = !1), e += t.id), null != t.data && (n && (e += ","), e += l.stringify(t.data)), a("encoded %j as %s", t, e), e } function c() { this.reconstructor = null } function f(t) { this.reconPack = t, this.buffers = [] } function h(t) { return { type: s.ERROR, data: "parser error" } } s.protocol = 4, s.types = ["CONNECT", "DISCONNECT", "EVENT", "BINARY_EVENT", "ACK", "BINARY_ACK", "ERROR"], s.CONNECT = 0, s.DISCONNECT = 1, s.EVENT = 2, s.ACK = 3, s.ERROR = 4, s.BINARY_EVENT = 5, s.BINARY_ACK = 6, s.Encoder = i, s.Decoder = c, i.prototype.encode = function (t, e) { var n, i; (a("encoding packet %j", t), s.BINARY_EVENT == t.type || s.BINARY_ACK == t.type) ? (n = t, i = e, o.removeBlobs(n, function (t) { var e = o.deconstructPacket(t), n = u(e.packet), r = e.buffers; r.unshift(n), i(r) })) : e([u(t)]) }, n(c.prototype), c.prototype.add = function (t) { var e; if ("string" == typeof t) e = function (t) { var e = {}, n = 0; if (e.type = Number(t.charAt(0)), null == s.types[e.type]) return h(); if (s.BINARY_EVENT == e.type || s.BINARY_ACK == e.type) { for (var r = ""; "-" != t.charAt(++n) && (r += t.charAt(n), n != t.length);); if (r != Number(r) || "-" != t.charAt(n)) throw new Error("Illegal attachments"); e.attachments = Number(r) } if ("/" == t.charAt(n + 1)) for (e.nsp = ""; ++n;) { var i = t.charAt(n); if ("," == i) break; if (e.nsp += i, n == t.length) break } else e.nsp = "/"; var o = t.charAt(n + 1); if ("" !== o && Number(o) == o) { for (e.id = ""; ++n;) { var i = t.charAt(n); if (null == i || Number(i) != i) { --n; break } if (e.id += t.charAt(n), n == t.length) break } e.id = Number(e.id) } if (t.charAt(++n)) try { e.data = l.parse(t.substr(n)) } catch (t) { return h() } return a("decoded %s as %j", t, e), e }(t), s.BINARY_EVENT == e.type || s.BINARY_ACK == e.type ? (this.reconstructor = new f(e), 0 === this.reconstructor.reconPack.attachments && this.emit("decoded", e)) : this.emit("decoded", e); else { if (!r(t) && !t.base64) throw new Error("Unknown type: " + t); if (!this.reconstructor) throw new Error("got binary data when not reconstructing a packet"); (e = this.reconstructor.takeBinaryData(t)) && (this.reconstructor = null, this.emit("decoded", e)) } }, c.prototype.destroy = function () { this.reconstructor && this.reconstructor.finishedReconstruction() }, f.prototype.takeBinaryData = function (t) { if (this.buffers.push(t), this.buffers.length == this.reconPack.attachments) { var e = o.reconstructPacket(this.reconPack, this.buffers); return this.finishedReconstruction(), e } return null }, f.prototype.finishedReconstruction = function () { this.reconPack = null, this.buffers = [] } }, { "./binary": 46, "./is-buffer": 48, "component-emitter": 49, debug: 39, isarray: 43, json3: 50 }], 48: [function (t, n, e) { (function (e) { n.exports = function (t) { return e.Buffer && e.Buffer.isBuffer(t) || e.ArrayBuffer && t instanceof ArrayBuffer } }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, {}], 49: [function (t, e, n) { arguments[4][15][0].apply(n, arguments) }, { dup: 15 }], 50: [function (t, a, l) { (function (s) { (function () { var I = { function: !0, object: !0 }, t = I[typeof l] && l && !l.nodeType && l, B = I[typeof window] && window || this, e = t && I[typeof a] && a && !a.nodeType && "object" == typeof s && s; function H(t, l) { t || (t = B.Object()), l || (l = B.Object()); var u = t.Number || B.Number, c = t.String || B.String, e = t.Object || B.Object, f = t.Date || B.Date, n = t.SyntaxError || B.SyntaxError, E = t.TypeError || B.TypeError, r = t.Math || B.Math, i = t.JSON || B.JSON; "object" == typeof i && i && (l.stringify = i.stringify, l.parse = i.parse); var T, k, j, o = e.prototype, S = o.toString, h = new f(-0xc782b5b800cec); try { h = -109252 == h.getUTCFullYear() && 0 === h.getUTCMonth() && 1 === h.getUTCDate() && 10 == h.getUTCHours() && 37 == h.getUTCMinutes() && 6 == h.getUTCSeconds() && 708 == h.getUTCMilliseconds() } catch (t) { } function d(t) { if (d[t] !== j) return d[t]; var e; if ("bug-string-char-index" == t) e = "a" != "a"[0]; else if ("json" == t) e = d("json-stringify") && d("json-parse"); else { var n, r = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'; if ("json-stringify" == t) { var i = l.stringify, o = "function" == typeof i && h; if (o) { (n = function () { return 1 }).toJSON = n; try { o = "0" === i(0) && "0" === i(new u) && '""' == i(new c) && i(S) === j && i(j) === j && i() === j && "1" === i(n) && "[1]" == i([n]) && "[null]" == i([j]) && "null" == i(null) && "[null,null,null]" == i([j, S, null]) && i({ a: [n, !0, !1, null, "\0\b\n\f\r\t"] }) == r && "1" === i(null, n) && "[\n 1,\n 2\n]" == i([1, 2], null, 1) && '"-271821-04-20T00:00:00.000Z"' == i(new f(-864e13)) && '"+275760-09-13T00:00:00.000Z"' == i(new f(864e13)) && '"-000001-01-01T00:00:00.000Z"' == i(new f(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == i(new f(-1)) } catch (t) { o = !1 } } e = o } if ("json-parse" == t) { var s = l.parse; if ("function" == typeof s) try { if (0 === s("0") && !s(!1)) { var a = 5 == (n = s(r)).a.length && 1 === n.a[0]; if (a) { try { a = !s('"\t"') } catch (t) { } if (a) try { a = 1 !== s("01") } catch (t) { } if (a) try { a = 1 !== s("1.") } catch (t) { } } } } catch (t) { a = !1 } e = a } } return d[t] = !!e } if (!d("json")) { var p = "[object Function]", O = "[object Number]", A = "[object String]", L = "[object Array]", a = d("bug-string-char-index"); if (!h) var C = r.floor, s = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334], P = function (t, e) { return s[e] + 365 * (t - 1970) + C((t - 1969 + (e = +(1 < e))) / 4) - C((t - 1901 + e) / 100) + C((t - 1601 + e) / 400) }; if ((T = o.hasOwnProperty) || (T = function (t) { var n, e = {}; return (e.__proto__ = null, e.__proto__ = { toString: 1 }, e).toString != S ? T = function (t) { var e = this.__proto__, n = t in (this.__proto__ = null, this); return this.__proto__ = e, n } : (n = e.constructor, T = function (t) { var e = (this.constructor || n).prototype; return t in this && !(t in e && this[t] === e[t]) }), e = null, T.call(this, t) }), k = function (t, e) { var n, s, r, i = 0; for (r in (n = function () { this.valueOf = 0 }).prototype.valueOf = 0, s = new n) T.call(s, r) && i++; return n = s = null, i ? k = 2 == i ? function (t, e) { var n, r = {}, i = S.call(t) == p; for (n in t) i && "prototype" == n || T.call(r, n) || !(r[n] = 1) || !T.call(t, n) || e(n) } : function (t, e) { var n, r, i = S.call(t) == p; for (n in t) i && "prototype" == n || !T.call(t, n) || (r = "constructor" === n) || e(n); (r || T.call(t, n = "constructor")) && e(n) } : (s = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"], k = function (t, e) { var n, r, i = S.call(t) == p, o = !i && "function" != typeof t.constructor && I[typeof t.hasOwnProperty] && t.hasOwnProperty || T; for (n in t) i && "prototype" == n || !o.call(t, n) || e(n); for (r = s.length; n = s[--r]; o.call(t, n) && e(n)); }), k(t, e) }, !d("json-stringify")) { var g = { 92: "\\\\", 34: '\\"', 8: "\\b", 12: "\\f", 10: "\\n", 13: "\\r", 9: "\\t" }, N = function (t, e) { return ("000000" + (e || 0)).slice(-t) }, M = function (t) { for (var e = '"', n = 0, r = t.length, i = !a || 10 < r, o = i && (a ? t.split("") : t); n < r; n++) { var s = t.charCodeAt(n); switch (s) { case 8: case 9: case 10: case 12: case 13: case 34: case 92: e += g[s]; break; default: if (s < 32) { e += "\\u00" + N(2, s.toString(16)); break } e += i ? o[n] : t.charAt(n) } } return e + '"' }, D = function (t, e, n, r, i, o, s) { var a, l, u, c, f, h, d, p, g, m, y, v, b, _, w, x; try { a = e[t] } catch (t) { } if ("object" == typeof a && a) if ("[object Date]" != (l = S.call(a)) || T.call(a, "toJSON")) "function" == typeof a.toJSON && (l != O && l != A && l != L || T.call(a, "toJSON")) && (a = a.toJSON(t)); else if (-1 / 0 < a && a < 1 / 0) { if (P) { for (f = C(a / 864e5), u = C(f / 365.2425) + 1970 - 1; P(u + 1, 0) <= f; u++); for (c = C((f - P(u, 0)) / 30.42); P(u, c + 1) <= f; c++); f = 1 + f - P(u, c), d = C((h = (a % 864e5 + 864e5) % 864e5) / 36e5) % 24, p = C(h / 6e4) % 60, g = C(h / 1e3) % 60, m = h % 1e3 } else u = a.getUTCFullYear(), c = a.getUTCMonth(), f = a.getUTCDate(), d = a.getUTCHours(), p = a.getUTCMinutes(), g = a.getUTCSeconds(), m = a.getUTCMilliseconds(); a = (u <= 0 || 1e4 <= u ? (u < 0 ? "-" : "+") + N(6, u < 0 ? -u : u) : N(4, u)) + "-" + N(2, c + 1) + "-" + N(2, f) + "T" + N(2, d) + ":" + N(2, p) + ":" + N(2, g) + "." + N(3, m) + "Z" } else a = null; if (n && (a = n.call(e, t, a)), null === a) return "null"; if ("[object Boolean]" == (l = S.call(a))) return "" + a; if (l == O) return -1 / 0 < a && a < 1 / 0 ? "" + a : "null"; if (l == A) return M("" + a); if ("object" == typeof a) { for (_ = s.length; _--;)if (s[_] === a) throw E(); if (s.push(a), y = [], w = o, o += i, l == L) { for (b = 0, _ = a.length; b < _; b++)v = D(b, a, n, r, i, o, s), y.push(v === j ? "null" : v); x = y.length ? i ? "[\n" + o + y.join(",\n" + o) + "\n" + w + "]" : "[" + y.join(",") + "]" : "[]" } else k(r || a, function (t) { var e = D(t, a, n, r, i, o, s); e !== j && y.push(M(t) + ":" + (i ? " " : "") + e) }), x = y.length ? i ? "{\n" + o + y.join(",\n" + o) + "\n" + w + "}" : "{" + y.join(",") + "}" : "{}"; return s.pop(), x } }; l.stringify = function (t, e, n) { var r, i, o, s; if (I[typeof e] && e) if ((s = S.call(e)) == p) i = e; else if (s == L) { o = {}; for (var a, l = 0, u = e.length; l < u; a = e[l++], ((s = S.call(a)) == A || s == O) && (o[a] = 1)); } if (n) if ((s = S.call(n)) == O) { if (0 < (n -= n % 1)) for (r = "", 10 < n && (n = 10); r.length < n; r += " "); } else s == A && (r = n.length <= 10 ? n : n.slice(0, 10)); return D("", ((a = {})[""] = t, a), i, o, r, "", []) } } if (!d("json-parse")) { var m, y, v = c.fromCharCode, b = { 92: "\\", 34: '"', 47: "/", 98: "\b", 116: "\t", 110: "\n", 102: "\f", 114: "\r" }, _ = function () { throw m = y = null, n() }, w = function () { for (var t, e, n, r, i, o = y, s = o.length; m < s;)switch (i = o.charCodeAt(m)) { case 9: case 10: case 13: case 32: m++; break; case 123: case 125: case 91: case 93: case 58: case 44: return t = a ? o.charAt(m) : o[m], m++ , t; case 34: for (t = "@", m++; m < s;)if ((i = o.charCodeAt(m)) < 32) _(); else if (92 == i) switch (i = o.charCodeAt(++m)) { case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114: t += b[i], m++; break; case 117: for (e = ++m, n = m + 4; m < n; m++)48 <= (i = o.charCodeAt(m)) && i <= 57 || 97 <= i && i <= 102 || 65 <= i && i <= 70 || _(); t += v("0x" + o.slice(e, m)); break; default: _() } else { if (34 == i) break; for (i = o.charCodeAt(m), e = m; 32 <= i && 92 != i && 34 != i;)i = o.charCodeAt(++m); t += o.slice(e, m) } if (34 == o.charCodeAt(m)) return m++ , t; _(); default: if (e = m, 45 == i && (r = !0, i = o.charCodeAt(++m)), 48 <= i && i <= 57) { for (48 == i && (48 <= (i = o.charCodeAt(m + 1)) && i <= 57) && _(), r = !1; m < s && (48 <= (i = o.charCodeAt(m)) && i <= 57); m++); if (46 == o.charCodeAt(m)) { for (n = ++m; n < s && (48 <= (i = o.charCodeAt(n)) && i <= 57); n++); n == m && _(), m = n } if (101 == (i = o.charCodeAt(m)) || 69 == i) { for (43 != (i = o.charCodeAt(++m)) && 45 != i || m++ , n = m; n < s && (48 <= (i = o.charCodeAt(n)) && i <= 57); n++); n == m && _(), m = n } return +o.slice(e, m) } if (r && _(), "true" == o.slice(m, m + 4)) return m += 4, !0; if ("false" == o.slice(m, m + 5)) return m += 5, !1; if ("null" == o.slice(m, m + 4)) return m += 4, null; _() }return "$" }, x = function (t) { var e, n; if ("$" == t && _(), "string" == typeof t) { if ("@" == (a ? t.charAt(0) : t[0])) return t.slice(1); if ("[" == t) { for (e = []; "]" != (t = w()); n || (n = !0))n && ("," == t ? "]" == (t = w()) && _() : _()), "," == t && _(), e.push(x(t)); return e } if ("{" == t) { for (e = {}; "}" != (t = w()); n || (n = !0))n && ("," == t ? "}" == (t = w()) && _() : _()), "," != t && "string" == typeof t && "@" == (a ? t.charAt(0) : t[0]) && ":" == w() || _(), e[t.slice(1)] = x(w()); return e } _() } return t }, R = function (t, e, n) { var r = q(t, e, n); r === j ? delete t[e] : t[e] = r }, q = function (t, e, n) { var r, i = t[e]; if ("object" == typeof i && i) if (S.call(i) == L) for (r = i.length; r--;)R(i, r, n); else k(i, function (t) { R(i, t, n) }); return n.call(t, e, i) }; l.parse = function (t, e) { var n, r; return m = 0, y = "" + t, n = x(w()), "$" != w() && _(), m = y = null, e && S.call(e) == p ? q(((r = {})[""] = n, r), "", e) : n } } } return l.runInContext = H, l } if (!e || e.global !== e && e.window !== e && e.self !== e || (B = e), t) H(B, t); else { var n = B.JSON, r = B.JSON3, i = !1, o = H(B, B.JSON3 = { noConflict: function () { return i || (i = !0, B.JSON = n, B.JSON3 = r, n = r = null), o } }); B.JSON = { parse: o.parse, stringify: o.stringify } } }).call(this) }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}) }, {}], 51: [function (t, e, n) { e.exports = function (t, e) { for (var n = [], r = (e = e || 0) || 0; r < t.length; r++)n[r - e] = t[r]; return n } }, {}] }, {}, [31])(31) }), function (t) { function r() { } function o(t) { if ("object" != typeof this) throw new TypeError("Promises must be constructed via new"); if ("function" != typeof t) throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], c(t, this) } function i(n, r) { for (; 3 === n._state;)n = n._value; return 0 === n._state ? void n._deferreds.push(r) : (n._handled = !0, void o._immediateFn(function () { var t = 1 === n._state ? r.onFulfilled : r.onRejected; if (null !== t) { var e; try { e = t(n._value) } catch (t) { return void a(r.promise, t) } s(r.promise, e) } else (1 === n._state ? s : a)(r.promise, n._value) })) } function s(e, t) { try { if (t === e) throw new TypeError("A promise cannot be resolved with itself."); if (t && ("object" == typeof t || "function" == typeof t)) { var n = t.then; if (t instanceof o) return e._state = 3, e._value = t, void l(e); if ("function" == typeof n) return void c((r = n, i = t, function () { r.apply(i, arguments) }), e) } e._state = 1, e._value = t, l(e) } catch (t) { a(e, t) } var r, i } function a(t, e) { t._state = 2, t._value = e, l(t) } function l(t) { 2 === t._state && 0 === t._deferreds.length && o._immediateFn(function () { t._handled || o._unhandledRejectionFn(t._value) }); for (var e = 0, n = t._deferreds.length; e < n; e++)i(t, t._deferreds[e]); t._deferreds = null } function u(t, e, n) { this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof e ? e : null, this.promise = n } function c(t, e) { var n = !1; try { t(function (t) { n || (n = !0, s(e, t)) }, function (t) { n || (n = !0, a(e, t)) }) } catch (t) { if (n) return; n = !0, a(e, t) } } var e = setTimeout; o.prototype.catch = function (t) { return this.then(null, t) }, o.prototype.then = function (t, e) { var n = new this.constructor(r); return i(this, new u(t, e, n)), n }, o.all = function (t) { var a = Array.prototype.slice.call(t); return new o(function (r, i) { function o(e, t) { try { if (t && ("object" == typeof t || "function" == typeof t)) { var n = t.then; if ("function" == typeof n) return void n.call(t, function (t) { o(e, t) }, i) } a[e] = t, 0 == --s && r(a) } catch (t) { i(t) } } if (0 === a.length) return r([]); for (var s = a.length, t = 0; t < a.length; t++)o(t, a[t]) }) }, o.resolve = function (e) { return e && "object" == typeof e && e.constructor === o ? e : new o(function (t) { t(e) }) }, o.reject = function (n) { return new o(function (t, e) { e(n) }) }, o.race = function (i) { return new o(function (t, e) { for (var n = 0, r = i.length; n < r; n++)i[n].then(t, e) }) }, o._immediateFn = "function" == typeof setImmediate && function (t) { setImmediate(t) } || function (t) { e(t, 0) }, o._unhandledRejectionFn = function (t) { "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t) }, o._setImmediateFn = function (t) { o._immediateFn = t }, o._setUnhandledRejectionFn = function (t) { o._unhandledRejectionFn = t }, "undefined" != typeof module && module.exports ? module.exports = o : t.Promise || (t.Promise = o) }(this), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Cropper = e() }(this, function () { "use strict"; function o(t) { return K.call(t).slice(8, -1).toLowerCase() } function b(t) { return "number" == typeof t && !isNaN(t) } function i(t) { return void 0 === t } function s(t) { return "object" === (void 0 === t ? "undefined" : e(t)) && null !== t } function S(t) { if (!s(t)) return !1; try { var e = t.constructor, n = e.prototype; return e && n && V.call(n, "isPrototypeOf") } catch (t) { return !1 } } function f(t) { return "function" === o(t) } function a(t) { return "string" == typeof t && (t = t.trim ? t.trim() : t.replace(Y, "$1")), t } function j(e, n) { if (e && f(n)) { var t = void 0; if (i = e, (Array.isArray ? Array.isArray(i) : "array" === o(i)) || b(e.length)) { var r = e.length; for (t = 0; t < r && !1 !== n.call(e, e[t], t, e); t++); } else s(e) && Object.keys(e).forEach(function (t) { n.call(e, e[t], t, e) }) } var i; return e } function O(n) { for (var t = arguments.length, e = Array(1 < t ? t - 1 : 0), r = 1; r < t; r++)e[r - 1] = arguments[r]; if (s(n) && 0 < e.length) { if (Object.assign) return Object.assign.apply(Object, [n].concat(e)); e.forEach(function (e) { s(e) && Object.keys(e).forEach(function (t) { n[t] = e[t] }) }) } return n } function l(r, i) { for (var t = arguments.length, o = Array(2 < t ? t - 2 : 0), e = 2; e < t; e++)o[e - 2] = arguments[e]; return function () { for (var t = arguments.length, e = Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return r.apply(i, o.concat(e)) } } function p(t, e) { var n = t.style; j(e, function (t, e) { F.test(e) && b(t) && (t += "px"), n[e] = t }) } function h(t, e) { if (e) { if (b(t.length)) return void j(t, function (t) { h(t, e) }); if (t.classList) return void t.classList.add(e); var n = a(t.className); n ? n.indexOf(e) < 0 && (t.className = n + " " + e) : t.className = e } } function A(t, e) { if (e) return b(t.length) ? void j(t, function (t) { A(t, e) }) : t.classList ? void t.classList.remove(e) : void (0 <= t.className.indexOf(e) && (t.className = t.className.replace(e, ""))) } function u(t, e, n) { if (e) return b(t.length) ? void j(t, function (t) { u(t, e, n) }) : void (n ? h(t, e) : A(t, e)) } function r(t) { return t.replace(n, "$1-$2").toLowerCase() } function g(t, e) { return s(t[e]) ? t[e] : t.dataset ? t.dataset[e] : t.getAttribute("data-" + r(e)) } function d(t, e, n) { s(n) ? t[e] = n : t.dataset ? t.dataset[e] = n : t.setAttribute("data-" + r(e), n) } function c(e, n) { if (s(e[n])) delete e[n]; else if (e.dataset) try { delete e.dataset[n] } catch (t) { e.dataset[n] = null } else e.removeAttribute("data-" + r(n)) } function m(e, t, n) { var r = a(t).split(U); return 1 < r.length ? void j(r, function (t) { m(e, t, n) }) : void (e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent && e.detachEvent("on" + t, n)) } function y(r, i, o, t) { var e = a(i).split(U), s = o; return 1 < e.length ? void j(e, function (t) { y(r, t, o) }) : (t && (o = function () { for (var t = arguments.length, e = Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return m(r, i, o), s.apply(r, e) }), void (r.addEventListener ? r.addEventListener(i, o, !1) : r.attachEvent && r.attachEvent("on" + i, o))) } function v(t, e, n) { if (t.dispatchEvent) { var r = void 0; return f(Event) && f(CustomEvent) ? r = i(n) ? new Event(e, { bubbles: !0, cancelable: !0 }) : new CustomEvent(e, { detail: n, bubbles: !0, cancelable: !0 }) : i(n) ? (r = document.createEvent("Event")).initEvent(e, !0, !0) : (r = document.createEvent("CustomEvent")).initCustomEvent(e, !0, !0, n), t.dispatchEvent(r) } return !t.fireEvent || t.fireEvent("on" + e) } function _(t) { var e = t || window.event; if (e.target || (e.target = e.srcElement || document), !b(e.pageX) && b(e.clientX)) { var n = t.target.ownerDocument || document, r = n.documentElement, i = n.body; e.pageX = e.clientX + ((r && r.scrollLeft || i && i.scrollLeft || 0) - (r && r.clientLeft || i && i.clientLeft || 0)), e.pageY = e.clientY + ((r && r.scrollTop || i && i.scrollTop || 0) - (r && r.clientTop || i && i.clientTop || 0)) } return e } function L(t) { var e = document.documentElement, n = t.getBoundingClientRect(); return { left: n.left + ((window.scrollX || e && e.scrollLeft || 0) - (e && e.clientLeft || 0)), top: n.top + ((window.scrollY || e && e.scrollTop || 0) - (e && e.clientTop || 0)) } } function w(t, e) { return t.getElementsByTagName(e) } function x(t, e) { return t.getElementsByClassName ? t.getElementsByClassName(e) : t.querySelectorAll("." + e) } function C(t) { return document.createElement(t) } function E(t, e) { t.appendChild(e) } function T(t) { t.parentNode && t.parentNode.removeChild(t) } function k(t) { var e = t.match(H); return e && (e[1] !== location.protocol || e[2] !== location.hostname || e[3] !== location.port) } function P(t) { var e = "timestamp=" + (new Date).getTime(); return t + (-1 === t.indexOf("?") ? "?" : "&") + e } function N(t) { var e = [], n = t.translateX, r = t.translateY, i = t.rotate, o = t.scaleX, s = t.scaleY; b(n) && 0 !== n && e.push("translateX(" + n + "px)"), b(r) && 0 !== r && e.push("translateY(" + r + "px)"), b(i) && 0 !== i && e.push("rotate(" + i + "deg)"), b(o) && 1 !== o && e.push("scaleX(" + o + ")"), b(s) && 1 !== s && e.push("scaleY(" + s + ")"); var a = e.length ? e.join(" ") : "none"; return { WebkitTransform: a, msTransform: a, transform: a } } function M(t, e) { var n = Math.abs(t.degree) % 180, r = (90 < n ? 180 - n : n) * Math.PI / 180, i = Math.sin(r), o = Math.cos(r), s = t.width, a = t.height, l = t.aspectRatio, u = void 0, c = void 0; return e ? c = (u = s / (o + i / l)) / l : (u = s * o + a * i, c = s * i + a * o), { width: u, height: c } } function D(t, e) { var n = C("canvas"), r = n.getContext("2d"), i = 0, o = 0, s = e.naturalWidth, a = e.naturalHeight, l = e.rotate, u = e.scaleX, c = e.scaleY, f = b(u) && b(c) && (1 !== u || 1 !== c), h = b(l) && 0 !== l, d = h || f, p = s * Math.abs(u || 1), g = a * Math.abs(c || 1), m = void 0, y = void 0, v = void 0; return f && (m = p / 2, y = g / 2), h && (m = (p = (v = M({ width: p, height: g, degree: l })).width) / 2, y = (g = v.height) / 2), n.width = p, n.height = g, d && (i = -s / 2, o = -a / 2, r.save(), r.translate(m, y)), h && r.rotate(l * Math.PI / 180), f && r.scale(u, c), r.drawImage(t, Math.floor(i), Math.floor(o), Math.floor(s), Math.floor(a)), d && r.restore(), n } function R(t) { var e = new DataView(t), n = e.byteLength, r = void 0, i = void 0, o = void 0, s = void 0, a = void 0, l = void 0, u = void 0, c = void 0, f = void 0; if (255 === e.getUint8(0) && 216 === e.getUint8(1)) for (c = 2; c < n;) { if (255 === e.getUint8(c) && 225 === e.getUint8(c + 1)) { l = c; break } c++ } if (l && (i = l + 10, "Exif" === function (t, e, n) { var r = "", i = e; for (n += e; i < n; i++)r += X(t.getUint8(i)); return r }(e, l + 4, 4) && (((s = 18761 === (a = e.getUint16(i))) || 19789 === a) && 42 === e.getUint16(i + 2, s) && (8 <= (o = e.getUint32(i + 4, s)) && (u = i + o)))), u) for (n = e.getUint16(u, s), f = 0; f < n; f++)if (c = u + 12 * f + 2, 274 === e.getUint16(c, s)) { c += 8, r = e.getUint16(c, s), $ && e.setUint16(c, 1, s); break } return r } function q(t, e) { var n = t.pageX, r = t.pageY, i = { endX: n, endY: r }; return e ? i : O({ startX: n, startY: r }, i) } var I = { viewMode: 0, dragMode: "crop", aspectRatio: NaN, data: null, preview: "", responsive: !0, restore: !0, checkCrossOrigin: !0, checkOrientation: !0, modal: !0, guides: !0, center: !0, highlight: !0, background: !0, autoCrop: !0, autoCropArea: .8, movable: !0, rotatable: !0, scalable: !0, zoomable: !0, zoomOnTouch: !0, zoomOnWheel: !0, wheelZoomRatio: .1, cropBoxMovable: !0, cropBoxResizable: !0, toggleDragModeOnDblclick: !0, minCanvasWidth: 0, minCanvasHeight: 0, minCropBoxWidth: 0, minCropBoxHeight: 0, minContainerWidth: 200, minContainerHeight: 100, ready: null, cropstart: null, cropmove: null, cropend: null, crop: null, zoom: null }, e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, t = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), B = /^data:.*,/, n = /([a-z\d])([A-Z])/g, H = /^(https?:)\/\/([^:\/?#]+):?(\d*)/i, U = /\s+/, F = /^(width|height|left|top|marginLeft|marginTop)$/, Y = /^\s+(.*)\s+$/, z = "undefined" != typeof window ? window.navigator : null, $ = z && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(z.userAgent), W = Object.prototype, K = W.toString, V = W.hasOwnProperty, X = (Array.prototype.slice, String.fromCharCode), Q = { render: function () { this.initContainer(), this.initCanvas(), this.initCropBox(), this.renderCanvas(), this.cropped && this.renderCropBox() }, initContainer: function () { var t, e = this.options, n = this.element, r = this.container, i = this.cropper, o = "cropper-hidden"; h(i, o), A(n, o), this.containerData = t = { width: Math.max(r.offsetWidth, Number(e.minContainerWidth) || 200), height: Math.max(r.offsetHeight, Number(e.minContainerHeight) || 100) }, p(i, { width: t.width, height: t.height }), h(n, o), A(i, o) }, initCanvas: function () { var t = this.options.viewMode, e = this.containerData, n = this.imageData, r = Math.abs(n.rotate) % 180 == 90, i = r ? n.naturalHeight : n.naturalWidth, o = r ? n.naturalWidth : n.naturalHeight, s = i / o, a = e.width, l = e.height; e.height * s > e.width ? 3 === t ? a = e.height * s : l = e.width / s : 3 === t ? l = e.width / s : a = e.height * s; var u = { naturalWidth: i, naturalHeight: o, aspectRatio: s, width: a, height: l }; u.oldLeft = u.left = (e.width - a) / 2, u.oldTop = u.top = (e.height - l) / 2, this.canvasData = u, this.limited = 1 === t || 2 === t, this.limitCanvas(!0, !0), this.initialImageData = O({}, n), this.initialCanvasData = O({}, u) }, limitCanvas: function (t, e) { var n = this.options, r = n.viewMode, i = this.containerData, o = this.canvasData, s = o.aspectRatio, a = this.cropBoxData, l = this.cropped && a; if (t) { var u = Number(n.minCanvasWidth) || 0, c = Number(n.minCanvasHeight) || 0; 1 < r ? (u = Math.max(u, i.width), c = Math.max(c, i.height), 3 === r && (u < c * s ? u = c * s : c = u / s)) : 0 < r && (u ? u = Math.max(u, l ? a.width : 0) : c ? c = Math.max(c, l ? a.height : 0) : l && ((u = a.width) < (c = a.height) * s ? u = c * s : c = u / s)), u && c ? u < c * s ? c = u / s : u = c * s : u ? c = u / s : c && (u = c * s), o.minWidth = u, o.minHeight = c, o.maxWidth = 1 / 0, o.maxHeight = 1 / 0 } if (e) if (r) { var f = i.width - o.width, h = i.height - o.height; o.minLeft = Math.min(0, f), o.minTop = Math.min(0, h), o.maxLeft = Math.max(0, f), o.maxTop = Math.max(0, h), l && this.limited && (o.minLeft = Math.min(a.left, a.left + (a.width - o.width)), o.minTop = Math.min(a.top, a.top + (a.height - o.height)), o.maxLeft = a.left, o.maxTop = a.top, 2 === r && (o.width >= i.width && (o.minLeft = Math.min(0, f), o.maxLeft = Math.max(0, f)), o.height >= i.height && (o.minTop = Math.min(0, h), o.maxTop = Math.max(0, h)))) } else o.minLeft = -o.width, o.minTop = -o.height, o.maxLeft = i.width, o.maxTop = i.height }, renderCanvas: function (t) { var e = this, n = e.canvasData, r = e.imageData, i = r.rotate; if (e.rotated) { e.rotated = !1; var o = M({ width: r.width, height: r.height, degree: i }), s = o.width / o.height, a = 1 === r.aspectRatio; if (a || s !== n.aspectRatio) { if (n.left -= (o.width - n.width) / 2, n.top -= (o.height - n.height) / 2, n.width = o.width, n.height = o.height, n.aspectRatio = s, n.naturalWidth = r.naturalWidth, n.naturalHeight = r.naturalHeight, a && i % 90 || i % 180) { var l = M({ width: r.naturalWidth, height: r.naturalHeight, degree: i }); n.naturalWidth = l.width, n.naturalHeight = l.height } e.limitCanvas(!0, !1) } } (n.width > n.maxWidth || n.width < n.minWidth) && (n.left = n.oldLeft), (n.height > n.maxHeight || n.height < n.minHeight) && (n.top = n.oldTop), n.width = Math.min(Math.max(n.width, n.minWidth), n.maxWidth), n.height = Math.min(Math.max(n.height, n.minHeight), n.maxHeight), e.limitCanvas(!1, !0), n.oldLeft = n.left = Math.min(Math.max(n.left, n.minLeft), n.maxLeft), n.oldTop = n.top = Math.min(Math.max(n.top, n.minTop), n.maxTop), p(e.canvas, O({ width: n.width, height: n.height }, N({ translateX: n.left, translateY: n.top }))), e.renderImage(), e.cropped && e.limited && e.limitCropBox(!0, !0), t && e.output() }, renderImage: function (t) { var e = this.canvasData, n = this.imageData, r = void 0, i = void 0, o = void 0, s = void 0; n.rotate && (r = { width: o = (i = M({ width: e.width, height: e.height, degree: n.rotate, aspectRatio: n.aspectRatio }, !0)).width, height: s = i.height, left: (e.width - o) / 2, top: (e.height - s) / 2 }), O(n, r || { width: e.width, height: e.height, left: 0, top: 0 }), p(this.image, O({ width: n.width, height: n.height }, N(O({ translateX: n.left, translateY: n.top }, n)))), t && this.output() }, initCropBox: function () { var t = this.options, e = t.aspectRatio, n = Number(t.autoCropArea) || .8, r = this.canvasData, i = { width: r.width, height: r.height }; e && (r.height * e > r.width ? i.height = i.width / e : i.width = i.height * e), this.cropBoxData = i, this.limitCropBox(!0, !0), i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth), i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight), i.width = Math.max(i.minWidth, i.width * n), i.height = Math.max(i.minHeight, i.height * n), i.oldLeft = i.left = r.left + (r.width - i.width) / 2, i.oldTop = i.top = r.top + (r.height - i.height) / 2, this.initialCropBoxData = O({}, i) }, limitCropBox: function (t, e) { var n = this.options, r = n.aspectRatio, i = this.containerData, o = this.canvasData, s = this.cropBoxData, a = this.limited; if (t) { var l = Number(n.minCropBoxWidth) || 0, u = Number(n.minCropBoxHeight) || 0, c = Math.min(i.width, a ? o.width : i.width), f = Math.min(i.height, a ? o.height : i.height); l = Math.min(l, i.width), u = Math.min(u, i.height), r && (l && u ? l < u * r ? u = l / r : l = u * r : l ? u = l / r : u && (l = u * r), c < f * r ? f = c / r : c = f * r), s.minWidth = Math.min(l, c), s.minHeight = Math.min(u, f), s.maxWidth = c, s.maxHeight = f } e && (a ? (s.minLeft = Math.max(0, o.left), s.minTop = Math.max(0, o.top), s.maxLeft = Math.min(i.width, o.left + o.width) - s.width, s.maxTop = Math.min(i.height, o.top + o.height) - s.height) : (s.minLeft = 0, s.minTop = 0, s.maxLeft = i.width - s.width, s.maxTop = i.height - s.height)) }, renderCropBox: function () { var t = this, e = t.options, n = t.containerData, r = t.cropBoxData; (r.width > r.maxWidth || r.width < r.minWidth) && (r.left = r.oldLeft), (r.height > r.maxHeight || r.height < r.minHeight) && (r.top = r.oldTop), r.width = Math.min(Math.max(r.width, r.minWidth), r.maxWidth), r.height = Math.min(Math.max(r.height, r.minHeight), r.maxHeight), t.limitCropBox(!1, !0), r.oldLeft = r.left = Math.min(Math.max(r.left, r.minLeft), r.maxLeft), r.oldTop = r.top = Math.min(Math.max(r.top, r.minTop), r.maxTop), e.movable && e.cropBoxMovable && d(t.face, "action", r.width === n.width && r.height === n.height ? "move" : "all"), p(t.cropBox, O({ width: r.width, height: r.height }, N({ translateX: r.left, translateY: r.top }))), t.cropped && t.limited && t.limitCanvas(!0, !0), t.disabled || t.output() }, output: function () { this.preview(), this.complete && v(this.element, "crop", this.getData()) } }, G = "preview", J = { initPreview: function () { var t = this.options.preview, e = C("img"), n = this.crossOrigin, r = n ? this.crossOriginUrl : this.url; if (n && (e.crossOrigin = n), e.src = r, E(this.viewBox, e), this.image2 = e, t) { var i = t.querySelector ? [t] : document.querySelectorAll(t); j(this.previews = i, function (t) { var e = C("img"); d(t, G, { width: t.offsetWidth, height: t.offsetHeight, html: t.innerHTML }), n && (e.crossOrigin = n), e.src = r, e.style.cssText = 'display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"', function (t) { for (; t.firstChild;)t.removeChild(t.firstChild) }(t), E(t, e) }) } }, resetPreview: function () { j(this.previews, function (t) { var e = g(t, G); p(t, { width: e.width, height: e.height }), t.innerHTML = e.html, c(t, G) }) }, preview: function () { var a = this.imageData, t = this.canvasData, e = this.cropBoxData, l = e.width, u = e.height, c = a.width, f = a.height, h = e.left - t.left - a.left, d = e.top - t.top - a.top; this.cropped && !this.disabled && (p(this.image2, O({ width: c, height: f }, N(O({ translateX: -h, translateY: -d }, a)))), j(this.previews, function (t) { var e = g(t, G), n = e.width, r = e.height, i = n, o = r, s = 1; l && (o = u * (s = n / l)), u && r < o && (i = l * (s = r / u), o = r), p(t, { width: i, height: o }), p(w(t, "img")[0], O({ width: c * s, height: f * s }, N(O({ translateX: -h * s, translateY: -d * s }, a)))) })) } }, Z = "undefined" != typeof window ? window.PointerEvent : null, tt = Z ? "pointerdown" : "touchstart mousedown", et = Z ? "pointermove" : "touchmove mousemove", nt = Z ? " pointerup pointercancel" : "touchend touchcancel mouseup", rt = "wheel mousewheel DOMMouseScroll", it = { bind: function () { var t = this, e = t.options, n = t.element, r = t.cropper; f(e.cropstart) && y(n, "cropstart", e.cropstart), f(e.cropmove) && y(n, "cropmove", e.cropmove), f(e.cropend) && y(n, "cropend", e.cropend), f(e.crop) && y(n, "crop", e.crop), f(e.zoom) && y(n, "zoom", e.zoom), y(r, tt, t.onCropStart = l(t.cropStart, t)), e.zoomable && e.zoomOnWheel && y(r, rt, t.onWheel = l(t.wheel, t)), e.toggleDragModeOnDblclick && y(r, "dblclick", t.onDblclick = l(t.dblclick, t)), y(document, et, t.onCropMove = l(t.cropMove, t)), y(document, nt, t.onCropEnd = l(t.cropEnd, t)), e.responsive && y(window, "resize", t.onResize = l(t.resize, t)) }, unbind: function () { var t = this.options, e = this.element, n = this.cropper; f(t.cropstart) && m(e, "cropstart", t.cropstart), f(t.cropmove) && m(e, "cropmove", t.cropmove), f(t.cropend) && m(e, "cropend", t.cropend), f(t.crop) && m(e, "crop", t.crop), f(t.zoom) && m(e, "zoom", t.zoom), m(n, tt, this.onCropStart), t.zoomable && t.zoomOnWheel && m(n, rt, this.onWheel), t.toggleDragModeOnDblclick && m(n, "dblclick", this.onDblclick), m(document, et, this.onCropMove), m(document, nt, this.onCropEnd), t.responsive && m(window, "resize", this.onResize) } }, ot = /^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/, st = { resize: function () { var n, r, t = this, e = t.options, i = t.container, o = t.containerData, s = Number(e.minContainerWidth) || 200, a = Number(e.minContainerHeight) || 100; if (!t.disabled && o.width !== s && o.height !== a) { var l = i.offsetWidth / o.width; 1 === l && i.offsetHeight === o.height || (r = n = void 0, e.restore && (n = t.getCanvasData(), r = t.getCropBoxData()), t.render(), e.restore && (t.setCanvasData(j(n, function (t, e) { n[e] = t * l })), t.setCropBoxData(j(r, function (t, e) { r[e] = t * l })))) } }, dblclick: function () { var t, e; this.disabled || "none" === this.options.dragMode || this.setDragMode((t = this.dragBox, e = "cropper-crop", (t.classList ? t.classList.contains(e) : -1 < t.className.indexOf(e)) ? "move" : "crop")) }, wheel: function (t) { var e = this, n = _(t), r = Number(e.options.wheelZoomRatio) || .1, i = 1; e.disabled || (n.preventDefault(), e.wheeling || (e.wheeling = !0, setTimeout(function () { e.wheeling = !1 }, 50), n.deltaY ? i = 0 < n.deltaY ? 1 : -1 : n.wheelDelta ? i = -n.wheelDelta / 120 : n.detail && (i = 0 < n.detail ? 1 : -1), e.zoom(-i * r, n))) }, cropStart: function (t) { if (!this.disabled) { var e, n = this.options, r = this.pointers, i = _(t); i.changedTouches ? j(i.changedTouches, function (t) { r[t.identifier] = q(t) }) : r[i.pointerId || 0] = q(i), e = 1 < Object.keys(r).length && n.zoomable && n.zoomOnTouch ? "zoom" : g(i.target, "action"), ot.test(e) && !1 !== v(this.element, "cropstart", { originalEvent: i, action: e }) && (i.preventDefault(), this.action = e, this.cropping = !1, "crop" === e && (this.cropping = !0, h(this.dragBox, "cropper-modal"))) } }, cropMove: function (t) { var e = this.action; if (!this.disabled && e) { var n = this.pointers, r = _(t); r.preventDefault(), !1 !== v(this.element, "cropmove", { originalEvent: r, action: e }) && (r.changedTouches ? j(r.changedTouches, function (t) { O(n[t.identifier], q(t, !0)) }) : O(n[r.pointerId || 0], q(r, !0)), this.change(r)) } }, cropEnd: function (t) { if (!this.disabled) { var e = this.action, n = this.pointers, r = _(t); r.changedTouches ? j(r.changedTouches, function (t) { delete n[t.identifier] }) : delete n[r.pointerId || 0], e && (r.preventDefault(), Object.keys(n).length || (this.action = ""), this.cropping && (this.cropping = !1, u(this.dragBox, "cropper-modal", this.cropped && this.options.modal)), v(this.element, "cropend", { originalEvent: r, action: e })) } } }, at = { change: function (t) { var e = this, n = e.options, r = e.containerData, i = e.canvasData, o = e.cropBoxData, s = n.aspectRatio, a = e.action, l = o.width, u = o.height, c = o.left, f = o.top, h = c + l, d = f + u, p = 0, g = 0, m = r.width, y = r.height, v = !0, b = void 0; !s && t.shiftKey && (s = l && u ? l / u : 1), e.limited && (p = o.minLeft, g = o.minTop, m = p + Math.min(r.width, i.width, i.left + i.width), y = g + Math.min(r.height, i.height, i.top + i.height)); var _, w, x, E = e.pointers, T = E[Object.keys(E)[0]], k = { x: T.endX - T.startX, y: T.endY - T.startY }; switch (s && (k.X = k.y * s, k.Y = k.x / s), a) { case "all": c += k.x, f += k.y; break; case "e": if (0 <= k.x && (m <= h || s && (f <= g || y <= d))) { v = !1; break } l += k.x, s && (u = l / s, f -= k.Y / 2), l < 0 && (a = "w", l = 0); break; case "n": if (k.y <= 0 && (f <= g || s && (c <= p || m <= h))) { v = !1; break } u -= k.y, f += k.y, s && (l = u * s, c += k.X / 2), u < 0 && (a = "s", u = 0); break; case "w": if (k.x <= 0 && (c <= p || s && (f <= g || y <= d))) { v = !1; break } l -= k.x, c += k.x, s && (u = l / s, f += k.Y / 2), l < 0 && (a = "e", l = 0); break; case "s": if (0 <= k.y && (y <= d || s && (c <= p || m <= h))) { v = !1; break } u += k.y, s && (l = u * s, c -= k.X / 2), u < 0 && (a = "n", u = 0); break; case "ne": if (s) { if (k.y <= 0 && (f <= g || m <= h)) { v = !1; break } u -= k.y, f += k.y, l = u * s } else 0 <= k.x ? h < m ? l += k.x : k.y <= 0 && f <= g && (v = !1) : l += k.x, k.y <= 0 ? g < f && (u -= k.y, f += k.y) : (u -= k.y, f += k.y); l < 0 && u < 0 ? (a = "sw", l = u = 0) : l < 0 ? (a = "nw", l = 0) : u < 0 && (a = "se", u = 0); break; case "nw": if (s) { if (k.y <= 0 && (f <= g || c <= p)) { v = !1; break } u -= k.y, f += k.y, l = u * s, c += k.X } else k.x <= 0 ? p < c ? (l -= k.x, c += k.x) : k.y <= 0 && f <= g && (v = !1) : (l -= k.x, c += k.x), k.y <= 0 ? g < f && (u -= k.y, f += k.y) : (u -= k.y, f += k.y); l < 0 && u < 0 ? (a = "se", l = u = 0) : l < 0 ? (a = "ne", l = 0) : u < 0 && (a = "sw", u = 0); break; case "sw": if (s) { if (k.x <= 0 && (c <= p || y <= d)) { v = !1; break } l -= k.x, c += k.x, u = l / s } else k.x <= 0 ? p < c ? (l -= k.x, c += k.x) : 0 <= k.y && y <= d && (v = !1) : (l -= k.x, c += k.x), 0 <= k.y ? d < y && (u += k.y) : u += k.y; l < 0 && u < 0 ? (a = "ne", l = u = 0) : l < 0 ? (a = "se", l = 0) : u < 0 && (a = "nw", u = 0); break; case "se": if (s) { if (0 <= k.x && (m <= h || y <= d)) { v = !1; break } u = (l += k.x) / s } else 0 <= k.x ? h < m ? l += k.x : 0 <= k.y && y <= d && (v = !1) : l += k.x, 0 <= k.y ? d < y && (u += k.y) : u += k.y; l < 0 && u < 0 ? (a = "nw", l = u = 0) : l < 0 ? (a = "sw", l = 0) : u < 0 && (a = "ne", u = 0); break; case "move": e.move(k.x, k.y), v = !1; break; case "zoom": e.zoom((w = O({}, _ = E), x = [], j(_, function (a, t) { delete w[t], j(w, function (t) { var e = Math.abs(a.startX - t.startX), n = Math.abs(a.startY - t.startY), r = Math.abs(a.endX - t.endX), i = Math.abs(a.endY - t.endY), o = Math.sqrt(e * e + n * n), s = (Math.sqrt(r * r + i * i) - o) / o; x.push(s) }) }), x.sort(function (t, e) { return Math.abs(t) < Math.abs(e) }), x[0]), t), v = !1; break; case "crop": if (!k.x || !k.y) { v = !1; break } b = L(e.cropper), c = T.startX - b.left, f = T.startY - b.top, l = o.minWidth, u = o.minHeight, 0 < k.x ? a = 0 < k.y ? "se" : "ne" : k.x < 0 && (c -= l, a = 0 < k.y ? "sw" : "nw"), k.y < 0 && (f -= u), e.cropped || (A(e.cropBox, "cropper-hidden"), e.cropped = !0, e.limited && e.limitCropBox(!0, !0)) }v && (o.width = l, o.height = u, o.left = c, o.top = f, e.action = a, e.renderCropBox()), j(E, function (t) { t.startX = t.endX, t.startY = t.endY }) } }, lt = { crop: function () { var t = this; return t.ready && !t.disabled && (t.cropped || (t.cropped = !0, t.limitCropBox(!0, !0), t.options.modal && h(t.dragBox, "cropper-modal"), A(t.cropBox, "cropper-hidden")), t.setCropBoxData(t.initialCropBoxData)), t }, reset: function () { var t = this; return t.ready && !t.disabled && (t.imageData = O({}, t.initialImageData), t.canvasData = O({}, t.initialCanvasData), t.cropBoxData = O({}, t.initialCropBoxData), t.renderCanvas(), t.cropped && t.renderCropBox()), t }, clear: function () { var t = this; return t.cropped && !t.disabled && (O(t.cropBoxData, { left: 0, top: 0, width: 0, height: 0 }), t.cropped = !1, t.renderCropBox(), t.limitCanvas(), t.renderCanvas(), A(t.dragBox, "cropper-modal"), h(t.cropBox, "cropper-hidden")), t }, replace: function (e, t) { var n = this; return !n.disabled && e && (n.isImg && (n.element.src = e), t ? (n.url = e, n.image.src = e, n.ready && (n.image2.src = e, j(n.previews, function (t) { w(t, "img")[0].src = e }))) : (n.isImg && (n.replaced = !0), n.options.data = null, n.load(e))), n }, enable: function () { return this.ready && (this.disabled = !1, A(this.cropper, "cropper-disabled")), this }, disable: function () { return this.ready && (this.disabled = !0, h(this.cropper, "cropper-disabled")), this }, destroy: function () { var t = this, e = t.element, n = t.image; return t.loaded ? (t.isImg && t.replaced && (e.src = t.originalUrl), t.unbuild(), A(e, "cropper-hidden")) : t.isImg ? m(e, "load", t.onStart) : n && T(n), c(e, "cropper"), t }, move: function (t, e) { var n = this.canvasData; return this.moveTo(i(t) ? t : n.left + Number(t), i(e) ? e : n.top + Number(e)) }, moveTo: function (t, e) { var n = this.canvasData, r = !1; return i(e) && (e = t), t = Number(t), e = Number(e), this.ready && !this.disabled && this.options.movable && (b(t) && (n.left = t, r = !0), b(e) && (n.top = e, r = !0), r && this.renderCanvas(!0)), this }, zoom: function (t, e) { var n = this.canvasData; return t = (t = Number(t)) < 0 ? 1 / (1 - t) : 1 + t, this.zoomTo(n.width * t / n.naturalWidth, e) }, zoomTo: function (t, e) { var r, i, o, n = this, s = n.options, a = n.canvasData, l = a.width, u = a.height, c = a.naturalWidth, f = a.naturalHeight; if (0 <= (t = Number(t)) && n.ready && !n.disabled && s.zoomable) { var h = c * t, d = f * t; if (!1 === v(n.element, "zoom", { originalEvent: e, oldRatio: l / c, ratio: h / c })) return n; if (e) { var p = n.pointers, g = L(n.cropper), m = p && Object.keys(p).length ? (o = i = r = 0, j(p, function (t) { var e = t.startX, n = t.startY; r += e, i += n, o += 1 }), { pageX: r /= o, pageY: i /= o }) : { pageX: e.pageX, pageY: e.pageY }; a.left -= (h - l) * ((m.pageX - g.left - a.left) / l), a.top -= (d - u) * ((m.pageY - g.top - a.top) / u) } else a.left -= (h - l) / 2, a.top -= (d - u) / 2; a.width = h, a.height = d, n.renderCanvas(!0) } return n }, rotate: function (t) { return this.rotateTo((this.imageData.rotate || 0) + Number(t)) }, rotateTo: function (t) { return b(t = Number(t)) && this.ready && !this.disabled && this.options.rotatable && (this.imageData.rotate = t % 360, this.rotated = !0, this.renderCanvas(!0)), this }, scale: function (t, e) { var n = this.imageData, r = !1; return i(e) && (e = t), t = Number(t), e = Number(e), this.ready && !this.disabled && this.options.scalable && (b(t) && (n.scaleX = t, r = !0), b(e) && (n.scaleY = e, r = !0), r && this.renderImage(!0)), this }, scaleX: function (t) { var e = this.imageData.scaleY; return this.scale(t, b(e) ? e : 1) }, scaleY: function (t) { var e = this.imageData.scaleX; return this.scale(b(e) ? e : 1, t) }, getData: function (n) { var t = this.options, e = this.imageData, r = this.canvasData, i = this.cropBoxData, o = void 0, s = void 0; return this.ready && this.cropped ? (s = { x: i.left - r.left, y: i.top - r.top, width: i.width, height: i.height }, o = e.width / e.naturalWidth, j(s, function (t, e) { t /= o, s[e] = n ? Math.round(t) : t })) : s = { x: 0, y: 0, width: 0, height: 0 }, t.rotatable && (s.rotate = e.rotate || 0), t.scalable && (s.scaleX = e.scaleX || 1, s.scaleY = e.scaleY || 1), s }, setData: function (t) { var e = this, n = e.options, r = e.imageData, i = e.canvasData, o = {}, s = void 0, a = void 0, l = void 0; return f(t) && (t = t.call(e.element)), e.ready && !e.disabled && S(t) && (n.rotatable && b(t.rotate) && t.rotate !== r.rotate && (r.rotate = t.rotate, e.rotated = s = !0), n.scalable && (b(t.scaleX) && t.scaleX !== r.scaleX && (r.scaleX = t.scaleX, a = !0), b(t.scaleY) && t.scaleY !== r.scaleY && (r.scaleY = t.scaleY, a = !0)), s ? e.renderCanvas() : a && e.renderImage(), l = r.width / r.naturalWidth, b(t.x) && (o.left = t.x * l + i.left), b(t.y) && (o.top = t.y * l + i.top), b(t.width) && (o.width = t.width * l), b(t.height) && (o.height = t.height * l), e.setCropBoxData(o)), e }, getContainerData: function () { return this.ready ? this.containerData : {} }, getImageData: function () { return this.loaded ? this.imageData : {} }, getCanvasData: function () { var e = this.canvasData, n = {}; return this.ready && j(["left", "top", "width", "height", "naturalWidth", "naturalHeight"], function (t) { n[t] = e[t] }), n }, setCanvasData: function (t) { var e = this.canvasData, n = e.aspectRatio; return f(t) && (t = t.call(this.element)), this.ready && !this.disabled && S(t) && (b(t.left) && (e.left = t.left), b(t.top) && (e.top = t.top), b(t.width) ? (e.width = t.width, e.height = t.width / n) : b(t.height) && (e.height = t.height, e.width = t.height * n), this.renderCanvas(!0)), this }, getCropBoxData: function () { var t = this.cropBoxData, e = void 0; return this.ready && this.cropped && (e = { left: t.left, top: t.top, width: t.width, height: t.height }), e || {} }, setCropBoxData: function (t) { var e = this.cropBoxData, n = this.options.aspectRatio, r = void 0, i = void 0; return f(t) && (t = t.call(this.element)), this.ready && this.cropped && !this.disabled && S(t) && (b(t.left) && (e.left = t.left), b(t.top) && (e.top = t.top), b(t.width) && t.width !== e.width && (r = !0, e.width = t.width), b(t.height) && t.height !== e.height && (i = !0, e.height = t.height), n && (r ? e.height = e.width / n : i && (e.width = e.height * n)), this.renderCropBox()), this }, getCroppedCanvas: function (t) { var e = this; if (!e.ready || !window.HTMLCanvasElement) return null; if (!e.cropped) return D(e.image, e.imageData); S(t) || (t = {}); var n = e.getData(), r = n.width, i = n.height, o = r / i, s = void 0, a = void 0, l = void 0; S(t) && (s = t.width, a = t.height, s ? (a = s / o, l = s / r) : a && (s = a * o, l = a / i)); var u = Math.floor(s || r), c = Math.floor(a || i), f = C("canvas"), h = f.getContext("2d"); f.width = u, f.height = c, t.fillColor && (h.fillStyle = t.fillColor, h.fillRect(0, 0, u, c)); var d, p, g, m, y, v, b, _, w, x, E, T, k, j = (d = D(e.image, e.imageData), p = d.width, g = d.height, m = e.canvasData, y = [d], v = n.x + m.naturalWidth * (Math.abs(n.scaleX || 1) - 1) / 2, b = n.y + m.naturalHeight * (Math.abs(n.scaleY || 1) - 1) / 2, k = T = E = x = w = _ = void 0, v <= -r || p < v ? v = _ = x = T = 0 : v <= 0 ? (x = -v, v = 0, _ = T = Math.min(p, r + v)) : v <= p && (x = 0, _ = T = Math.min(r, p - v)), _ <= 0 || b <= -i || g < b ? b = w = E = k = 0 : b <= 0 ? (E = -b, b = 0, w = k = Math.min(g, i + b)) : b <= g && (E = 0, w = k = Math.min(i, g - b)), y.push(Math.floor(v), Math.floor(b), Math.floor(_), Math.floor(w)), l && (x *= l, E *= l, T *= l, k *= l), 0 < T && 0 < k && y.push(Math.floor(x), Math.floor(E), Math.floor(T), Math.floor(k)), y); return h.drawImage.apply(h, function (t) { if (Array.isArray(t)) { for (var e = 0, n = Array(t.length); e < t.length; e++)n[e] = t[e]; return n } return Array.from(t) }(j)), f }, setAspectRatio: function (t) { var e = this.options; return this.disabled || i(t) || (e.aspectRatio = Math.max(0, t) || NaN, this.ready && (this.initCropBox(), this.cropped && this.renderCropBox())), this }, setDragMode: function (t) { var e = this.options, n = this.dragBox, r = this.face, i = void 0, o = void 0; return this.loaded && !this.disabled && (i = "crop" === t, o = e.movable && "move" === t, d(n, "action", t = i || o ? t : "none"), u(n, "cropper-crop", i), u(n, "cropper-move", o), e.cropBoxMovable || (d(r, "action", t), u(r, "cropper-crop", i), u(r, "cropper-move", o))), this } }, ut = "cropper", ct = ut + "-hidden", ft = "load", ht = /^data:/, dt = void 0, pt = function () { function r(t, e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, r); var n = this; n.element = t, n.options = O({}, I, S(e) && e), n.loaded = !1, n.ready = !1, n.complete = !1, n.rotated = !1, n.cropped = !1, n.disabled = !1, n.replaced = !1, n.limited = !1, n.wheeling = !1, n.isImg = !1, n.originalUrl = "", n.canvasData = null, n.cropBoxData = null, n.previews = null, n.pointers = {}, n.init() } return t(r, [{ key: "init", value: function () { var t = this.element, e = t.tagName.toLowerCase(), n = void 0; if (!g(t, ut)) { if (d(t, ut, this), "img" === e) { if (this.isImg = !0, this.originalUrl = n = t.getAttribute("src"), !n) return; n = t.src } else "canvas" === e && window.HTMLCanvasElement && (n = t.toDataURL()); this.load(n) } } }, { key: "load", value: function (t) { var e = this, n = e.options, r = e.element; if (t) { if (e.url = t, e.imageData = {}, !n.checkOrientation || !window.ArrayBuffer) return void e.clone(); if (ht.test(t)) return void e.read(function (t) { var e = t.replace(B, ""), n = atob(e), r = n.length, i = new ArrayBuffer(r), o = new Uint8Array(i), s = void 0; for (s = 0; s < r; s++)o[s] = n.charCodeAt(s); return i }(t)); var i = new XMLHttpRequest; i.onerror = i.onabort = function () { e.clone() }, i.onload = function () { e.read(i.response) }, n.checkCrossOrigin && k(t) && r.crossOrigin && (t = P(t)), i.open("get", t), i.responseType = "arraybuffer", i.withCredentials = "use-credentials" === r.crossOrigin, i.send() } } }, { key: "read", value: function (t) { var e = this.options, n = R(t), r = this.imageData, i = 0, o = 1, s = 1; if (1 < n) switch (this.url = function (t) { var e = new Uint8Array(t), n = e.length, r = "", i = void 0; for (i = 0; i < n; i++)r += X(e[i]); return "data:image/jpeg;base64," + btoa(r) }(t), n) { case 2: o = -1; break; case 3: i = -180; break; case 4: s = -1; break; case 5: i = 90, s = -1; break; case 6: i = 90; break; case 7: i = 90, o = -1; break; case 8: i = -90 }e.rotatable && (r.rotate = i), e.scalable && (r.scaleX = o, r.scaleY = s), this.clone() } }, { key: "clone", value: function () { var t, e, n = this, r = n.element, i = n.url, o = void 0, s = void 0; n.options.checkCrossOrigin && k(i) && ((o = r.crossOrigin) ? s = i : (o = "anonymous", s = P(i))), n.crossOrigin = o, n.crossOriginUrl = s; var a = C("img"); o && (a.crossOrigin = o), a.src = s || i, n.image = a, n.onStart = t = l(n.start, n), n.onStop = e = l(n.stop, n), n.isImg ? r.complete ? n.start() : y(r, ft, t) : (y(a, ft, t), y(a, "error", e), h(a, "cropper-hide"), r.parentNode.insertBefore(a, r.nextSibling)) } }, { key: "start", value: function (t) { var n = this, e = n.isImg ? n.element : n.image; t && (m(e, ft, n.onStart), m(e, "error", n.onStop)), function (t, e) { if (!t.naturalWidth || $) { var n = C("img"); n.onload = function () { e(this.width, this.height) }, n.src = t.src } else e(t.naturalWidth, t.naturalHeight) }(e, function (t, e) { O(n.imageData, { naturalWidth: t, naturalHeight: e, aspectRatio: t / e }), n.loaded = !0, n.build() }) } }, { key: "stop", value: function () { var t = this.image; m(t, ft, this.onStart), m(t, "error", this.onStop), T(t), this.image = null } }, { key: "build", value: function () { var t = this, e = t.options, n = t.element, r = t.image, i = void 0, o = void 0, s = void 0, a = void 0, l = void 0, u = void 0; if (t.loaded) { t.ready && t.unbuild(); var c = C("div"); c.innerHTML = '<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>', t.container = i = n.parentNode, t.cropper = o = x(c, "cropper-container")[0], t.canvas = s = x(o, "cropper-canvas")[0], t.dragBox = a = x(o, "cropper-drag-box")[0], t.cropBox = l = x(o, "cropper-crop-box")[0], t.viewBox = x(o, "cropper-view-box")[0], t.face = u = x(l, "cropper-face")[0], E(s, r), h(n, ct), i.insertBefore(o, n.nextSibling), t.isImg || A(r, "cropper-hide"), t.initPreview(), t.bind(), e.aspectRatio = Math.max(0, e.aspectRatio) || NaN, e.viewMode = Math.max(0, Math.min(3, Math.round(e.viewMode))) || 0, t.cropped = e.autoCrop, e.autoCrop ? e.modal && h(a, "cropper-modal") : h(l, ct), e.guides || h(x(l, "cropper-dashed"), ct), e.center || h(x(l, "cropper-center"), ct), e.background && h(o, "cropper-bg"), e.highlight || h(u, "cropper-invisible"), e.cropBoxMovable && (h(u, "cropper-move"), d(u, "action", "all")), e.cropBoxResizable || (h(x(l, "cropper-line"), ct), h(x(l, "cropper-point"), ct)), t.setDragMode(e.dragMode), t.render(), t.ready = !0, t.setData(e.data), t.completing = setTimeout(function () { f(e.ready) && y(n, "ready", e.ready, !0), v(n, "ready"), v(n, "crop", t.getData()), t.complete = !0 }, 0) } } }, { key: "unbuild", value: function () { var t = this; t.ready && (t.complete || clearTimeout(t.completing), t.ready = !1, t.complete = !1, t.initialImageData = null, t.initialCanvasData = null, t.initialCropBoxData = null, t.containerData = null, t.canvasData = null, t.cropBoxData = null, t.unbind(), t.resetPreview(), t.previews = null, t.viewBox = null, t.cropBox = null, t.dragBox = null, t.canvas = null, t.container = null, T(t.cropper), t.cropper = null) } }], [{ key: "noConflict", value: function () { return window.Cropper = dt, r } }, { key: "setDefaults", value: function (t) { O(I, S(t) && t) } }]), r }(); return O(pt.prototype, Q), O(pt.prototype, J), O(pt.prototype, it), O(pt.prototype, st), O(pt.prototype, at), O(pt.prototype, lt), "undefined" != typeof window && (dt = window.Cropper, window.Cropper = pt), pt }), function () { var i = function (t) { if ("string" == typeof t) this.uiCanvas = document.querySelector(t); else if ($ && t instanceof $) this.uiCanvas = $(t).get(0); else { if (!(t instanceof HTMLCanvasElement)) throw new TypeError("Parameter is not valid Canvas element!"); this.uiCanvas = t } this.baseFontSize = 60, this.canvas = document.createElement("canvas"), this.canvas.width = 500, this.canvas.height = 500 }; i.prototype.setImage = function (t, e) { var n = this; n = this; if (e = e || !1, "string" == typeof t) { if ("" === t) throw new TypeError("Parameter is not valid Image element!"); n.image ? n.image.src = null : n.image = document.createElement("img"), e && n.image.setAttribute("crossOrigin", "anonymous"), n.image.src = t } else if ($ && t instanceof $) n.image = $(t).get(0); else { if (!(t instanceof HTMLImageElement)) throw new TypeError("Parameter is not valid Image element!"); n.image = t, e && n.image.setAttribute("crossOrigin", "anonymous") } function r() { n.image.width = n.canvas.width, n.image.height = n.canvas.height, n.trigger("onImageLoad") } n.image.complete && 0 < n.image.naturalWidth ? setTimeout(function () { r() }, 0) : (n.image.onload && (n.image.onload = null), n.image.onerror && (n.image.onerror = null), n.image.onload = function () { r() }, n.image.onerror = function () { n.trigger("imageLoadFail") }) }, i.prototype.renderImage = function (t, e) { var c = this, i = c.canvas.getContext("2d"); function n(t, e, n) { var r = c.canvas.getContext("2d"), i = c.canvas.width / 2; n || ("top" === e ? n = c.baseFontSize : "bottom" === e && (n = c.canvas.height - 10)); var o, s, a = t.split("\n"), l = c.baseFontSize; if ("top" === e) { r.font = c.baseFontSize + "px Impact"; for (var u = 0; u < a.length; u++)r.measureText(a[u]).width > c.canvas.width && (l = (s = Math.ceil(c.canvas.width / r.measureText(a[u]).width * c.baseFontSize)) < l ? s : l); for (n = (o = l) + 10, u = 0; u < a.length; u++)f(a[u], i, n + u * o, l) } else if ("bottom" === e) { r.font = c.baseFontSize + "px Impact"; for (u = a.length - 1; 0 <= u; u--)r.measureText(a[u]).width > c.canvas.width && (l = (s = Math.ceil(c.canvas.width / r.measureText(a[u]).width * c.baseFontSize)) < l ? s : l); for (o = l, u = a.length - 1; 0 <= u; u--)f(a[u], i, n - (a.length - u - 1) * o, l) } } function f(t, e, n, r) { i.textAlign = "center", i.font = " " + r + "px Impact", i.fillStyle = "#FFF", i.strokeStyle = "#000", i.shadowColor = "#000", i.shadowBlur = 3, i.lineWidth = 3, i.fillText(t, e, n, .95 * c.canvas.width), i.strokeText(t, e, n, .95 * c.canvas.width), i.lineWidth = 1, i.strokeStyle = "#FFF", i.shadowBlur = 0, i.fillText(t, e, n, .95 * c.canvas.width) } i.clearRect(0, 0, c.canvas.width, c.canvas.height), i.drawImage(c.image, 0, 0, c.image.width, c.image.height), e = e || "", n(t = t || "", "top"), n(e, "bottom"), c.uiCanvas.getContext("2d").drawImage(c.canvas, 0, 0, c.uiCanvas.width, c.uiCanvas.height), c.trigger("afterRender") }, i.prototype.getDataURL = function () { return this.canvas.toDataURL() }, i.prototype.clearCanvas = function () { var t = this.canvas.getContext("2d"); t.clearRect(0, 0, t.canvas.width, t.canvas.height), (t = this.uiCanvas.getContext("2d")).clearRect(0, 0, t.canvas.width, t.canvas.height) }, i.EventBus = {}, i.prototype.on = function (t, e, n) { i.EventBus[t] = i.EventBus[t] || []; var r = i.Util.getUUID(); return i.EventBus[t].push({ uuid: r, key: t, callback: e.bind(n) }), { uuid: r, key: t } }, i.prototype.off = function (t) { for (var e = 0; e < i.EventBus[t.key].length; e++) { var n = i.EventBus[t.key][e]; if (n.uuid === t.uuid) return n = void 0, void i.EventBus[t.key].splice(e, 1) } }, i.prototype.trigger = function (t) { if (i.EventBus[t]) for (var e = 0; e < i.EventBus[t].length; e++)i.EventBus[t][e].callback() }, i.Util = { getUUID: function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) { var e = 16 * Math.random() | 0; return ("x" == t ? e : 3 & e | 8).toString(16) }) } }, window.Memer = i }(), this.createjs = this.createjs || {}, function () { "use strict"; var t = createjs.PreloadJS = createjs.PreloadJS || {}; t.version = "0.6.1", t.buildDate = "Thu, 21 May 2015 16:17:37 GMT" }(), this.createjs = this.createjs || {}, createjs.extend = function (t, e) { "use strict"; function n() { this.constructor = t } return n.prototype = e.prototype, t.prototype = new n }, this.createjs = this.createjs || {}, createjs.promote = function (t, e) { "use strict"; var n = t.prototype, r = Object.getPrototypeOf && Object.getPrototypeOf(n) || n.__proto__; if (r) for (var i in n[(e += "_") + "constructor"] = r.constructor, r) n.hasOwnProperty(i) && "function" == typeof r[i] && (n[e + i] = r[i]); return t }, this.createjs = this.createjs || {}, createjs.indexOf = function (t, e) { "use strict"; for (var n = 0, r = t.length; n < r; n++)if (e === t[n]) return n; return -1 }, this.createjs = this.createjs || {}, function () { "use strict"; createjs.proxy = function (t, e) { var n = Array.prototype.slice.call(arguments, 2); return function () { return t.apply(e, Array.prototype.slice.call(arguments, 0).concat(n)) } } }(), this.createjs = this.createjs || {}, function () { "use strict"; function t() { throw "BrowserDetect cannot be instantiated" } var e = t.agent = window.navigator.userAgent; t.isWindowPhone = -1 < e.indexOf("IEMobile") || -1 < e.indexOf("Windows Phone"), t.isFirefox = -1 < e.indexOf("Firefox"), t.isOpera = null != window.opera, t.isChrome = -1 < e.indexOf("Chrome"), t.isIOS = (-1 < e.indexOf("iPod") || -1 < e.indexOf("iPhone") || -1 < e.indexOf("iPad")) && !t.isWindowPhone, t.isAndroid = -1 < e.indexOf("Android") && !t.isWindowPhone, t.isBlackberry = -1 < e.indexOf("Blackberry"), createjs.BrowserDetect = t }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.type = t, this.target = null, this.currentTarget = null, this.eventPhase = 0, this.bubbles = !!e, this.cancelable = !!n, this.timeStamp = (new Date).getTime(), this.defaultPrevented = !1, this.propagationStopped = !1, this.immediatePropagationStopped = !1, this.removed = !1 } var e = t.prototype; e.preventDefault = function () { this.defaultPrevented = this.cancelable && !0 }, e.stopPropagation = function () { this.propagationStopped = !0 }, e.stopImmediatePropagation = function () { this.immediatePropagationStopped = this.propagationStopped = !0 }, e.remove = function () { this.removed = !0 }, e.clone = function () { return new t(this.type, this.bubbles, this.cancelable) }, e.set = function (t) { for (var e in t) this[e] = t[e]; return this }, e.toString = function () { return "[Event (type=" + this.type + ")]" }, createjs.Event = t }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.Event_constructor("error"), this.title = t, this.message = e, this.data = n } createjs.extend(t, createjs.Event).clone = function () { return new createjs.ErrorEvent(this.title, this.message, this.data) }, createjs.ErrorEvent = createjs.promote(t, "Event") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t() { this._listeners = null, this._captureListeners = null } var e = t.prototype; t.initialize = function (t) { t.addEventListener = e.addEventListener, t.on = e.on, t.removeEventListener = t.off = e.removeEventListener, t.removeAllEventListeners = e.removeAllEventListeners, t.hasEventListener = e.hasEventListener, t.dispatchEvent = e.dispatchEvent, t._dispatchEvent = e._dispatchEvent, t.willTrigger = e.willTrigger }, e.addEventListener = function (t, e, n) { var r, i = (r = n ? this._captureListeners = this._captureListeners || {} : this._listeners = this._listeners || {})[t]; return i && this.removeEventListener(t, e, n), (i = r[t]) ? i.push(e) : r[t] = [e], e }, e.on = function (t, e, n, r, i, o) { return e.handleEvent && (n = n || e, e = e.handleEvent), n = n || this, this.addEventListener(t, function (t) { e.call(n, t, i), r && t.remove() }, o) }, e.removeEventListener = function (t, e, n) { var r = n ? this._captureListeners : this._listeners; if (r) { var i = r[t]; if (i) for (var o = 0, s = i.length; o < s; o++)if (i[o] == e) { 1 == s ? delete r[t] : i.splice(o, 1); break } } }, e.off = e.removeEventListener, e.removeAllEventListeners = function (t) { t ? (this._listeners && delete this._listeners[t], this._captureListeners && delete this._captureListeners[t]) : this._listeners = this._captureListeners = null }, e.dispatchEvent = function (t) { if ("string" == typeof t) { var e = this._listeners; if (!e || !e[t]) return !1; t = new createjs.Event(t) } else t.target && t.clone && (t = t.clone()); try { t.target = this } catch (t) { } if (t.bubbles && this.parent) { for (var n = this, r = [n]; n.parent;)r.push(n = n.parent); var i, o = r.length; for (i = o - 1; 0 <= i && !t.propagationStopped; i--)r[i]._dispatchEvent(t, 1 + (0 == i)); for (i = 1; i < o && !t.propagationStopped; i++)r[i]._dispatchEvent(t, 3) } else this._dispatchEvent(t, 2); return t.defaultPrevented }, e.hasEventListener = function (t) { var e = this._listeners, n = this._captureListeners; return !!(e && e[t] || n && n[t]) }, e.willTrigger = function (t) { for (var e = this; e;) { if (e.hasEventListener(t)) return !0; e = e.parent } return !1 }, e.toString = function () { return "[EventDispatcher]" }, e._dispatchEvent = function (t, e) { var n, r = 1 == e ? this._captureListeners : this._listeners; if (t && r) { var i = r[t.type]; if (!i || !(n = i.length)) return; try { t.currentTarget = this } catch (t) { } try { t.eventPhase = e } catch (t) { } t.removed = !1, i = i.slice(); for (var o = 0; o < n && !t.immediatePropagationStopped; o++) { var s = i[o]; s.handleEvent ? s.handleEvent(t) : s(t), t.removed && (this.off(t.type, s, 1 == e), t.removed = !1) } } }, createjs.EventDispatcher = t }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.Event_constructor("progress"), this.loaded = t, this.total = null == e ? 1 : e, this.progress = 0 == e ? 0 : this.loaded / this.total } createjs.extend(t, createjs.Event).clone = function () { return new createjs.ProgressEvent(this.loaded, this.total) }, createjs.ProgressEvent = createjs.promote(t, "Event") }(window), function () { function I(t, l) { function u(t) { if (u[t] !== j) return u[t]; var e; if ("bug-string-char-index" == t) e = "a" != "a"[0]; else if ("json" == t) e = u("json-stringify") && u("json-parse"); else { var n, r = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'; if ("json-stringify" == t) { var i = l.stringify, o = "function" == typeof i && d; if (o) { (n = function () { return 1 }).toJSON = n; try { o = "0" === i(0) && "0" === i(new c) && '""' == i(new f) && i(S) === j && i(j) === j && i() === j && "1" === i(n) && "[1]" == i([n]) && "[null]" == i([j]) && "null" == i(null) && "[null,null,null]" == i([j, S, null]) && i({ a: [n, !0, !1, null, "\0\b\n\f\r\t"] }) == r && "1" === i(null, n) && "[\n 1,\n 2\n]" == i([1, 2], null, 1) && '"-271821-04-20T00:00:00.000Z"' == i(new h(-864e13)) && '"+275760-09-13T00:00:00.000Z"' == i(new h(864e13)) && '"-000001-01-01T00:00:00.000Z"' == i(new h(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == i(new h(-1)) } catch (t) { o = !1 } } e = o } if ("json-parse" == t) { var s = l.parse; if ("function" == typeof s) try { if (0 === s("0") && !s(!1)) { var a = 5 == (n = s(r)).a.length && 1 === n.a[0]; if (a) { try { a = !s('"\t"') } catch (t) { } if (a) try { a = 1 !== s("01") } catch (t) { } if (a) try { a = 1 !== s("1.") } catch (t) { } } } } catch (t) { a = !1 } e = a } } return u[t] = !!e } t || (t = H.Object()), l || (l = H.Object()); var c = t.Number || H.Number, f = t.String || H.String, e = t.Object || H.Object, h = t.Date || H.Date, n = t.SyntaxError || H.SyntaxError, E = t.TypeError || H.TypeError, r = t.Math || H.Math, i = t.JSON || H.JSON; "object" == typeof i && i && (l.stringify = i.stringify, l.parse = i.parse); var T, k, j, o = e.prototype, S = o.toString, d = new h(-0xc782b5b800cec); try { d = -109252 == d.getUTCFullYear() && 0 === d.getUTCMonth() && 1 === d.getUTCDate() && 10 == d.getUTCHours() && 37 == d.getUTCMinutes() && 6 == d.getUTCSeconds() && 708 == d.getUTCMilliseconds() } catch (t) { } if (!u("json")) { var p = "[object Function]", O = "[object Number]", A = "[object String]", L = "[object Array]", a = u("bug-string-char-index"); if (!d) var C = r.floor, s = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334], P = function (t, e) { return s[e] + 365 * (t - 1970) + C((t - 1969 + (e = +(1 < e))) / 4) - C((t - 1901 + e) / 100) + C((t - 1601 + e) / 400) }; if ((T = o.hasOwnProperty) || (T = function (t) { var n, e = {}; return (e.__proto__ = null, e.__proto__ = { toString: 1 }, e).toString != S ? T = function (t) { var e = this.__proto__, n = t in (this.__proto__ = null, this); return this.__proto__ = e, n } : (n = e.constructor, T = function (t) { var e = (this.constructor || n).prototype; return t in this && !(t in e && this[t] === e[t]) }), e = null, T.call(this, t) }), k = function (t, e) { var n, s, r, i = 0; for (r in (n = function () { this.valueOf = 0 }).prototype.valueOf = 0, s = new n) T.call(s, r) && i++; return n = s = null, i ? k = 2 == i ? function (t, e) { var n, r = {}, i = S.call(t) == p; for (n in t) i && "prototype" == n || T.call(r, n) || !(r[n] = 1) || !T.call(t, n) || e(n) } : function (t, e) { var n, r, i = S.call(t) == p; for (n in t) i && "prototype" == n || !T.call(t, n) || (r = "constructor" === n) || e(n); (r || T.call(t, n = "constructor")) && e(n) } : (s = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"], k = function (t, e) { var n, r, i = S.call(t) == p, o = !i && "function" != typeof t.constructor && B[typeof t.hasOwnProperty] && t.hasOwnProperty || T; for (n in t) i && "prototype" == n || !o.call(t, n) || e(n); for (r = s.length; n = s[--r]; o.call(t, n) && e(n)); }), k(t, e) }, !u("json-stringify")) { var g = { 92: "\\\\", 34: '\\"', 8: "\\b", 12: "\\f", 10: "\\n", 13: "\\r", 9: "\\t" }, N = function (t, e) { return ("000000" + (e || 0)).slice(-t) }, M = function (t) { for (var e = '"', n = 0, r = t.length, i = !a || 10 < r, o = i && (a ? t.split("") : t); n < r; n++) { var s = t.charCodeAt(n); switch (s) { case 8: case 9: case 10: case 12: case 13: case 34: case 92: e += g[s]; break; default: if (s < 32) { e += "\\u00" + N(2, s.toString(16)); break } e += i ? o[n] : t.charAt(n) } } return e + '"' }, D = function (t, e, n, r, i, o, s) { var a, l, u, c, f, h, d, p, g, m, y, v, b, _, w, x; try { a = e[t] } catch (t) { } if ("object" == typeof a && a) if ("[object Date]" != (l = S.call(a)) || T.call(a, "toJSON")) "function" == typeof a.toJSON && (l != O && l != A && l != L || T.call(a, "toJSON")) && (a = a.toJSON(t)); else if (-1 / 0 < a && a < 1 / 0) { if (P) { for (f = C(a / 864e5), u = C(f / 365.2425) + 1970 - 1; P(u + 1, 0) <= f; u++); for (c = C((f - P(u, 0)) / 30.42); P(u, c + 1) <= f; c++); f = 1 + f - P(u, c), d = C((h = (a % 864e5 + 864e5) % 864e5) / 36e5) % 24, p = C(h / 6e4) % 60, g = C(h / 1e3) % 60, m = h % 1e3 } else u = a.getUTCFullYear(), c = a.getUTCMonth(), f = a.getUTCDate(), d = a.getUTCHours(), p = a.getUTCMinutes(), g = a.getUTCSeconds(), m = a.getUTCMilliseconds(); a = (u <= 0 || 1e4 <= u ? (u < 0 ? "-" : "+") + N(6, u < 0 ? -u : u) : N(4, u)) + "-" + N(2, c + 1) + "-" + N(2, f) + "T" + N(2, d) + ":" + N(2, p) + ":" + N(2, g) + "." + N(3, m) + "Z" } else a = null; if (n && (a = n.call(e, t, a)), null === a) return "null"; if ("[object Boolean]" == (l = S.call(a))) return "" + a; if (l == O) return -1 / 0 < a && a < 1 / 0 ? "" + a : "null"; if (l == A) return M("" + a); if ("object" == typeof a) { for (_ = s.length; _--;)if (s[_] === a) throw E(); if (s.push(a), y = [], w = o, o += i, l == L) { for (b = 0, _ = a.length; b < _; b++)v = D(b, a, n, r, i, o, s), y.push(v === j ? "null" : v); x = y.length ? i ? "[\n" + o + y.join(",\n" + o) + "\n" + w + "]" : "[" + y.join(",") + "]" : "[]" } else k(r || a, function (t) { var e = D(t, a, n, r, i, o, s); e !== j && y.push(M(t) + ":" + (i ? " " : "") + e) }), x = y.length ? i ? "{\n" + o + y.join(",\n" + o) + "\n" + w + "}" : "{" + y.join(",") + "}" : "{}"; return s.pop(), x } }; l.stringify = function (t, e, n) { var r, i, o, s; if (B[typeof e] && e) if ((s = S.call(e)) == p) i = e; else if (s == L) { o = {}; for (var a, l = 0, u = e.length; l < u; a = e[l++], ((s = S.call(a)) == A || s == O) && (o[a] = 1)); } if (n) if ((s = S.call(n)) == O) { if (0 < (n -= n % 1)) for (r = "", 10 < n && (n = 10); r.length < n; r += " "); } else s == A && (r = n.length <= 10 ? n : n.slice(0, 10)); return D("", ((a = {})[""] = t, a), i, o, r, "", []) } } if (!u("json-parse")) { var m, y, v = f.fromCharCode, b = { 92: "\\", 34: '"', 47: "/", 98: "\b", 116: "\t", 110: "\n", 102: "\f", 114: "\r" }, _ = function () { throw m = y = null, n() }, w = function () { for (var t, e, n, r, i, o = y, s = o.length; m < s;)switch (i = o.charCodeAt(m)) { case 9: case 10: case 13: case 32: m++; break; case 123: case 125: case 91: case 93: case 58: case 44: return t = a ? o.charAt(m) : o[m], m++ , t; case 34: for (t = "@", m++; m < s;)if ((i = o.charCodeAt(m)) < 32) _(); else if (92 == i) switch (i = o.charCodeAt(++m)) { case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114: t += b[i], m++; break; case 117: for (e = ++m, n = m + 4; m < n; m++)48 <= (i = o.charCodeAt(m)) && i <= 57 || 97 <= i && i <= 102 || 65 <= i && i <= 70 || _(); t += v("0x" + o.slice(e, m)); break; default: _() } else { if (34 == i) break; for (i = o.charCodeAt(m), e = m; 32 <= i && 92 != i && 34 != i;)i = o.charCodeAt(++m); t += o.slice(e, m) } if (34 == o.charCodeAt(m)) return m++ , t; _(); default: if (e = m, 45 == i && (r = !0, i = o.charCodeAt(++m)), 48 <= i && i <= 57) { for (48 == i && (48 <= (i = o.charCodeAt(m + 1)) && i <= 57) && _(), r = !1; m < s && (48 <= (i = o.charCodeAt(m)) && i <= 57); m++); if (46 == o.charCodeAt(m)) { for (n = ++m; n < s && (48 <= (i = o.charCodeAt(n)) && i <= 57); n++); n == m && _(), m = n } if (101 == (i = o.charCodeAt(m)) || 69 == i) { for ((43 == (i = o.charCodeAt(++m)) || 45 == i) && m++ , n = m; n < s && (48 <= (i = o.charCodeAt(n)) && i <= 57); n++); n == m && _(), m = n } return +o.slice(e, m) } if (r && _(), "true" == o.slice(m, m + 4)) return m += 4, !0; if ("false" == o.slice(m, m + 5)) return m += 5, !1; if ("null" == o.slice(m, m + 4)) return m += 4, null; _() }return "$" }, x = function (t) { var e, n; if ("$" == t && _(), "string" == typeof t) { if ("@" == (a ? t.charAt(0) : t[0])) return t.slice(1); if ("[" == t) { for (e = []; "]" != (t = w()); n || (n = !0))n && ("," == t ? "]" == (t = w()) && _() : _()), "," == t && _(), e.push(x(t)); return e } if ("{" == t) { for (e = {}; "}" != (t = w()); n || (n = !0))n && ("," == t ? "}" == (t = w()) && _() : _()), ("," == t || "string" != typeof t || "@" != (a ? t.charAt(0) : t[0]) || ":" != w()) && _(), e[t.slice(1)] = x(w()); return e } _() } return t }, R = function (t, e, n) { var r = q(t, e, n); r === j ? delete t[e] : t[e] = r }, q = function (t, e, n) { var r, i = t[e]; if ("object" == typeof i && i) if (S.call(i) == L) for (r = i.length; r--;)R(i, r, n); else k(i, function (t) { R(i, t, n) }); return n.call(t, e, i) }; l.parse = function (t, e) { var n, r; return m = 0, y = "" + t, n = x(w()), "$" != w() && _(), m = y = null, e && S.call(e) == p ? q(((r = {})[""] = n, r), "", e) : n } } } return l.runInContext = I, l } var t = "function" == typeof define && define.amd, B = { function: !0, object: !0 }, e = B[typeof exports] && exports && !exports.nodeType && exports, H = B[typeof window] && window || this, n = e && B[typeof module] && module && !module.nodeType && "object" == typeof global && global; if (!n || n.global !== n && n.window !== n && n.self !== n || (H = n), e && !t) I(H, e); else { var r = H.JSON, i = H.JSON3, o = !1, s = I(H, H.JSON3 = { noConflict: function () { return o || (o = !0, H.JSON = r, H.JSON3 = i, r = i = null), s } }); H.JSON = { parse: s.parse, stringify: s.stringify } } t && define(function () { return s }) }.call(this), function () { var e = { appendToHead: function (t) { e.getHead().appendChild(t) }, getHead: function () { return document.head || document.getElementsByTagName("head")[0] }, getBody: function () { return document.body || document.getElementsByTagName("body")[0] } }; createjs.DomUtils = e }(), function () { var t = { parseXML: function (t, e) { var n = null; try { if (window.DOMParser) n = (new DOMParser).parseFromString(t, e) } catch (t) { } if (!n) try { (n = new ActiveXObject("Microsoft.XMLDOM")).async = !1, n.loadXML(t) } catch (t) { n = null } return n }, parseJSON: function (t) { if (null == t) return null; try { return JSON.parse(t) } catch (t) { throw t } } }; createjs.DataUtils = t }(), this.createjs = this.createjs || {}, function () { "use strict"; function n() { this.src = null, this.type = null, this.id = null, this.maintainOrder = !1, this.callback = null, this.data = null, this.method = createjs.LoadItem.GET, this.values = null, this.headers = null, this.withCredentials = !1, this.mimeType = null, this.crossOrigin = null, this.loadTimeout = r.LOAD_TIMEOUT_DEFAULT } var t = n.prototype = {}, r = n; r.LOAD_TIMEOUT_DEFAULT = 8e3, r.create = function (t) { if ("string" == typeof t) { var e = new n; return e.src = t, e } if (t instanceof r) return t; if (t instanceof Object && t.src) return null == t.loadTimeout && (t.loadTimeout = r.LOAD_TIMEOUT_DEFAULT), t; throw new Error("Type not recognized.") }, t.set = function (t) { for (var e in t) this[e] = t[e]; return this }, createjs.LoadItem = r }(), function () { var i = { ABSOLUTE_PATT: /^(?:\w+:)?\/{2}/i, RELATIVE_PATT: /^[./]*?\//i, EXTENSION_PATT: /\/?[^/]+\.(\w{1,5})$/i, parseURI: function (t) { var e = { absolute: !1, relative: !1 }; if (null == t) return e; var n, r = t.indexOf("?"); return -1 < r && (t = t.substr(0, r)), i.ABSOLUTE_PATT.test(t) ? e.absolute = !0 : i.RELATIVE_PATT.test(t) && (e.relative = !0), (n = t.match(i.EXTENSION_PATT)) && (e.extension = n[1].toLowerCase()), e }, formatQueryString: function (t, e) { if (null == t) throw new Error("You must specify data."); var n = []; for (var r in t) n.push(r + "=" + escape(t[r])); return e && (n = n.concat(e)), n.join("&") }, buildPath: function (t, e) { if (null == e) return t; var n = [], r = t.indexOf("?"); if (-1 != r) { var i = t.slice(r + 1); n = n.concat(i.split("&")) } return -1 != r ? t.slice(0, r) + "?" + this._formatQueryString(e, n) : t + "?" + this._formatQueryString(e, n) }, isCrossDomain: function (t) { var e = document.createElement("a"); e.href = t.src; var n = document.createElement("a"); return n.href = location.href, "" != e.hostname && (e.port != n.port || e.protocol != n.protocol || e.hostname != n.hostname) }, isLocal: function (t) { var e = document.createElement("a"); return e.href = t.src, "" == e.hostname && "file:" == e.protocol }, isBinary: function (t) { switch (t) { case createjs.AbstractLoader.IMAGE: case createjs.AbstractLoader.BINARY: return !0; default: return !1 } }, isImageTag: function (t) { return t instanceof HTMLImageElement }, isAudioTag: function (t) { return !!window.HTMLAudioElement && t instanceof HTMLAudioElement }, isVideoTag: function (t) { return !!window.HTMLVideoElement && t instanceof HTMLVideoElement }, isText: function (t) { switch (t) { case createjs.AbstractLoader.TEXT: case createjs.AbstractLoader.JSON: case createjs.AbstractLoader.MANIFEST: case createjs.AbstractLoader.XML: case createjs.AbstractLoader.CSS: case createjs.AbstractLoader.SVG: case createjs.AbstractLoader.JAVASCRIPT: case createjs.AbstractLoader.SPRITESHEET: return !0; default: return !1 } }, getTypeByExtension: function (t) { if (null == t) return createjs.AbstractLoader.TEXT; switch (t.toLowerCase()) { case "jpeg": case "jpg": case "gif": case "png": case "webp": case "bmp": return createjs.AbstractLoader.IMAGE; case "ogg": case "mp3": case "webm": return createjs.AbstractLoader.SOUND; case "mp4": case "webm": case "ts": return createjs.AbstractLoader.VIDEO; case "json": return createjs.AbstractLoader.JSON; case "xml": return createjs.AbstractLoader.XML; case "css": return createjs.AbstractLoader.CSS; case "js": return createjs.AbstractLoader.JAVASCRIPT; case "svg": return createjs.AbstractLoader.SVG; default: return createjs.AbstractLoader.TEXT } } }; createjs.RequestUtils = i }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.EventDispatcher_constructor(), this.loaded = !1, this.canceled = !1, this.progress = 0, this.type = n, this.resultFormatter = null, this._item = t ? createjs.LoadItem.create(t) : null, this._preferXHR = e, this._result = null, this._rawResult = null, this._loadedItems = null, this._tagSrcAttribute = null, this._tag = null } var e = createjs.extend(t, createjs.EventDispatcher), n = t; n.POST = "POST", n.GET = "GET", n.BINARY = "binary", n.CSS = "css", n.IMAGE = "image", n.JAVASCRIPT = "javascript", n.JSON = "json", n.JSONP = "jsonp", n.MANIFEST = "manifest", n.SOUND = "sound", n.VIDEO = "video", n.SPRITESHEET = "spritesheet", n.SVG = "svg", n.TEXT = "text", n.XML = "xml", e.getItem = function () { return this._item }, e.getResult = function (t) { return t ? this._rawResult : this._result }, e.getTag = function () { return this._tag }, e.setTag = function (t) { this._tag = t }, e.load = function () { this._createRequest(), this._request.on("complete", this, this), this._request.on("progress", this, this), this._request.on("loadStart", this, this), this._request.on("abort", this, this), this._request.on("timeout", this, this), this._request.on("error", this, this); var t = new createjs.Event("initialize"); t.loader = this._request, this.dispatchEvent(t), this._request.load() }, e.cancel = function () { this.canceled = !0, this.destroy() }, e.destroy = function () { this._request && (this._request.removeAllEventListeners(), this._request.destroy()), this._request = null, this._item = null, this._rawResult = null, this._result = null, this._loadItems = null, this.removeAllEventListeners() }, e.getLoadedItems = function () { return this._loadedItems }, e._createRequest = function () { this._request = this._preferXHR ? new createjs.XHRRequest(this._item) : new createjs.TagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute) }, e._createTag = function () { return null }, e._sendLoadStart = function () { this._isCanceled() || this.dispatchEvent("loadstart") }, e._sendProgress = function (t) { if (!this._isCanceled()) { var e = null; "number" == typeof t ? (this.progress = t, e = new createjs.ProgressEvent(this.progress)) : (e = t, this.progress = t.loaded / t.total, e.progress = this.progress, (isNaN(this.progress) || 1 / 0 == this.progress) && (this.progress = 0)), this.hasEventListener("progress") && this.dispatchEvent(e) } }, e._sendComplete = function () { if (!this._isCanceled()) { this.loaded = !0; var t = new createjs.Event("complete"); t.rawResult = this._rawResult, null != this._result && (t.result = this._result), this.dispatchEvent(t) } }, e._sendError = function (t) { !this._isCanceled() && this.hasEventListener("error") && (null == t && (t = new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")), this.dispatchEvent(t)) }, e._isCanceled = function () { return !(null != window.createjs && !this.canceled) }, e.resultFormatter = null, e.handleEvent = function (t) { switch (t.type) { case "complete": this._rawResult = t.target._response; var e = this.resultFormatter && this.resultFormatter(this), n = this; e instanceof Function ? e(function (t) { n._result = t, n._sendComplete() }) : (this._result = e || this._rawResult, this._sendComplete()); break; case "progress": this._sendProgress(t); break; case "error": this._sendError(t); break; case "loadstart": this._sendLoadStart(); break; case "abort": case "timeout": this._isCanceled() || this.dispatchEvent(t.type) } }, e.buildPath = function (t, e) { return createjs.RequestUtils.buildPath(t, e) }, e.toString = function () { return "[PreloadJS AbstractLoader]" }, createjs.AbstractLoader = createjs.promote(t, "EventDispatcher") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.AbstractLoader_constructor(t, e, n), this.resultFormatter = this._formatResult, this._tagSrcAttribute = "src" } var e = createjs.extend(t, createjs.AbstractLoader); e.load = function () { this._tag || (this._tag = this._createTag(this._item.src)), this._tag.preload = "auto", this._tag.load(), this.AbstractLoader_load() }, e._createTag = function () { }, e._createRequest = function () { this._request = this._preferXHR ? new createjs.XHRRequest(this._item) : new createjs.MediaTagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute) }, e._formatResult = function (t) { return this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler), this._tag.onstalled = null, this._preferXHR && (t.getTag().src = t.getResult(!0)), t.getTag() }, createjs.AbstractMediaLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; var t = function (t) { this._item = t }, e = createjs.extend(t, createjs.EventDispatcher); e.load = function () { }, e.destroy = function () { }, e.cancel = function () { }, createjs.AbstractRequest = createjs.promote(t, "EventDispatcher") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.AbstractRequest_constructor(t), this._tag = e, this._tagSrcAttribute = n, this._loadedHandler = createjs.proxy(this._handleTagComplete, this), this._addedToDOM = !1, this._startTagVisibility = null } var e = createjs.extend(t, createjs.AbstractRequest); e.load = function () { this._tag.onload = createjs.proxy(this._handleTagComplete, this), this._tag.onreadystatechange = createjs.proxy(this._handleReadyStateChange, this), this._tag.onerror = createjs.proxy(this._handleError, this); var t = new createjs.Event("initialize"); t.loader = this._tag, this.dispatchEvent(t), this._hideTag(), this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout), this._tag[this._tagSrcAttribute] = this._item.src, null == this._tag.parentNode && (window.document.body.appendChild(this._tag), this._addedToDOM = !0) }, e.destroy = function () { this._clean(), this._tag = null, this.AbstractRequest_destroy() }, e._handleReadyStateChange = function () { clearTimeout(this._loadTimeout); var t = this._tag; ("loaded" == t.readyState || "complete" == t.readyState) && this._handleTagComplete() }, e._handleError = function () { this._clean(), this.dispatchEvent("error") }, e._handleTagComplete = function () { this._rawResult = this._tag, this._result = this.resultFormatter && this.resultFormatter(this) || this._rawResult, this._clean(), this._showTag(), this.dispatchEvent("complete") }, e._handleTimeout = function () { this._clean(), this.dispatchEvent(new createjs.Event("timeout")) }, e._clean = function () { this._tag.onload = null, this._tag.onreadystatechange = null, this._tag.onerror = null, this._addedToDOM && null != this._tag.parentNode && this._tag.parentNode.removeChild(this._tag), clearTimeout(this._loadTimeout) }, e._hideTag = function () { this._startTagVisibility = this._tag.style.visibility, this._tag.style.visibility = "hidden" }, e._showTag = function () { this._tag.style.visibility = this._startTagVisibility }, e._handleStalled = function () { }, createjs.TagRequest = createjs.promote(t, "AbstractRequest") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.AbstractRequest_constructor(t), this._tag = e, this._tagSrcAttribute = n, this._loadedHandler = createjs.proxy(this._handleTagComplete, this) } var e = createjs.extend(t, createjs.TagRequest); e.load = function () { var t = createjs.proxy(this._handleStalled, this); this._stalledCallback = t; var e = createjs.proxy(this._handleProgress, this); this._handleProgress = e, this._tag.addEventListener("stalled", t), this._tag.addEventListener("progress", e), this._tag.addEventListener && this._tag.addEventListener("canplaythrough", this._loadedHandler, !1), this.TagRequest_load() }, e._handleReadyStateChange = function () { clearTimeout(this._loadTimeout); var t = this._tag; ("loaded" == t.readyState || "complete" == t.readyState) && this._handleTagComplete() }, e._handleStalled = function () { }, e._handleProgress = function (t) { if (t && !(0 < t.loaded && 0 == t.total)) { var e = new createjs.ProgressEvent(t.loaded, t.total); this.dispatchEvent(e) } }, e._clean = function () { this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler), this._tag.removeEventListener("stalled", this._stalledCallback), this._tag.removeEventListener("progress", this._progressCallback), this.TagRequest__clean() }, createjs.MediaTagRequest = createjs.promote(t, "TagRequest") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractRequest_constructor(t), this._request = null, this._loadTimeout = null, this._xhrLevel = 1, this._response = null, this._rawResponse = null, this._canceled = !1, this._handleLoadStartProxy = createjs.proxy(this._handleLoadStart, this), this._handleProgressProxy = createjs.proxy(this._handleProgress, this), this._handleAbortProxy = createjs.proxy(this._handleAbort, this), this._handleErrorProxy = createjs.proxy(this._handleError, this), this._handleTimeoutProxy = createjs.proxy(this._handleTimeout, this), this._handleLoadProxy = createjs.proxy(this._handleLoad, this), this._handleReadyStateChangeProxy = createjs.proxy(this._handleReadyStateChange, this), this._createXHR(t) } var e = createjs.extend(t, createjs.AbstractRequest); t.ACTIVEX_VERSIONS = ["Msxml2.XMLHTTP.6.0", "Msxml2.XMLHTTP.5.0", "Msxml2.XMLHTTP.4.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], e.getResult = function (t) { return t && this._rawResponse ? this._rawResponse : this._response }, e.cancel = function () { this.canceled = !0, this._clean(), this._request.abort() }, e.load = function () { if (null != this._request) { null != this._request.addEventListener ? (this._request.addEventListener("loadstart", this._handleLoadStartProxy, !1), this._request.addEventListener("progress", this._handleProgressProxy, !1), this._request.addEventListener("abort", this._handleAbortProxy, !1), this._request.addEventListener("error", this._handleErrorProxy, !1), this._request.addEventListener("timeout", this._handleTimeoutProxy, !1), this._request.addEventListener("load", this._handleLoadProxy, !1), this._request.addEventListener("readystatechange", this._handleReadyStateChangeProxy, !1)) : (this._request.onloadstart = this._handleLoadStartProxy, this._request.onprogress = this._handleProgressProxy, this._request.onabort = this._handleAbortProxy, this._request.onerror = this._handleErrorProxy, this._request.ontimeout = this._handleTimeoutProxy, this._request.onload = this._handleLoadProxy, this._request.onreadystatechange = this._handleReadyStateChangeProxy), 1 == this._xhrLevel && (this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout)); try { this._item.values && this._item.method != createjs.AbstractLoader.GET ? this._item.method == createjs.AbstractLoader.POST && this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)) : this._request.send() } catch (t) { this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND", null, t)) } } else this._handleError() }, e.setResponseType = function (t) { "blob" === t && (t = window.URL ? "blob" : "arraybuffer", this._responseType = t), this._request.responseType = t }, e.getAllResponseHeaders = function () { return this._request.getAllResponseHeaders instanceof Function ? this._request.getAllResponseHeaders() : null }, e.getResponseHeader = function (t) { return this._request.getResponseHeader instanceof Function ? this._request.getResponseHeader(t) : null }, e._handleProgress = function (t) { if (t && !(0 < t.loaded && 0 == t.total)) { var e = new createjs.ProgressEvent(t.loaded, t.total); this.dispatchEvent(e) } }, e._handleLoadStart = function () { clearTimeout(this._loadTimeout), this.dispatchEvent("loadstart") }, e._handleAbort = function (t) { this._clean(), this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED", null, t)) }, e._handleError = function (t) { this._clean(), this.dispatchEvent(new createjs.ErrorEvent(t.message)) }, e._handleReadyStateChange = function () { 4 == this._request.readyState && this._handleLoad() }, e._handleLoad = function () { if (!this.loaded) { this.loaded = !0; var t = this._checkError(); if (t) return void this._handleError(t); if (this._response = this._getResponse(), "arraybuffer" === this._responseType) try { this._response = new Blob([this._response]) } catch (t) { if (window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, "TypeError" === t.name && window.BlobBuilder) { var e = new BlobBuilder; e.append(this._response), this._response = e.getBlob() } } this._clean(), this.dispatchEvent(new createjs.Event("complete")) } }, e._handleTimeout = function (t) { this._clean(), this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT", null, t)) }, e._checkError = function () { var t = parseInt(this._request.status); switch (t) { case 404: case 0: return new Error(t) }return null }, e._getResponse = function () { if (null != this._response) return this._response; if (null != this._request.response) return this._request.response; try { if (null != this._request.responseText) return this._request.responseText } catch (t) { } try { if (null != this._request.responseXML) return this._request.responseXML } catch (t) { } return null }, e._createXHR = function (t) { var e = createjs.RequestUtils.isCrossDomain(t), n = {}, r = null; if (window.XMLHttpRequest) r = new XMLHttpRequest, e && void 0 === r.withCredentials && window.XDomainRequest && (r = new XDomainRequest); else { for (var i = 0, o = s.ACTIVEX_VERSIONS.length; i < o; i++) { var a = s.ACTIVEX_VERSIONS[i]; try { r = new ActiveXObject(a); break } catch (t) { } } if (null == r) return !1 } null == t.mimeType && createjs.RequestUtils.isText(t.type) && (t.mimeType = "text/plain; charset=utf-8"), t.mimeType && r.overrideMimeType && r.overrideMimeType(t.mimeType), this._xhrLevel = "string" == typeof r.responseType ? 2 : 1; var l; if (l = t.method == createjs.AbstractLoader.GET ? createjs.RequestUtils.buildPath(t.src, t.values) : t.src, r.open(t.method || createjs.AbstractLoader.GET, l, !0), e && r instanceof XMLHttpRequest && 1 == this._xhrLevel && (n.Origin = location.origin), t.values && t.method == createjs.AbstractLoader.POST && (n["Content-Type"] = "application/x-www-form-urlencoded"), e || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest"), t.headers) for (var u in t.headers) n[u] = t.headers[u]; for (u in n) r.setRequestHeader(u, n[u]); return r instanceof XMLHttpRequest && void 0 !== t.withCredentials && (r.withCredentials = t.withCredentials), this._request = r, !0 }, e._clean = function () { clearTimeout(this._loadTimeout), null != this._request.removeEventListener ? (this._request.removeEventListener("loadstart", this._handleLoadStartProxy), this._request.removeEventListener("progress", this._handleProgressProxy), this._request.removeEventListener("abort", this._handleAbortProxy), this._request.removeEventListener("error", this._handleErrorProxy), this._request.removeEventListener("timeout", this._handleTimeoutProxy), this._request.removeEventListener("load", this._handleLoadProxy), this._request.removeEventListener("readystatechange", this._handleReadyStateChangeProxy)) : (this._request.onloadstart = null, this._request.onprogress = null, this._request.onabort = null, this._request.onerror = null, this._request.ontimeout = null, this._request.onload = null, this._request.onreadystatechange = null) }, e.toString = function () { return "[PreloadJS XHRRequest]" }, createjs.XHRRequest = createjs.promote(t, "AbstractRequest") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.AbstractLoader_constructor(), this._plugins = [], this._typeCallbacks = {}, this._extensionCallbacks = {}, this.next = null, this.maintainScriptOrder = !0, this.stopOnError = !1, this._maxConnections = 1, this._availableLoaders = [createjs.ImageLoader, createjs.JavaScriptLoader, createjs.CSSLoader, createjs.JSONLoader, createjs.JSONPLoader, createjs.SoundLoader, createjs.ManifestLoader, createjs.SpriteSheetLoader, createjs.XMLLoader, createjs.SVGLoader, createjs.BinaryLoader, createjs.VideoLoader, createjs.TextLoader], this._defaultLoaderLength = this._availableLoaders.length, this.init(t, e, n) } var e = createjs.extend(t, createjs.AbstractLoader), l = t; e.init = function (t, e, n) { this.useXHR = !0, this.preferXHR = !0, this._preferXHR = !0, this.setPreferXHR(t), this._paused = !1, this._basePath = e, this._crossOrigin = n, this._loadStartWasDispatched = !1, this._currentlyLoadingScript = null, this._currentLoads = [], this._loadQueue = [], this._loadQueueBackup = [], this._loadItemsById = {}, this._loadItemsBySrc = {}, this._loadedResults = {}, this._loadedRawResults = {}, this._numItems = 0, this._numItemsLoaded = 0, this._scriptOrder = [], this._loadedScripts = [], this._lastProgress = NaN }, l.loadTimeout = 8e3, l.LOAD_TIMEOUT = 0, l.BINARY = createjs.AbstractLoader.BINARY, l.CSS = createjs.AbstractLoader.CSS, l.IMAGE = createjs.AbstractLoader.IMAGE, l.JAVASCRIPT = createjs.AbstractLoader.JAVASCRIPT, l.JSON = createjs.AbstractLoader.JSON, l.JSONP = createjs.AbstractLoader.JSONP, l.MANIFEST = createjs.AbstractLoader.MANIFEST, l.SOUND = createjs.AbstractLoader.SOUND, l.VIDEO = createjs.AbstractLoader.VIDEO, l.SVG = createjs.AbstractLoader.SVG, l.TEXT = createjs.AbstractLoader.TEXT, l.XML = createjs.AbstractLoader.XML, l.POST = createjs.AbstractLoader.POST, l.GET = createjs.AbstractLoader.GET, e.registerLoader = function (t) { if (!t || !t.canLoadItem) throw new Error("loader is of an incorrect type."); if (-1 != this._availableLoaders.indexOf(t)) throw new Error("loader already exists."); this._availableLoaders.unshift(t) }, e.unregisterLoader = function (t) { var e = this._availableLoaders.indexOf(t); -1 != e && e < this._defaultLoaderLength - 1 && this._availableLoaders.splice(e, 1) }, e.setUseXHR = function (t) { return this.setPreferXHR(t) }, e.setPreferXHR = function (t) { return this.preferXHR = 0 != t && null != window.XMLHttpRequest, this.preferXHR }, e.removeAll = function () { this.remove() }, e.remove = function (t) { var e = null; if (!t || t instanceof Array) { if (t) e = t; else if (0 < arguments.length) return } else e = [t]; var n = !1; if (e) { for (; e.length;) { var r = e.pop(), i = this.getResult(r); for (o = this._loadQueue.length - 1; 0 <= o; o--)if ((s = this._loadQueue[o].getItem()).id == r || s.src == r) { this._loadQueue.splice(o, 1)[0].cancel(); break } for (o = this._loadQueueBackup.length - 1; 0 <= o; o--)if ((s = this._loadQueueBackup[o].getItem()).id == r || s.src == r) { this._loadQueueBackup.splice(o, 1)[0].cancel(); break } if (i) this._disposeItem(this.getItem(r)); else for (var o = this._currentLoads.length - 1; 0 <= o; o--) { var s = this._currentLoads[o].getItem(); if (s.id == r || s.src == r) { this._currentLoads.splice(o, 1)[0].cancel(), n = !0; break } } } n && this._loadNext() } else { for (var a in this.close(), this._loadItemsById) this._disposeItem(this._loadItemsById[a]); this.init(this.preferXHR, this._basePath) } }, e.reset = function () { for (var t in this.close(), this._loadItemsById) this._disposeItem(this._loadItemsById[t]); for (var e = [], n = 0, r = this._loadQueueBackup.length; n < r; n++)e.push(this._loadQueueBackup[n].getItem()); this.loadManifest(e, !1) }, e.installPlugin = function (t) { if (null != t && null != t.getPreloadHandlers) { this._plugins.push(t); var e = t.getPreloadHandlers(); if (e.scope = t, null != e.types) for (var n = 0, r = e.types.length; n < r; n++)this._typeCallbacks[e.types[n]] = e; if (null != e.extensions) for (n = 0, r = e.extensions.length; n < r; n++)this._extensionCallbacks[e.extensions[n]] = e } }, e.setMaxConnections = function (t) { this._maxConnections = t, !this._paused && 0 < this._loadQueue.length && this._loadNext() }, e.loadFile = function (t, e, n) { if (null != t) this._addItem(t, null, n), this.setPaused(!1 === e); else { var r = new createjs.ErrorEvent("PRELOAD_NO_FILE"); this._sendError(r) } }, e.loadManifest = function (t, e, n) { var r = null, i = null; if (t instanceof Array) { if (0 == t.length) { var o = new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY"); return void this._sendError(o) } r = t } else if ("string" == typeof t) r = [{ src: t, type: l.MANIFEST }]; else { if ("object" != typeof t) { o = new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL"); return void this._sendError(o) } if (void 0 !== t.src) { if (null == t.type) t.type = l.MANIFEST; else if (t.type != l.MANIFEST) { o = new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE"); this._sendError(o) } r = [t] } else void 0 !== t.manifest && (r = t.manifest, i = t.path) } for (var s = 0, a = r.length; s < a; s++)this._addItem(r[s], i, n); this.setPaused(!1 === e) }, e.load = function () { this.setPaused(!1) }, e.getItem = function (t) { return this._loadItemsById[t] || this._loadItemsBySrc[t] }, e.getResult = function (t, e) { var n = this._loadItemsById[t] || this._loadItemsBySrc[t]; if (null == n) return null; var r = n.id; return e && this._loadedRawResults[r] ? this._loadedRawResults[r] : this._loadedResults[r] }, e.getItems = function (t) { var e = []; for (var n in this._loadItemsById) { var r = this._loadItemsById[n], i = this.getResult(n); (!0 !== t || null != i) && e.push({ item: r, result: i, rawResult: this.getResult(n, !0) }) } return e }, e.setPaused = function (t) { this._paused = t, this._paused || this._loadNext() }, e.close = function () { for (; this._currentLoads.length;)this._currentLoads.pop().cancel(); this._scriptOrder.length = 0, this._loadedScripts.length = 0, this.loadStartWasDispatched = !1, this._itemCount = 0, this._lastProgress = NaN }, e._addItem = function (t, e, n) { var r = this._createLoadItem(t, e, n); if (null != r) { var i = this._createLoader(r); null != i && ("plugins" in i && (i.plugins = this._plugins), r._loader = i, this._loadQueue.push(i), this._loadQueueBackup.push(i), this._numItems++ , this._updateProgress(), (this.maintainScriptOrder && r.type == createjs.LoadQueue.JAVASCRIPT || !0 === r.maintainOrder) && (this._scriptOrder.push(r), this._loadedScripts.push(null))) } }, e._createLoadItem = function (t, e, n) { var r = createjs.LoadItem.create(t); if (null == r) return null; var i = "", o = n || this._basePath; if (r.src instanceof Object) { if (!r.type) return null; if (e) { i = e; var s = createjs.RequestUtils.parseURI(e); null == o || s.absolute || s.relative || (i = o + i) } else null != o && (i = o) } else { var a = createjs.RequestUtils.parseURI(r.src); a.extension && (r.ext = a.extension), null == r.type && (r.type = createjs.RequestUtils.getTypeByExtension(r.ext)); var l = r.src; if (!a.absolute && !a.relative) if (e) { i = e; s = createjs.RequestUtils.parseURI(e); l = e + l, null == o || s.absolute || s.relative || (i = o + i) } else null != o && (i = o); r.src = i + r.src } r.path = i, (void 0 === r.id || null === r.id || "" === r.id) && (r.id = l); var u = this._typeCallbacks[r.type] || this._extensionCallbacks[r.ext]; if (u) { var c = u.callback.call(u.scope, r, this); if (!1 === c) return null; !0 === c || null != c && (r._loader = c), null != (a = createjs.RequestUtils.parseURI(r.src)).extension && (r.ext = a.extension) } return this._loadItemsById[r.id] = r, null == (this._loadItemsBySrc[r.src] = r).crossOrigin && (r.crossOrigin = this._crossOrigin), r }, e._createLoader = function (t) { if (null != t._loader) return t._loader; for (var e = this.preferXHR, n = 0; n < this._availableLoaders.length; n++) { var r = this._availableLoaders[n]; if (r && r.canLoadItem(t)) return new r(t, e) } return null }, e._loadNext = function () { if (!this._paused) { this._loadStartWasDispatched || (this._sendLoadStart(), this._loadStartWasDispatched = !0), this._numItems == this._numItemsLoaded ? (this.loaded = !0, this._sendComplete(), this.next && this.next.load && this.next.load()) : this.loaded = !1; for (var t = 0; t < this._loadQueue.length && !(this._currentLoads.length >= this._maxConnections); t++) { var e = this._loadQueue[t]; this._canStartLoad(e) && (this._loadQueue.splice(t, 1), t-- , this._loadItem(e)) } } }, e._loadItem = function (t) { t.on("fileload", this._handleFileLoad, this), t.on("progress", this._handleProgress, this), t.on("complete", this._handleFileComplete, this), t.on("error", this._handleError, this), t.on("fileerror", this._handleFileError, this), this._currentLoads.push(t), this._sendFileStart(t.getItem()), t.load() }, e._handleFileLoad = function (t) { t.target = null, this.dispatchEvent(t) }, e._handleFileError = function (t) { var e = new createjs.ErrorEvent("FILE_LOAD_ERROR", null, t.item); this._sendError(e) }, e._handleError = function (t) { var e = t.target; this._numItemsLoaded++ , this._finishOrderedItem(e, !0), this._updateProgress(); var n = new createjs.ErrorEvent("FILE_LOAD_ERROR", null, e.getItem()); this._sendError(n), this.stopOnError ? this.setPaused(!0) : (this._removeLoadItem(e), this._cleanLoadItem(e), this._loadNext()) }, e._handleFileComplete = function (t) { var e = t.target, n = e.getItem(), r = e.getResult(); this._loadedResults[n.id] = r; var i = e.getResult(!0); null != i && i !== r && (this._loadedRawResults[n.id] = i), this._saveLoadedItems(e), this._removeLoadItem(e), this._finishOrderedItem(e) || this._processFinishedLoad(n, e), this._cleanLoadItem(e) }, e._saveLoadedItems = function (t) { var e = t.getLoadedItems(); if (null !== e) for (var n = 0; n < e.length; n++) { var r = e[n].item; this._loadItemsBySrc[r.src] = r, this._loadItemsById[r.id] = r, this._loadedResults[r.id] = e[n].result, this._loadedRawResults[r.id] = e[n].rawResult } }, e._finishOrderedItem = function (t, e) { var n = t.getItem(); if (this.maintainScriptOrder && n.type == createjs.LoadQueue.JAVASCRIPT || n.maintainOrder) { t instanceof createjs.JavaScriptLoader && (this._currentlyLoadingScript = !1); var r = createjs.indexOf(this._scriptOrder, n); return -1 != r && (this._loadedScripts[r] = !0 === e || n, this._checkScriptLoadOrder(), !0) } return !1 }, e._checkScriptLoadOrder = function () { for (var t = this._loadedScripts.length, e = 0; e < t; e++) { var n = this._loadedScripts[e]; if (null === n) break; if (!0 !== n) { var r = this._loadedResults[n.id]; n.type == createjs.LoadQueue.JAVASCRIPT && createjs.DomUtils.appendToHead(r); var i = n._loader; this._processFinishedLoad(n, i), this._loadedScripts[e] = !0 } } }, e._processFinishedLoad = function (t, e) { this._numItemsLoaded++ , this.maintainScriptOrder || t.type != createjs.LoadQueue.JAVASCRIPT || createjs.DomUtils.appendToHead(t.result), this._updateProgress(), this._sendFileComplete(t, e), this._loadNext() }, e._canStartLoad = function (t) { if (!this.maintainScriptOrder || t.preferXHR) return !0; var e = t.getItem(); if (e.type != createjs.LoadQueue.JAVASCRIPT) return !0; if (this._currentlyLoadingScript) return !1; for (var n = this._scriptOrder.indexOf(e), r = 0; r < n;) { if (null == this._loadedScripts[r]) return !1; r++ } return this._currentlyLoadingScript = !0 }, e._removeLoadItem = function (t) { for (var e = this._currentLoads.length, n = 0; n < e; n++)if (this._currentLoads[n] == t) { this._currentLoads.splice(n, 1); break } }, e._cleanLoadItem = function (t) { var e = t.getItem(); e && delete e._loader }, e._handleProgress = function (t) { var e = t.target; this._sendFileProgress(e.getItem(), e.progress), this._updateProgress() }, e._updateProgress = function () { var t = this._numItemsLoaded / this._numItems, e = this._numItems - this._numItemsLoaded; if (0 < e) { for (var n = 0, r = 0, i = this._currentLoads.length; r < i; r++)n += this._currentLoads[r].progress; t += n / e * (e / this._numItems) } this._lastProgress != t && (this._sendProgress(t), this._lastProgress = t) }, e._disposeItem = function (t) { delete this._loadedResults[t.id], delete this._loadedRawResults[t.id], delete this._loadItemsById[t.id], delete this._loadItemsBySrc[t.src] }, e._sendFileProgress = function (t, e) { if (!this._isCanceled() && !this._paused && this.hasEventListener("fileprogress")) { var n = new createjs.Event("fileprogress"); n.progress = e, n.loaded = e, n.total = 1, n.item = t, this.dispatchEvent(n) } }, e._sendFileComplete = function (t, e) { if (!this._isCanceled() && !this._paused) { var n = new createjs.Event("fileload"); n.loader = e, n.item = t, n.result = this._loadedResults[t.id], n.rawResult = this._loadedRawResults[t.id], t.completeHandler && t.completeHandler(n), this.hasEventListener("fileload") && this.dispatchEvent(n) } }, e._sendFileStart = function (t) { var e = new createjs.Event("filestart"); e.item = t, this.hasEventListener("filestart") && this.dispatchEvent(e) }, e.toString = function () { return "[PreloadJS LoadQueue]" }, createjs.LoadQueue = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractLoader_constructor(t, !0, createjs.AbstractLoader.TEXT) } (createjs.extend(t, createjs.AbstractLoader), t).canLoadItem = function (t) { return t.type == createjs.AbstractLoader.TEXT }, createjs.TextLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractLoader_constructor(t, !0, createjs.AbstractLoader.BINARY), this.on("initialize", this._updateXHR, this) } var e = createjs.extend(t, createjs.AbstractLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.BINARY }, e._updateXHR = function (t) { t.loader.setResponseType("arraybuffer") }, createjs.BinaryLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.AbstractLoader_constructor(t, e, createjs.AbstractLoader.CSS), this.resultFormatter = this._formatResult, this._tagSrcAttribute = "href", this._tag = document.createElement(e ? "style" : "link"), this._tag.rel = "stylesheet", this._tag.type = "text/css" } var e = createjs.extend(t, createjs.AbstractLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.CSS }, e._formatResult = function (t) { if (this._preferXHR) { var e = t.getTag(); if (e.styleSheet) e.styleSheet.cssText = t.getResult(!0); else { var n = document.createTextNode(t.getResult(!0)); e.appendChild(n) } } else e = this._tag; return createjs.DomUtils.appendToHead(e), e }, createjs.CSSLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.AbstractLoader_constructor(t, e, createjs.AbstractLoader.IMAGE), this.resultFormatter = this._formatResult, this._tagSrcAttribute = "src", createjs.RequestUtils.isImageTag(t) ? this._tag = t : createjs.RequestUtils.isImageTag(t.src) ? this._tag = t.src : createjs.RequestUtils.isImageTag(t.tag) && (this._tag = t.tag), null != this._tag ? this._preferXHR = !1 : this._tag = document.createElement("img"), this.on("initialize", this._updateXHR, this) } var e = createjs.extend(t, createjs.AbstractLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.IMAGE }, e.load = function () { if ("" != this._tag.src && this._tag.complete) this._sendComplete(); else { var t = this._item.crossOrigin; 1 == t && (t = "Anonymous"), null == t || createjs.RequestUtils.isLocal(this._item.src) || (this._tag.crossOrigin = t), this.AbstractLoader_load() } }, e._updateXHR = function (t) { t.loader.mimeType = "text/plain; charset=x-user-defined-binary", t.loader.setResponseType && t.loader.setResponseType("blob") }, e._formatResult = function (i) { var o = this; return function (t) { var e = o._tag, n = window.URL || window.webkitURL; if (o._preferXHR) if (n) { var r = n.createObjectURL(i.getResult(!0)); e.src = r, e.onload = function () { n.revokeObjectURL(o.src) } } else e.src = i.getItem().src; e.complete ? t(e) : e.onload = function () { t(this) } } }, createjs.ImageLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.AbstractLoader_constructor(t, e, createjs.AbstractLoader.JAVASCRIPT), this.resultFormatter = this._formatResult, this._tagSrcAttribute = "src", this.setTag(document.createElement("script")) } var e = createjs.extend(t, createjs.AbstractLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.JAVASCRIPT }, e._formatResult = function (t) { var e = t.getTag(); return this._preferXHR && (e.text = t.getResult(!0)), e }, createjs.JavaScriptLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractLoader_constructor(t, !0, createjs.AbstractLoader.JSON), this.resultFormatter = this._formatResult } var e = createjs.extend(t, createjs.AbstractLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.JSON && !t._loadAsJSONP }, e._formatResult = function (t) { var e = null; try { e = createjs.DataUtils.parseJSON(t.getResult(!0)) } catch (t) { var n = new createjs.ErrorEvent("JSON_FORMAT", null, t); return this._sendError(n), t } return e }, createjs.JSONLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractLoader_constructor(t, !1, createjs.AbstractLoader.JSONP), this.setTag(document.createElement("script")), this.getTag().type = "text/javascript" } var e = createjs.extend(t, createjs.AbstractLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.JSONP || t._loadAsJSONP }, e.cancel = function () { this.AbstractLoader_cancel(), this._dispose() }, e.load = function () { if (null == this._item.callback) throw new Error("callback is required for loading JSONP requests."); if (null != window[this._item.callback]) throw new Error("JSONP callback '" + this._item.callback + "' already exists on window. You need to specify a different callback or re-name the current one."); window[this._item.callback] = createjs.proxy(this._handleLoad, this), window.document.body.appendChild(this._tag), this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout), this._tag.src = this._item.src }, e._handleLoad = function (t) { this._result = this._rawResult = t, this._sendComplete(), this._dispose() }, e._handleTimeout = function () { this._dispose(), this.dispatchEvent(new createjs.ErrorEvent("timeout")) }, e._dispose = function () { window.document.body.removeChild(this._tag), delete window[this._item.callback], clearTimeout(this._loadTimeout) }, createjs.JSONPLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractLoader_constructor(t, null, createjs.AbstractLoader.MANIFEST), this.plugins = null, this._manifestQueue = null } var e = createjs.extend(t, createjs.AbstractLoader), n = t; n.MANIFEST_PROGRESS = .25, n.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.MANIFEST }, e.load = function () { this.AbstractLoader_load() }, e._createRequest = function () { var t = this._item.callback; this._request = null != t ? new createjs.JSONPLoader(this._item) : new createjs.JSONLoader(this._item) }, e.handleEvent = function (t) { switch (t.type) { case "complete": return this._rawResult = t.target.getResult(!0), this._result = t.target.getResult(), this._sendProgress(n.MANIFEST_PROGRESS), void this._loadManifest(this._result); case "progress": return t.loaded *= n.MANIFEST_PROGRESS, this.progress = t.loaded / t.total, (isNaN(this.progress) || 1 / 0 == this.progress) && (this.progress = 0), void this._sendProgress(t) }this.AbstractLoader_handleEvent(t) }, e.destroy = function () { this.AbstractLoader_destroy(), this._manifestQueue.close() }, e._loadManifest = function (t) { if (t && t.manifest) { var e = this._manifestQueue = new createjs.LoadQueue; e.on("fileload", this._handleManifestFileLoad, this), e.on("progress", this._handleManifestProgress, this), e.on("complete", this._handleManifestComplete, this, !0), e.on("error", this._handleManifestError, this, !0); for (var n = 0, r = this.plugins.length; n < r; n++)e.installPlugin(this.plugins[n]); e.loadManifest(t) } else this._sendComplete() }, e._handleManifestFileLoad = function (t) { t.target = null, this.dispatchEvent(t) }, e._handleManifestComplete = function () { this._loadedItems = this._manifestQueue.getItems(!0), this._sendComplete() }, e._handleManifestProgress = function (t) { this.progress = t.progress * (1 - n.MANIFEST_PROGRESS) + n.MANIFEST_PROGRESS, this._sendProgress(this.progress) }, e._handleManifestError = function (t) { var e = new createjs.Event("fileerror"); e.item = t.data, this.dispatchEvent(e) }, createjs.ManifestLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.AbstractMediaLoader_constructor(t, e, createjs.AbstractLoader.SOUND), createjs.RequestUtils.isAudioTag(t) ? this._tag = t : createjs.RequestUtils.isAudioTag(t.src) ? this._tag = t : createjs.RequestUtils.isAudioTag(t.tag) && (this._tag = createjs.RequestUtils.isAudioTag(t) ? t : t.src), null != this._tag && (this._preferXHR = !1) } var e = createjs.extend(t, createjs.AbstractMediaLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.SOUND }, e._createTag = function (t) { var e = document.createElement("audio"); return e.autoplay = !1, e.preload = "none", e.src = t, e }, createjs.SoundLoader = createjs.promote(t, "AbstractMediaLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.AbstractMediaLoader_constructor(t, e, createjs.AbstractLoader.VIDEO), createjs.RequestUtils.isVideoTag(t) || createjs.RequestUtils.isVideoTag(t.src) ? (this.setTag(createjs.RequestUtils.isVideoTag(t) ? t : t.src), this._preferXHR = !1) : this.setTag(this._createTag()) } var e = t; createjs.extend(t, createjs.AbstractMediaLoader)._createTag = function () { return document.createElement("video") }, e.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.VIDEO }, createjs.VideoLoader = createjs.promote(t, "AbstractMediaLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractLoader_constructor(t, null, createjs.AbstractLoader.SPRITESHEET), this._manifestQueue = null } var e = createjs.extend(t, createjs.AbstractLoader), n = t; n.SPRITESHEET_PROGRESS = .25, n.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.SPRITESHEET }, e.destroy = function () { this.AbstractLoader_destroy, this._manifestQueue.close() }, e._createRequest = function () { var t = this._item.callback; this._request = null != t && t instanceof Function ? new createjs.JSONPLoader(this._item) : new createjs.JSONLoader(this._item) }, e.handleEvent = function (t) { switch (t.type) { case "complete": return this._rawResult = t.target.getResult(!0), this._result = t.target.getResult(), this._sendProgress(n.SPRITESHEET_PROGRESS), void this._loadManifest(this._result); case "progress": return t.loaded *= n.SPRITESHEET_PROGRESS, this.progress = t.loaded / t.total, (isNaN(this.progress) || 1 / 0 == this.progress) && (this.progress = 0), void this._sendProgress(t) }this.AbstractLoader_handleEvent(t) }, e._loadManifest = function (t) { if (t && t.images) { var e = this._manifestQueue = new createjs.LoadQueue; e.on("complete", this._handleManifestComplete, this, !0), e.on("fileload", this._handleManifestFileLoad, this), e.on("progress", this._handleManifestProgress, this), e.on("error", this._handleManifestError, this, !0), e.loadManifest(t.images) } }, e._handleManifestFileLoad = function (t) { var e = t.result; if (null != e) { var n = this.getResult().images, r = n.indexOf(t.item.src); n[r] = e } }, e._handleManifestComplete = function () { this._result = new createjs.SpriteSheet(this._result), this._loadedItems = this._manifestQueue.getItems(!0), this._sendComplete() }, e._handleManifestProgress = function (t) { this.progress = t.progress * (1 - n.SPRITESHEET_PROGRESS) + n.SPRITESHEET_PROGRESS, this._sendProgress(this.progress) }, e._handleManifestError = function (t) { var e = new createjs.Event("fileerror"); e.item = t.data, this.dispatchEvent(e) }, createjs.SpriteSheetLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.AbstractLoader_constructor(t, e, createjs.AbstractLoader.SVG), this.resultFormatter = this._formatResult, this._tagSrcAttribute = "data", e ? this.setTag(document.createElement("svg")) : (this.setTag(document.createElement("object")), this.getTag().type = "image/svg+xml") } var e = createjs.extend(t, createjs.AbstractLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.SVG }, e._formatResult = function (t) { var e = createjs.DataUtils.parseXML(t.getResult(!0), "text/xml"), n = t.getTag(); return !this._preferXHR && document.body.contains(n) && document.body.removeChild(n), null != e.documentElement ? (n.appendChild(e.documentElement), n.style.visibility = "visible", n) : e }, createjs.SVGLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractLoader_constructor(t, !0, createjs.AbstractLoader.XML), this.resultFormatter = this._formatResult } var e = createjs.extend(t, createjs.AbstractLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.XML }, e._formatResult = function (t) { return createjs.DataUtils.parseXML(t.getResult(!0), "text/xml") }, createjs.XMLLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { var t = createjs.SoundJS = createjs.SoundJS || {}; t.version = "0.6.1", t.buildDate = "Thu, 21 May 2015 16:17:37 GMT" }(), this.createjs = this.createjs || {}, createjs.extend = function (t, e) { "use strict"; function n() { this.constructor = t } return n.prototype = e.prototype, t.prototype = new n }, this.createjs = this.createjs || {}, createjs.promote = function (t, e) { "use strict"; var n = t.prototype, r = Object.getPrototypeOf && Object.getPrototypeOf(n) || n.__proto__; if (r) for (var i in n[(e += "_") + "constructor"] = r.constructor, r) n.hasOwnProperty(i) && "function" == typeof r[i] && (n[e + i] = r[i]); return t }, this.createjs = this.createjs || {}, createjs.indexOf = function (t, e) { "use strict"; for (var n = 0, r = t.length; n < r; n++)if (e === t[n]) return n; return -1 }, this.createjs = this.createjs || {}, function () { "use strict"; createjs.proxy = function (t, e) { var n = Array.prototype.slice.call(arguments, 2); return function () { return t.apply(e, Array.prototype.slice.call(arguments, 0).concat(n)) } } }(), this.createjs = this.createjs || {}, function () { "use strict"; function t() { throw "BrowserDetect cannot be instantiated" } var e = t.agent = window.navigator.userAgent; t.isWindowPhone = -1 < e.indexOf("IEMobile") || -1 < e.indexOf("Windows Phone"), t.isFirefox = -1 < e.indexOf("Firefox"), t.isOpera = null != window.opera, t.isChrome = -1 < e.indexOf("Chrome"), t.isIOS = (-1 < e.indexOf("iPod") || -1 < e.indexOf("iPhone") || -1 < e.indexOf("iPad")) && !t.isWindowPhone, t.isAndroid = -1 < e.indexOf("Android") && !t.isWindowPhone, t.isBlackberry = -1 < e.indexOf("Blackberry"), createjs.BrowserDetect = t }(), this.createjs = this.createjs || {}, function () { "use strict"; function t() { this._listeners = null, this._captureListeners = null } var e = t.prototype; t.initialize = function (t) { t.addEventListener = e.addEventListener, t.on = e.on, t.removeEventListener = t.off = e.removeEventListener, t.removeAllEventListeners = e.removeAllEventListeners, t.hasEventListener = e.hasEventListener, t.dispatchEvent = e.dispatchEvent, t._dispatchEvent = e._dispatchEvent, t.willTrigger = e.willTrigger }, e.addEventListener = function (t, e, n) { var r, i = (r = n ? this._captureListeners = this._captureListeners || {} : this._listeners = this._listeners || {})[t]; return i && this.removeEventListener(t, e, n), (i = r[t]) ? i.push(e) : r[t] = [e], e }, e.on = function (t, e, n, r, i, o) { return e.handleEvent && (n = n || e, e = e.handleEvent), n = n || this, this.addEventListener(t, function (t) { e.call(n, t, i), r && t.remove() }, o) }, e.removeEventListener = function (t, e, n) { var r = n ? this._captureListeners : this._listeners; if (r) { var i = r[t]; if (i) for (var o = 0, s = i.length; o < s; o++)if (i[o] == e) { 1 == s ? delete r[t] : i.splice(o, 1); break } } }, e.off = e.removeEventListener, e.removeAllEventListeners = function (t) { t ? (this._listeners && delete this._listeners[t], this._captureListeners && delete this._captureListeners[t]) : this._listeners = this._captureListeners = null }, e.dispatchEvent = function (t) { if ("string" == typeof t) { var e = this._listeners; if (!e || !e[t]) return !1; t = new createjs.Event(t) } else t.target && t.clone && (t = t.clone()); try { t.target = this } catch (t) { } if (t.bubbles && this.parent) { for (var n = this, r = [n]; n.parent;)r.push(n = n.parent); var i, o = r.length; for (i = o - 1; 0 <= i && !t.propagationStopped; i--)r[i]._dispatchEvent(t, 1 + (0 == i)); for (i = 1; i < o && !t.propagationStopped; i++)r[i]._dispatchEvent(t, 3) } else this._dispatchEvent(t, 2); return t.defaultPrevented }, e.hasEventListener = function (t) { var e = this._listeners, n = this._captureListeners; return !!(e && e[t] || n && n[t]) }, e.willTrigger = function (t) { for (var e = this; e;) { if (e.hasEventListener(t)) return !0; e = e.parent } return !1 }, e.toString = function () { return "[EventDispatcher]" }, e._dispatchEvent = function (t, e) { var n, r = 1 == e ? this._captureListeners : this._listeners; if (t && r) { var i = r[t.type]; if (!i || !(n = i.length)) return; try { t.currentTarget = this } catch (t) { } try { t.eventPhase = e } catch (t) { } t.removed = !1, i = i.slice(); for (var o = 0; o < n && !t.immediatePropagationStopped; o++) { var s = i[o]; s.handleEvent ? s.handleEvent(t) : s(t), t.removed && (this.off(t.type, s, 1 == e), t.removed = !1) } } }, createjs.EventDispatcher = t }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.type = t, this.target = null, this.currentTarget = null, this.eventPhase = 0, this.bubbles = !!e, this.cancelable = !!n, this.timeStamp = (new Date).getTime(), this.defaultPrevented = !1, this.propagationStopped = !1, this.immediatePropagationStopped = !1, this.removed = !1 } var e = t.prototype; e.preventDefault = function () { this.defaultPrevented = this.cancelable && !0 }, e.stopPropagation = function () { this.propagationStopped = !0 }, e.stopImmediatePropagation = function () { this.immediatePropagationStopped = this.propagationStopped = !0 }, e.remove = function () { this.removed = !0 }, e.clone = function () { return new t(this.type, this.bubbles, this.cancelable) }, e.set = function (t) { for (var e in t) this[e] = t[e]; return this }, e.toString = function () { return "[Event (type=" + this.type + ")]" }, createjs.Event = t }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.Event_constructor("error"), this.title = t, this.message = e, this.data = n } createjs.extend(t, createjs.Event).clone = function () { return new createjs.ErrorEvent(this.title, this.message, this.data) }, createjs.ErrorEvent = createjs.promote(t, "Event") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.Event_constructor("progress"), this.loaded = t, this.total = null == e ? 1 : e, this.progress = 0 == e ? 0 : this.loaded / this.total } createjs.extend(t, createjs.Event).clone = function () { return new createjs.ProgressEvent(this.loaded, this.total) }, createjs.ProgressEvent = createjs.promote(t, "Event") }(window), this.createjs = this.createjs || {}, function () { "use strict"; function n() { this.src = null, this.type = null, this.id = null, this.maintainOrder = !1, this.callback = null, this.data = null, this.method = createjs.LoadItem.GET, this.values = null, this.headers = null, this.withCredentials = !1, this.mimeType = null, this.crossOrigin = null, this.loadTimeout = r.LOAD_TIMEOUT_DEFAULT } var t = n.prototype = {}, r = n; r.LOAD_TIMEOUT_DEFAULT = 8e3, r.create = function (t) { if ("string" == typeof t) { var e = new n; return e.src = t, e } if (t instanceof r) return t; if (t instanceof Object && t.src) return null == t.loadTimeout && (t.loadTimeout = r.LOAD_TIMEOUT_DEFAULT), t; throw new Error("Type not recognized.") }, t.set = function (t) { for (var e in t) this[e] = t[e]; return this }, createjs.LoadItem = r }(), function () { var i = { ABSOLUTE_PATT: /^(?:\w+:)?\/{2}/i, RELATIVE_PATT: /^[./]*?\//i, EXTENSION_PATT: /\/?[^/]+\.(\w{1,5})$/i, parseURI: function (t) { var e = { absolute: !1, relative: !1 }; if (null == t) return e; var n, r = t.indexOf("?"); return -1 < r && (t = t.substr(0, r)), i.ABSOLUTE_PATT.test(t) ? e.absolute = !0 : i.RELATIVE_PATT.test(t) && (e.relative = !0), (n = t.match(i.EXTENSION_PATT)) && (e.extension = n[1].toLowerCase()), e }, formatQueryString: function (t, e) { if (null == t) throw new Error("You must specify data."); var n = []; for (var r in t) n.push(r + "=" + escape(t[r])); return e && (n = n.concat(e)), n.join("&") }, buildPath: function (t, e) { if (null == e) return t; var n = [], r = t.indexOf("?"); if (-1 != r) { var i = t.slice(r + 1); n = n.concat(i.split("&")) } return -1 != r ? t.slice(0, r) + "?" + this._formatQueryString(e, n) : t + "?" + this._formatQueryString(e, n) }, isCrossDomain: function (t) { var e = document.createElement("a"); e.href = t.src; var n = document.createElement("a"); return n.href = location.href, "" != e.hostname && (e.port != n.port || e.protocol != n.protocol || e.hostname != n.hostname) }, isLocal: function (t) { var e = document.createElement("a"); return e.href = t.src, "" == e.hostname && "file:" == e.protocol }, isBinary: function (t) { switch (t) { case createjs.AbstractLoader.IMAGE: case createjs.AbstractLoader.BINARY: return !0; default: return !1 } }, isImageTag: function (t) { return t instanceof HTMLImageElement }, isAudioTag: function (t) { return !!window.HTMLAudioElement && t instanceof HTMLAudioElement }, isVideoTag: function (t) { return !!window.HTMLVideoElement && t instanceof HTMLVideoElement }, isText: function (t) { switch (t) { case createjs.AbstractLoader.TEXT: case createjs.AbstractLoader.JSON: case createjs.AbstractLoader.MANIFEST: case createjs.AbstractLoader.XML: case createjs.AbstractLoader.CSS: case createjs.AbstractLoader.SVG: case createjs.AbstractLoader.JAVASCRIPT: case createjs.AbstractLoader.SPRITESHEET: return !0; default: return !1 } }, getTypeByExtension: function (t) { if (null == t) return createjs.AbstractLoader.TEXT; switch (t.toLowerCase()) { case "jpeg": case "jpg": case "gif": case "png": case "webp": case "bmp": return createjs.AbstractLoader.IMAGE; case "ogg": case "mp3": case "webm": return createjs.AbstractLoader.SOUND; case "mp4": case "webm": case "ts": return createjs.AbstractLoader.VIDEO; case "json": return createjs.AbstractLoader.JSON; case "xml": return createjs.AbstractLoader.XML; case "css": return createjs.AbstractLoader.CSS; case "js": return createjs.AbstractLoader.JAVASCRIPT; case "svg": return createjs.AbstractLoader.SVG; default: return createjs.AbstractLoader.TEXT } } }; createjs.RequestUtils = i }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.EventDispatcher_constructor(), this.loaded = !1, this.canceled = !1, this.progress = 0, this.type = n, this.resultFormatter = null, this._item = t ? createjs.LoadItem.create(t) : null, this._preferXHR = e, this._result = null, this._rawResult = null, this._loadedItems = null, this._tagSrcAttribute = null, this._tag = null } var e = createjs.extend(t, createjs.EventDispatcher), n = t; n.POST = "POST", n.GET = "GET", n.BINARY = "binary", n.CSS = "css", n.IMAGE = "image", n.JAVASCRIPT = "javascript", n.JSON = "json", n.JSONP = "jsonp", n.MANIFEST = "manifest", n.SOUND = "sound", n.VIDEO = "video", n.SPRITESHEET = "spritesheet", n.SVG = "svg", n.TEXT = "text", n.XML = "xml", e.getItem = function () { return this._item }, e.getResult = function (t) { return t ? this._rawResult : this._result }, e.getTag = function () { return this._tag }, e.setTag = function (t) { this._tag = t }, e.load = function () { this._createRequest(), this._request.on("complete", this, this), this._request.on("progress", this, this), this._request.on("loadStart", this, this), this._request.on("abort", this, this), this._request.on("timeout", this, this), this._request.on("error", this, this); var t = new createjs.Event("initialize"); t.loader = this._request, this.dispatchEvent(t), this._request.load() }, e.cancel = function () { this.canceled = !0, this.destroy() }, e.destroy = function () { this._request && (this._request.removeAllEventListeners(), this._request.destroy()), this._request = null, this._item = null, this._rawResult = null, this._result = null, this._loadItems = null, this.removeAllEventListeners() }, e.getLoadedItems = function () { return this._loadedItems }, e._createRequest = function () { this._request = this._preferXHR ? new createjs.XHRRequest(this._item) : new createjs.TagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute) }, e._createTag = function () { return null }, e._sendLoadStart = function () { this._isCanceled() || this.dispatchEvent("loadstart") }, e._sendProgress = function (t) { if (!this._isCanceled()) { var e = null; "number" == typeof t ? (this.progress = t, e = new createjs.ProgressEvent(this.progress)) : (e = t, this.progress = t.loaded / t.total, e.progress = this.progress, (isNaN(this.progress) || 1 / 0 == this.progress) && (this.progress = 0)), this.hasEventListener("progress") && this.dispatchEvent(e) } }, e._sendComplete = function () { if (!this._isCanceled()) { this.loaded = !0; var t = new createjs.Event("complete"); t.rawResult = this._rawResult, null != this._result && (t.result = this._result), this.dispatchEvent(t) } }, e._sendError = function (t) { !this._isCanceled() && this.hasEventListener("error") && (null == t && (t = new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")), this.dispatchEvent(t)) }, e._isCanceled = function () { return !(null != window.createjs && !this.canceled) }, e.resultFormatter = null, e.handleEvent = function (t) { switch (t.type) { case "complete": this._rawResult = t.target._response; var e = this.resultFormatter && this.resultFormatter(this), n = this; e instanceof Function ? e(function (t) { n._result = t, n._sendComplete() }) : (this._result = e || this._rawResult, this._sendComplete()); break; case "progress": this._sendProgress(t); break; case "error": this._sendError(t); break; case "loadstart": this._sendLoadStart(); break; case "abort": case "timeout": this._isCanceled() || this.dispatchEvent(t.type) } }, e.buildPath = function (t, e) { return createjs.RequestUtils.buildPath(t, e) }, e.toString = function () { return "[PreloadJS AbstractLoader]" }, createjs.AbstractLoader = createjs.promote(t, "EventDispatcher") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.AbstractLoader_constructor(t, e, n), this.resultFormatter = this._formatResult, this._tagSrcAttribute = "src" } var e = createjs.extend(t, createjs.AbstractLoader); e.load = function () { this._tag || (this._tag = this._createTag(this._item.src)), this._tag.preload = "auto", this._tag.load(), this.AbstractLoader_load() }, e._createTag = function () { }, e._createRequest = function () { this._request = this._preferXHR ? new createjs.XHRRequest(this._item) : new createjs.MediaTagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute) }, e._formatResult = function (t) { return this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler), this._tag.onstalled = null, this._preferXHR && (t.getTag().src = t.getResult(!0)), t.getTag() }, createjs.AbstractMediaLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; var t = function (t) { this._item = t }, e = createjs.extend(t, createjs.EventDispatcher); e.load = function () { }, e.destroy = function () { }, e.cancel = function () { }, createjs.AbstractRequest = createjs.promote(t, "EventDispatcher") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.AbstractRequest_constructor(t), this._tag = e, this._tagSrcAttribute = n, this._loadedHandler = createjs.proxy(this._handleTagComplete, this), this._addedToDOM = !1, this._startTagVisibility = null } var e = createjs.extend(t, createjs.AbstractRequest); e.load = function () { this._tag.onload = createjs.proxy(this._handleTagComplete, this), this._tag.onreadystatechange = createjs.proxy(this._handleReadyStateChange, this), this._tag.onerror = createjs.proxy(this._handleError, this); var t = new createjs.Event("initialize"); t.loader = this._tag, this.dispatchEvent(t), this._hideTag(), this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout), this._tag[this._tagSrcAttribute] = this._item.src, null == this._tag.parentNode && (window.document.body.appendChild(this._tag), this._addedToDOM = !0) }, e.destroy = function () { this._clean(), this._tag = null, this.AbstractRequest_destroy() }, e._handleReadyStateChange = function () { clearTimeout(this._loadTimeout); var t = this._tag; ("loaded" == t.readyState || "complete" == t.readyState) && this._handleTagComplete() }, e._handleError = function () { this._clean(), this.dispatchEvent("error") }, e._handleTagComplete = function () { this._rawResult = this._tag, this._result = this.resultFormatter && this.resultFormatter(this) || this._rawResult, this._clean(), this._showTag(), this.dispatchEvent("complete") }, e._handleTimeout = function () { this._clean(), this.dispatchEvent(new createjs.Event("timeout")) }, e._clean = function () { this._tag.onload = null, this._tag.onreadystatechange = null, this._tag.onerror = null, this._addedToDOM && null != this._tag.parentNode && this._tag.parentNode.removeChild(this._tag), clearTimeout(this._loadTimeout) }, e._hideTag = function () { this._startTagVisibility = this._tag.style.visibility, this._tag.style.visibility = "hidden" }, e._showTag = function () { this._tag.style.visibility = this._startTagVisibility }, e._handleStalled = function () { }, createjs.TagRequest = createjs.promote(t, "AbstractRequest") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n) { this.AbstractRequest_constructor(t), this._tag = e, this._tagSrcAttribute = n, this._loadedHandler = createjs.proxy(this._handleTagComplete, this) } var e = createjs.extend(t, createjs.TagRequest); e.load = function () { var t = createjs.proxy(this._handleStalled, this); this._stalledCallback = t; var e = createjs.proxy(this._handleProgress, this); this._handleProgress = e, this._tag.addEventListener("stalled", t), this._tag.addEventListener("progress", e), this._tag.addEventListener && this._tag.addEventListener("canplaythrough", this._loadedHandler, !1), this.TagRequest_load() }, e._handleReadyStateChange = function () { clearTimeout(this._loadTimeout); var t = this._tag; ("loaded" == t.readyState || "complete" == t.readyState) && this._handleTagComplete() }, e._handleStalled = function () { }, e._handleProgress = function (t) { if (t && !(0 < t.loaded && 0 == t.total)) { var e = new createjs.ProgressEvent(t.loaded, t.total); this.dispatchEvent(e) } }, e._clean = function () { this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler), this._tag.removeEventListener("stalled", this._stalledCallback), this._tag.removeEventListener("progress", this._progressCallback), this.TagRequest__clean() }, createjs.MediaTagRequest = createjs.promote(t, "TagRequest") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractRequest_constructor(t), this._request = null, this._loadTimeout = null, this._xhrLevel = 1, this._response = null, this._rawResponse = null, this._canceled = !1, this._handleLoadStartProxy = createjs.proxy(this._handleLoadStart, this), this._handleProgressProxy = createjs.proxy(this._handleProgress, this), this._handleAbortProxy = createjs.proxy(this._handleAbort, this), this._handleErrorProxy = createjs.proxy(this._handleError, this), this._handleTimeoutProxy = createjs.proxy(this._handleTimeout, this), this._handleLoadProxy = createjs.proxy(this._handleLoad, this), this._handleReadyStateChangeProxy = createjs.proxy(this._handleReadyStateChange, this), this._createXHR(t) } var e = createjs.extend(t, createjs.AbstractRequest); t.ACTIVEX_VERSIONS = ["Msxml2.XMLHTTP.6.0", "Msxml2.XMLHTTP.5.0", "Msxml2.XMLHTTP.4.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], e.getResult = function (t) { return t && this._rawResponse ? this._rawResponse : this._response }, e.cancel = function () { this.canceled = !0, this._clean(), this._request.abort() }, e.load = function () { if (null != this._request) { this._request.addEventListener("loadstart", this._handleLoadStartProxy, !1), this._request.addEventListener("progress", this._handleProgressProxy, !1), this._request.addEventListener("abort", this._handleAbortProxy, !1), this._request.addEventListener("error", this._handleErrorProxy, !1), this._request.addEventListener("timeout", this._handleTimeoutProxy, !1), this._request.addEventListener("load", this._handleLoadProxy, !1), this._request.addEventListener("readystatechange", this._handleReadyStateChangeProxy, !1), 1 == this._xhrLevel && (this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout)); try { this._item.values && this._item.method != createjs.AbstractLoader.GET ? this._item.method == createjs.AbstractLoader.POST && this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)) : this._request.send() } catch (t) { this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND", null, t)) } } else this._handleError() }, e.setResponseType = function (t) { this._request.responseType = t }, e.getAllResponseHeaders = function () { return this._request.getAllResponseHeaders instanceof Function ? this._request.getAllResponseHeaders() : null }, e.getResponseHeader = function (t) { return this._request.getResponseHeader instanceof Function ? this._request.getResponseHeader(t) : null }, e._handleProgress = function (t) { if (t && !(0 < t.loaded && 0 == t.total)) { var e = new createjs.ProgressEvent(t.loaded, t.total); this.dispatchEvent(e) } }, e._handleLoadStart = function () { clearTimeout(this._loadTimeout), this.dispatchEvent("loadstart") }, e._handleAbort = function (t) { this._clean(), this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED", null, t)) }, e._handleError = function (t) { this._clean(), this.dispatchEvent(new createjs.ErrorEvent(t.message)) }, e._handleReadyStateChange = function () { 4 == this._request.readyState && this._handleLoad() }, e._handleLoad = function () { if (!this.loaded) { this.loaded = !0; var t = this._checkError(); if (t) return void this._handleError(t); this._response = this._getResponse(), this._clean(), this.dispatchEvent(new createjs.Event("complete")) } }, e._handleTimeout = function (t) { this._clean(), this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT", null, t)) }, e._checkError = function () { var t = parseInt(this._request.status); switch (t) { case 404: case 0: return new Error(t) }return null }, e._getResponse = function () { if (null != this._response) return this._response; if (null != this._request.response) return this._request.response; try { if (null != this._request.responseText) return this._request.responseText } catch (t) { } try { if (null != this._request.responseXML) return this._request.responseXML } catch (t) { } return null }, e._createXHR = function (t) { var e = createjs.RequestUtils.isCrossDomain(t), n = {}, r = null; if (window.XMLHttpRequest) r = new XMLHttpRequest, e && void 0 === r.withCredentials && window.XDomainRequest && (r = new XDomainRequest); else { for (var i = 0, o = s.ACTIVEX_VERSIONS.length; i < o; i++) { s.ACTIVEX_VERSIONS[i]; try { r = new ActiveXObject(axVersions); break } catch (t) { } } if (null == r) return !1 } null == t.mimeType && createjs.RequestUtils.isText(t.type) && (t.mimeType = "text/plain; charset=utf-8"), t.mimeType && r.overrideMimeType && r.overrideMimeType(t.mimeType), this._xhrLevel = "string" == typeof r.responseType ? 2 : 1; var a; if (a = t.method == createjs.AbstractLoader.GET ? createjs.RequestUtils.buildPath(t.src, t.values) : t.src, r.open(t.method || createjs.AbstractLoader.GET, a, !0), e && r instanceof XMLHttpRequest && 1 == this._xhrLevel && (n.Origin = location.origin), t.values && t.method == createjs.AbstractLoader.POST && (n["Content-Type"] = "application/x-www-form-urlencoded"), e || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest"), t.headers) for (var l in t.headers) n[l] = t.headers[l]; for (l in n) r.setRequestHeader(l, n[l]); return r instanceof XMLHttpRequest && void 0 !== t.withCredentials && (r.withCredentials = t.withCredentials), this._request = r, !0 }, e._clean = function () { clearTimeout(this._loadTimeout), this._request.removeEventListener("loadstart", this._handleLoadStartProxy), this._request.removeEventListener("progress", this._handleProgressProxy), this._request.removeEventListener("abort", this._handleAbortProxy), this._request.removeEventListener("error", this._handleErrorProxy), this._request.removeEventListener("timeout", this._handleTimeoutProxy), this._request.removeEventListener("load", this._handleLoadProxy), this._request.removeEventListener("readystatechange", this._handleReadyStateChangeProxy) }, e.toString = function () { return "[PreloadJS XHRRequest]" }, createjs.XHRRequest = createjs.promote(t, "AbstractRequest") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e) { this.AbstractMediaLoader_constructor(t, e, createjs.AbstractLoader.SOUND), createjs.RequestUtils.isAudioTag(t) ? this._tag = t : createjs.RequestUtils.isAudioTag(t.src) ? this._tag = t : createjs.RequestUtils.isAudioTag(t.tag) && (this._tag = createjs.RequestUtils.isAudioTag(t) ? t : t.src), null != this._tag && (this._preferXHR = !1) } var e = createjs.extend(t, createjs.AbstractMediaLoader); t.canLoadItem = function (t) { return t.type == createjs.AbstractLoader.SOUND }, e._createTag = function (t) { var e = document.createElement("audio"); return e.autoplay = !1, e.preload = "none", e.src = t, e }, createjs.SoundLoader = createjs.promote(t, "AbstractMediaLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; var t = function () { this.interrupt = null, this.delay = null, this.offset = null, this.loop = null, this.volume = null, this.pan = null, this.startTime = null, this.duration = null }, e = t.prototype = {}, n = t; n.create = function (t) { if (t instanceof n || t instanceof Object) { var e = new createjs.PlayPropsConfig; return e.set(t), e } throw new Error("Type not recognized.") }, e.set = function (t) { for (var e in t) this[e] = t[e]; return this }, e.toString = function () { return "[PlayPropsConfig]" }, createjs.PlayPropsConfig = n }(), this.createjs = this.createjs || {}, function () { "use strict"; function o() { throw "Sound cannot be instantiated" } function a(t, e) { this.init(t, e) } var f = o; f.INTERRUPT_ANY = "any", f.INTERRUPT_EARLY = "early", f.INTERRUPT_LATE = "late", f.INTERRUPT_NONE = "none", f.PLAY_INITED = "playInited", f.PLAY_SUCCEEDED = "playSucceeded", f.PLAY_INTERRUPTED = "playInterrupted", f.PLAY_FINISHED = "playFinished", f.PLAY_FAILED = "playFailed", f.SUPPORTED_EXTENSIONS = ["mp3", "ogg", "opus", "mpeg", "wav", "m4a", "mp4", "aiff", "wma", "mid"], f.EXTENSION_MAP = { m4a: "mp4" }, f.FILE_PATTERN = /^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/, f.defaultInterruptBehavior = f.INTERRUPT_NONE, f.alternateExtensions = [], f.activePlugin = null, f._masterVolume = 1, Object.defineProperty(f, "volume", { get: function () { return this._masterVolume }, set: function (t) { if (null == Number(t)) return !1; if (t = Math.max(0, Math.min(1, t)), f._masterVolume = t, !this.activePlugin || !this.activePlugin.setVolume || !this.activePlugin.setVolume(t)) for (var e = this._instances, n = 0, r = e.length; n < r; n++)e[n].setMasterVolume(t) } }), f._masterMute = !1, Object.defineProperty(f, "muted", { get: function () { return this._masterMute }, set: function (t) { if (null == t) return !1; if (this._masterMute = t, !this.activePlugin || !this.activePlugin.setMute || !this.activePlugin.setMute(t)) for (var e = this._instances, n = 0, r = e.length; n < r; n++)e[n].setMasterMute(t); return !0 } }), Object.defineProperty(f, "capabilities", { get: function () { return null == f.activePlugin ? null : f.activePlugin._capabilities }, set: function () { return !1 } }), f._pluginsRegistered = !1, f._lastID = 0, f._instances = [], f._idHash = {}, f._preloadHash = {}, f._defaultPlayPropsHash = {}, f.addEventListener = null, f.removeEventListener = null, f.removeAllEventListeners = null, f.dispatchEvent = null, f.hasEventListener = null, f._listeners = null, createjs.EventDispatcher.initialize(f), f.getPreloadHandlers = function () { return { callback: createjs.proxy(f.initLoad, f), types: ["sound"], extensions: f.SUPPORTED_EXTENSIONS } }, f._handleLoadComplete = function (t) { var e = t.target.getItem().src; if (f._preloadHash[e]) for (var n = 0, r = f._preloadHash[e].length; n < r; n++) { var i = f._preloadHash[e][n]; if (f._preloadHash[e][n] = !0, f.hasEventListener("fileload")) (t = new createjs.Event("fileload")).src = i.src, t.id = i.id, t.data = i.data, t.sprite = i.sprite, f.dispatchEvent(t) } }, f._handleLoadError = function (t) { var e = t.target.getItem().src; if (f._preloadHash[e]) for (var n = 0, r = f._preloadHash[e].length; n < r; n++) { var i = f._preloadHash[e][n]; if (f._preloadHash[e][n] = !1, f.hasEventListener("fileerror")) (t = new createjs.Event("fileerror")).src = i.src, t.id = i.id, t.data = i.data, t.sprite = i.sprite, f.dispatchEvent(t) } }, f._registerPlugin = function (t) { return !!t.isSupported() && (f.activePlugin = new t, !0) }, f.registerPlugins = function (t) { f._pluginsRegistered = !0; for (var e = 0, n = t.length; e < n; e++)if (f._registerPlugin(t[e])) return !0; return !1 }, f.initializeDefaultPlugins = function () { return null != f.activePlugin || !f._pluginsRegistered && !!f.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin]) }, f.isReady = function () { return null != f.activePlugin }, f.getCapabilities = function () { return null == f.activePlugin ? null : f.activePlugin._capabilities }, f.getCapability = function (t) { return null == f.activePlugin ? null : f.activePlugin._capabilities[t] }, f.initLoad = function (t) { return f._registerSound(t) }, f._registerSound = function (t) { if (!f.initializeDefaultPlugins()) return !1; var e; if (t.src instanceof Object ? (e = f._parseSrc(t.src)).src = t.path + e.src : e = f._parsePath(t.src), null == e) return !1; t.src = e.src, t.type = "sound"; var n = t.data, r = null; if (null != n && (isNaN(n.channels) ? isNaN(n) || (r = parseInt(n)) : r = parseInt(n.channels), n.audioSprite)) for (var i, o = n.audioSprite.length; o--;)i = n.audioSprite[o], f._idHash[i.id] = { src: t.src, startTime: parseInt(i.startTime), duration: parseInt(i.duration) }, i.defaultPlayProps && (f._defaultPlayPropsHash[i.id] = createjs.PlayPropsConfig.create(i.defaultPlayProps)); null != t.id && (f._idHash[t.id] = { src: t.src }); var s = f.activePlugin.register(t); return a.create(t.src, r), null != n && isNaN(n) ? t.data.channels = r || a.maxPerChannel() : t.data = r || a.maxPerChannel(), s.type && (t.type = s.type), t.defaultPlayProps && (f._defaultPlayPropsHash[t.src] = createjs.PlayPropsConfig.create(t.defaultPlayProps)), s }, f.registerSound = function (t, e, n, r, i) { var o = { src: t, id: e, data: n, defaultPlayProps: i }; t instanceof Object && t.src && (r = e, o = t), null == ((o = createjs.LoadItem.create(o)).path = r) || o.src instanceof Object || (o.src = r + t); var s = f._registerSound(o); if (!s) return !1; if (f._preloadHash[o.src] || (f._preloadHash[o.src] = []), f._preloadHash[o.src].push(o), 1 == f._preloadHash[o.src].length) s.on("complete", createjs.proxy(this._handleLoadComplete, this)), s.on("error", createjs.proxy(this._handleLoadError, this)), f.activePlugin.preload(s); else if (1 == f._preloadHash[o.src][0]) return !0; return o }, f.registerSounds = function (t, e) { var n = []; t.path && (e ? e += t.path : e = t.path, t = t.manifest); for (var r = 0, i = t.length; r < i; r++)n[r] = createjs.Sound.registerSound(t[r].src, t[r].id, t[r].data, e, t[r].defaultPlayProps); return n }, f.removeSound = function (t, e) { if (null == f.activePlugin) return !1; var n; if (t instanceof Object && t.src && (t = t.src), t instanceof Object ? n = f._parseSrc(t) : (t = f._getSrcById(t).src, n = f._parsePath(t)), null == n) return !1; for (var r in t = n.src, null != e && (t = e + t), f._idHash) f._idHash[r].src == t && delete f._idHash[r]; return a.removeSrc(t), delete f._preloadHash[t], f.activePlugin.removeSound(t), !0 }, f.removeSounds = function (t, e) { var n = []; t.path && (e ? e += t.path : e = t.path, t = t.manifest); for (var r = 0, i = t.length; r < i; r++)n[r] = createjs.Sound.removeSound(t[r].src, e); return n }, f.removeAllSounds = function () { f._idHash = {}, f._preloadHash = {}, a.removeAll(), f.activePlugin && f.activePlugin.removeAllSounds() }, f.loadComplete = function (t) { if (!f.isReady()) return !1; var e = f._parsePath(t); return t = e ? f._getSrcById(e.src).src : f._getSrcById(t).src, null != f._preloadHash[t] && 1 == f._preloadHash[t][0] }, f._parsePath = function (t) { "string" != typeof t && (t = t.toString()); var e = t.match(f.FILE_PATTERN); if (null == e) return !1; for (var n = e[4], r = e[5], i = f.capabilities, o = 0; !i[r];)if (r = f.alternateExtensions[o++], o > f.alternateExtensions.length) return null; return { name: n, src: t = t.replace("." + e[5], "." + r), extension: r } }, f._parseSrc = function (t) { var e = { name: void 0, src: void 0, extension: void 0 }, n = f.capabilities; for (var r in t) if (t.hasOwnProperty(r) && n[r]) { e.src = t[r], e.extension = r; break } if (!e.src) return !1; var i = e.src.lastIndexOf("/"); return e.name = -1 != i ? e.src.slice(i + 1) : e.src, e }, f.play = function (t, e, n, r, i, o, s, a, l) { var u; u = createjs.PlayPropsConfig.create(e instanceof Object || e instanceof createjs.PlayPropsConfig ? e : { interrupt: e, delay: n, offset: r, loop: i, volume: o, pan: s, startTime: a, duration: l }); var c = f.createInstance(t, u.startTime, u.duration); return f._playInstance(c, u) || c._playFailed(), c }, f.createInstance = function (t, e, n) { if (!f.initializeDefaultPlugins()) return new createjs.DefaultSoundInstance(t, e, n); var r = f._defaultPlayPropsHash[t]; t = f._getSrcById(t); var i = f._parsePath(t.src), o = null; return null != i && null != i.src ? (a.create(i.src), null == e && (e = t.startTime), o = f.activePlugin.create(i.src, e, n || t.duration), (r = r || f._defaultPlayPropsHash[i.src]) && o.applyPlayProps(r)) : o = new createjs.DefaultSoundInstance(t, e, n), o.uniqueId = f._lastID++ , o }, f.stop = function () { for (var t = this._instances, e = t.length; e--;)t[e].stop() }, f.setVolume = function (t) { if (null == Number(t)) return !1; if (t = Math.max(0, Math.min(1, t)), f._masterVolume = t, !this.activePlugin || !this.activePlugin.setVolume || !this.activePlugin.setVolume(t)) for (var e = this._instances, n = 0, r = e.length; n < r; n++)e[n].setMasterVolume(t) }, f.getVolume = function () { return this._masterVolume }, f.setMute = function (t) { if (null == t) return !1; if (this._masterMute = t, !this.activePlugin || !this.activePlugin.setMute || !this.activePlugin.setMute(t)) for (var e = this._instances, n = 0, r = e.length; n < r; n++)e[n].setMasterMute(t); return !0 }, f.getMute = function () { return this._masterMute }, f.setDefaultPlayProps = function (t, e) { t = f._getSrcById(t), f._defaultPlayPropsHash[f._parsePath(t.src).src] = createjs.PlayPropsConfig.create(e) }, f.getDefaultPlayProps = function (t) { return t = f._getSrcById(t), f._defaultPlayPropsHash[f._parsePath(t.src).src] }, f._playInstance = function (t, e) { var n = f._defaultPlayPropsHash[t.src] || {}; if (null == e.interrupt && (e.interrupt = n.interrupt || f.defaultInterruptBehavior), null == e.delay && (e.delay = n.delay || 0), null == e.offset && (e.offset = t.getPosition()), null == e.loop && (e.loop = t.loop), null == e.volume && (e.volume = t.volume), null == e.pan && (e.pan = t.pan), 0 == e.delay) { if (!f._beginPlaying(t, e)) return !1 } else { var r = setTimeout(function () { f._beginPlaying(t, e) }, e.delay); t.delayTimeoutId = r } return this._instances.push(t), !0 }, f._beginPlaying = function (t, e) { if (!a.add(t, e.interrupt)) return !1; if (!t._beginPlaying(e)) { var n = createjs.indexOf(this._instances, t); return -1 < n && this._instances.splice(n, 1), !1 } return !0 }, f._getSrcById = function (t) { return f._idHash[t] || { src: t } }, f._playFinished = function (t) { a.remove(t); var e = createjs.indexOf(this._instances, t); -1 < e && this._instances.splice(e, 1) }, createjs.Sound = o, a.channels = {}, a.create = function (t, e) { return null == a.get(t) && (a.channels[t] = new a(t, e), !0) }, a.removeSrc = function (t) { var e = a.get(t); return null != e && (e._removeAll(), delete a.channels[t], !0) }, a.removeAll = function () { for (var t in a.channels) a.channels[t]._removeAll(); a.channels = {} }, a.add = function (t, e) { var n = a.get(t.src); return null != n && n._add(t, e) }, a.remove = function (t) { var e = a.get(t.src); return null != e && (e._remove(t), !0) }, a.maxPerChannel = function () { return t.maxDefault }, a.get = function (t) { return a.channels[t] }; var t = a.prototype; t.constructor = a, t.src = null, t.max = null, t.maxDefault = 100, t.length = 0, t.init = function (t, e) { this.src = t, this.max = e || this.maxDefault, -1 == this.max && (this.max = this.maxDefault), this._instances = [] }, t._get = function (t) { return this._instances[t] }, t._add = function (t, e) { return !!this._getSlot(e, t) && (this._instances.push(t), this.length++ , !0) }, t._remove = function (t) { var e = createjs.indexOf(this._instances, t); return -1 != e && (this._instances.splice(e, 1), this.length-- , !0) }, t._removeAll = function () { for (var t = this.length - 1; 0 <= t; t--)this._instances[t].stop() }, t._getSlot = function (t) { var e, n; if (t != o.INTERRUPT_NONE && null == (n = this._get(0))) return !0; for (var r = 0, i = this.max; r < i; r++) { if (null == (e = this._get(r))) return !0; if (e.playState == o.PLAY_FINISHED || e.playState == o.PLAY_INTERRUPTED || e.playState == o.PLAY_FAILED) { n = e; break } t != o.INTERRUPT_NONE && (t == o.INTERRUPT_EARLY && e.getPosition() < n.getPosition() || t == o.INTERRUPT_LATE && e.getPosition() > n.getPosition()) && (n = e) } return null != n && (n._interrupt(), this._remove(n), !0) }, t.toString = function () { return "[Sound SoundChannel]" } }(), this.createjs = this.createjs || {}, function () { "use strict"; var t = function (t, e, n, r) { this.EventDispatcher_constructor(), this.src = t, this.uniqueId = -1, this.playState = null, this.delayTimeoutId = null, this._volume = 1, Object.defineProperty(this, "volume", { get: this.getVolume, set: this.setVolume }), this._pan = 0, Object.defineProperty(this, "pan", { get: this.getPan, set: this.setPan }), this._startTime = Math.max(0, e || 0), Object.defineProperty(this, "startTime", { get: this.getStartTime, set: this.setStartTime }), this._duration = Math.max(0, n || 0), Object.defineProperty(this, "duration", { get: this.getDuration, set: this.setDuration }), this._playbackResource = null, Object.defineProperty(this, "playbackResource", { get: this.getPlaybackResource, set: this.setPlaybackResource }), !1 !== r && !0 !== r && this.setPlaybackResource(r), this._position = 0, Object.defineProperty(this, "position", { get: this.getPosition, set: this.setPosition }), this._loop = 0, Object.defineProperty(this, "loop", { get: this.getLoop, set: this.setLoop }), this._muted = !1, Object.defineProperty(this, "muted", { get: this.getMuted, set: this.setMuted }), this._paused = !1, Object.defineProperty(this, "paused", { get: this.getPaused, set: this.setPaused }) }, e = createjs.extend(t, createjs.EventDispatcher); e.play = function (t, e, n, r, i, o) { var s; return s = createjs.PlayPropsConfig.create(t instanceof Object || t instanceof createjs.PlayPropsConfig ? t : { interrupt: t, delay: e, offset: n, loop: r, volume: i, pan: o }), this.playState == createjs.Sound.PLAY_SUCCEEDED ? (this.applyPlayProps(s), void (this._paused && this.setPaused(!1))) : (this._cleanUp(), createjs.Sound._playInstance(this, s), this) }, e.stop = function () { return this._position = 0, this._paused = !1, this._handleStop(), this._cleanUp(), this.playState = createjs.Sound.PLAY_FINISHED, this }, e.destroy = function () { this._cleanUp(), this.src = null, this.playbackResource = null, this.removeAllEventListeners() }, e.applyPlayProps = function (t) { return null != t.offset && this.setPosition(t.offset), null != t.loop && this.setLoop(t.loop), null != t.volume && this.setVolume(t.volume), null != t.pan && this.setPan(t.pan), null != t.startTime && (this.setStartTime(t.startTime), this.setDuration(t.duration)), this }, e.toString = function () { return "[AbstractSoundInstance]" }, e.getPaused = function () { return this._paused }, e.setPaused = function (t) { return !0 !== t && !1 !== t || this._paused == t || 1 == t && this.playState != createjs.Sound.PLAY_SUCCEEDED ? void 0 : ((this._paused = t) ? this._pause() : this._resume(), clearTimeout(this.delayTimeoutId), this) }, e.setVolume = function (t) { return t == this._volume || (this._volume = Math.max(0, Math.min(1, t)), this._muted || this._updateVolume()), this }, e.getVolume = function () { return this._volume }, e.setMuted = function (t) { return !0 === t || !1 === t ? (this._muted = t, this._updateVolume(), this) : void 0 }, e.getMuted = function () { return this._muted }, e.setPan = function (t) { return t == this._pan || (this._pan = Math.max(-1, Math.min(1, t)), this._updatePan()), this }, e.getPan = function () { return this._pan }, e.getPosition = function () { return this._paused || this.playState != createjs.Sound.PLAY_SUCCEEDED || (this._position = this._calculateCurrentPosition()), this._position }, e.setPosition = function (t) { return this._position = Math.max(0, t), this.playState == createjs.Sound.PLAY_SUCCEEDED && this._updatePosition(), this }, e.getStartTime = function () { return this._startTime }, e.setStartTime = function (t) { return t == this._startTime || (this._startTime = Math.max(0, t || 0), this._updateStartTime()), this }, e.getDuration = function () { return this._duration }, e.setDuration = function (t) { return t == this._duration || (this._duration = Math.max(0, t || 0), this._updateDuration()), this }, e.setPlaybackResource = function (t) { return this._playbackResource = t, 0 == this._duration && this._setDurationFromSource(), this }, e.getPlaybackResource = function () { return this._playbackResource }, e.getLoop = function () { return this._loop }, e.setLoop = function (t) { null != this._playbackResource && (0 != this._loop && 0 == t ? this._removeLooping(t) : 0 == this._loop && 0 != t && this._addLooping(t)), this._loop = t }, e._sendEvent = function (t) { var e = new createjs.Event(t); this.dispatchEvent(e) }, e._cleanUp = function () { clearTimeout(this.delayTimeoutId), this._handleCleanUp(), this._paused = !1, createjs.Sound._playFinished(this) }, e._interrupt = function () { this._cleanUp(), this.playState = createjs.Sound.PLAY_INTERRUPTED, this._sendEvent("interrupted") }, e._beginPlaying = function (t) { return this.setPosition(t.offset), this.setLoop(t.loop), this.setVolume(t.volume), this.setPan(t.pan), null != t.startTime && (this.setStartTime(t.startTime), this.setDuration(t.duration)), null != this._playbackResource && this._position < this._duration ? (this._paused = !1, this._handleSoundReady(), this.playState = createjs.Sound.PLAY_SUCCEEDED, this._sendEvent("succeeded"), !0) : (this._playFailed(), !1) }, e._playFailed = function () { this._cleanUp(), this.playState = createjs.Sound.PLAY_FAILED, this._sendEvent("failed") }, e._handleSoundComplete = function () { return (this._position = 0) != this._loop ? (this._loop-- , this._handleLoop(), void this._sendEvent("loop")) : (this._cleanUp(), this.playState = createjs.Sound.PLAY_FINISHED, void this._sendEvent("complete")) }, e._handleSoundReady = function () { }, e._updateVolume = function () { }, e._updatePan = function () { }, e._updateStartTime = function () { }, e._updateDuration = function () { }, e._setDurationFromSource = function () { }, e._calculateCurrentPosition = function () { }, e._updatePosition = function () { }, e._removeLooping = function () { }, e._addLooping = function () { }, e._pause = function () { }, e._resume = function () { }, e._handleStop = function () { }, e._handleCleanUp = function () { }, e._handleLoop = function () { }, createjs.AbstractSoundInstance = createjs.promote(t, "EventDispatcher"), createjs.DefaultSoundInstance = createjs.AbstractSoundInstance }(), this.createjs = this.createjs || {}, function () { "use strict"; var t = function () { this._capabilities = null, this._loaders = {}, this._audioSources = {}, this._soundInstances = {}, this._volume = 1, this._loaderClass, this._soundInstanceClass }, e = t.prototype; t._capabilities = null, t.isSupported = function () { return !0 }, e.register = function (t) { var e = this._loaders[t.src]; return e && !e.canceled ? this._loaders[t.src] : (this._audioSources[t.src] = !0, this._soundInstances[t.src] = [], (e = new this._loaderClass(t)).on("complete", createjs.proxy(this._handlePreloadComplete, this)), this._loaders[t.src] = e) }, e.preload = function (t) { t.on("error", createjs.proxy(this._handlePreloadError, this)), t.load() }, e.isPreloadStarted = function (t) { return null != this._audioSources[t] }, e.isPreloadComplete = function (t) { return !(null == this._audioSources[t] || 1 == this._audioSources[t]) }, e.removeSound = function (t) { if (this._soundInstances[t]) { for (var e = this._soundInstances[t].length; e--;) { this._soundInstances[t][e].destroy() } delete this._soundInstances[t], delete this._audioSources[t], this._loaders[t] && this._loaders[t].destroy(), delete this._loaders[t] } }, e.removeAllSounds = function () { for (var t in this._audioSources) this.removeSound(t) }, e.create = function (t, e, n) { this.isPreloadStarted(t) || this.preload(this.register(t)); var r = new this._soundInstanceClass(t, e, n, this._audioSources[t]); return this._soundInstances[t].push(r), r }, e.setVolume = function (t) { return this._volume = t, this._updateVolume(), !0 }, e.getVolume = function () { return this._volume }, e.setMute = function () { return this._updateVolume(), !0 }, e.toString = function () { return "[AbstractPlugin]" }, e._handlePreloadComplete = function (t) { var e = t.target.getItem().src; this._audioSources[e] = t.result; for (var n = 0, r = this._soundInstances[e].length; n < r; n++) { this._soundInstances[e][n].setPlaybackResource(this._audioSources[e]) } }, e._handlePreloadError = function () { }, e._updateVolume = function () { }, createjs.AbstractPlugin = t }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t) { this.AbstractLoader_constructor(t, !0, createjs.AbstractLoader.SOUND) } var e = createjs.extend(t, createjs.AbstractLoader); t.context = null, e.toString = function () { return "[WebAudioLoader]" }, e._createRequest = function () { this._request = new createjs.XHRRequest(this._item, !1), this._request.setResponseType("arraybuffer") }, e._sendComplete = function () { t.context.decodeAudioData(this._rawResult, createjs.proxy(this._handleAudioDecoded, this), createjs.proxy(this._sendError, this)) }, e._handleAudioDecoded = function (t) { this._result = t, this.AbstractLoader__sendComplete() }, createjs.WebAudioLoader = createjs.promote(t, "AbstractLoader") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n, r) { this.AbstractSoundInstance_constructor(t, e, n, r), this.gainNode = i.context.createGain(), this.panNode = i.context.createPanner(), this.panNode.panningModel = i._panningModel, this.panNode.connect(this.gainNode), this.sourceNode = null, this._soundCompleteTimeout = null, this._sourceNodeNext = null, this._playbackStartTime = 0, this._endedHandler = createjs.proxy(this._handleSoundComplete, this) } var e = createjs.extend(t, createjs.AbstractSoundInstance), i = t; i.context = null, i.destinationNode = null, i._panningModel = "equalpower", e.destroy = function () { this.AbstractSoundInstance_destroy(), this.panNode.disconnect(0), this.panNode = null, this.gainNode.disconnect(0), this.gainNode = null }, e.toString = function () { return "[WebAudioSoundInstance]" }, e._updatePan = function () { this.panNode.setPosition(this._pan, 0, -.5) }, e._removeLooping = function () { this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext) }, e._addLooping = function () { this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0)) }, e._setDurationFromSource = function () { this._duration = 1e3 * this.playbackResource.duration }, e._handleCleanUp = function () { this.sourceNode && this.playState == createjs.Sound.PLAY_SUCCEEDED && (this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)), 0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0), clearTimeout(this._soundCompleteTimeout), this._playbackStartTime = 0 }, e._cleanUpAudioNode = function (t) { return t && (t.stop(0), t.disconnect(0), t = null), t }, e._handleSoundReady = function () { this.gainNode.connect(i.destinationNode); var t = .001 * this._duration, e = .001 * this._position; t < e && (e = t), this.sourceNode = this._createAndPlayAudioNode(i.context.currentTime - t, e), this._playbackStartTime = this.sourceNode.startTime - e, this._soundCompleteTimeout = setTimeout(this._endedHandler, 1e3 * (t - e)), 0 != this._loop && (this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0)) }, e._createAndPlayAudioNode = function (t, e) { var n = i.context.createBufferSource(); n.buffer = this.playbackResource, n.connect(this.panNode); var r = .001 * this._duration; return n.startTime = t + r, n.start(n.startTime, e + .001 * this._startTime, r - e), n }, e._pause = function () { this._position = 1e3 * (i.context.currentTime - this._playbackStartTime), this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext), 0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0), clearTimeout(this._soundCompleteTimeout) }, e._resume = function () { this._handleSoundReady() }, e._updateVolume = function () { var t = this._muted ? 0 : this._volume; t != this.gainNode.gain.value && (this.gainNode.gain.value = t) }, e._calculateCurrentPosition = function () { return 1e3 * (i.context.currentTime - this._playbackStartTime) }, e._updatePosition = function () { this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext), clearTimeout(this._soundCompleteTimeout), this._paused || this._handleSoundReady() }, e._handleLoop = function () { this._cleanUpAudioNode(this.sourceNode), this.sourceNode = this._sourceNodeNext, this._playbackStartTime = this.sourceNode.startTime, this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0), this._soundCompleteTimeout = setTimeout(this._endedHandler, this._duration) }, e._updateDuration = function () { this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._pause(), this._resume()) }, createjs.WebAudioSoundInstance = createjs.promote(t, "AbstractSoundInstance") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t() { this.AbstractPlugin_constructor(), this._panningModel = a._panningModel, this.context = a.context, this.dynamicsCompressorNode = this.context.createDynamicsCompressor(), this.dynamicsCompressorNode.connect(this.context.destination), this.gainNode = this.context.createGain(), this.gainNode.connect(this.dynamicsCompressorNode), createjs.WebAudioSoundInstance.destinationNode = this.gainNode, this._capabilities = a._capabilities, this._loaderClass = createjs.WebAudioLoader, this._soundInstanceClass = createjs.WebAudioSoundInstance, this._addPropsToClasses() } var e = createjs.extend(t, createjs.AbstractPlugin), a = t; a._capabilities = null, a._panningModel = "equalpower", a.context = null, a.isSupported = function () { var t = createjs.BrowserDetect.isIOS || createjs.BrowserDetect.isAndroid || createjs.BrowserDetect.isBlackberry; return !("file:" == location.protocol && !t && !this._isFileXHRSupported()) && (a._generateCapabilities(), null != a.context) }, a.playEmptySound = function () { if (null != a.context) { var t = a.context.createBufferSource(); t.buffer = a.context.createBuffer(1, 1, 22050), t.connect(a.context.destination), t.start(0, 0, 0) } }, a._isFileXHRSupported = function () { var e = !0, t = new XMLHttpRequest; try { t.open("GET", "WebAudioPluginTest.fail", !1) } catch (t) { return e = !1 } t.onerror = function () { e = !1 }, t.onload = function () { e = 404 == this.status || 200 == this.status || 0 == this.status && "" != this.response }; try { t.send() } catch (t) { e = !1 } return e }, a._generateCapabilities = function () { if (null == a._capabilities) { var t = document.createElement("audio"); if (null == t.canPlayType) return null; if (null == a.context) if (window.AudioContext) a.context = new AudioContext; else { if (!window.webkitAudioContext) return null; a.context = new webkitAudioContext } a._compatibilitySetUp(), a.playEmptySound(), a._capabilities = { panning: !0, volume: !0, tracks: -1 }; for (var e = createjs.Sound.SUPPORTED_EXTENSIONS, n = createjs.Sound.EXTENSION_MAP, r = 0, i = e.length; r < i; r++) { var o = e[r], s = n[o] || o; a._capabilities[o] = "no" != t.canPlayType("audio/" + o) && "" != t.canPlayType("audio/" + o) || "no" != t.canPlayType("audio/" + s) && "" != t.canPlayType("audio/" + s) } a.context.destination.numberOfChannels < 2 && (a._capabilities.panning = !1) } }, a._compatibilitySetUp = function () { if (a._panningModel = "equalpower", !a.context.createGain) { a.context.createGain = a.context.createGainNode; var t = a.context.createBufferSource(); t.__proto__.start = t.__proto__.noteGrainOn, t.__proto__.stop = t.__proto__.noteOff, a._panningModel = 0 } }, e.toString = function () { return "[WebAudioPlugin]" }, e._addPropsToClasses = function () { var t = this._soundInstanceClass; t.context = this.context, t.destinationNode = this.gainNode, t._panningModel = this._panningModel, this._loaderClass.context = this.context }, e._updateVolume = function () { var t = createjs.Sound._masterMute ? 0 : this._volume; t != this.gainNode.gain.value && (this.gainNode.gain.value = t) }, createjs.WebAudioPlugin = createjs.promote(t, "AbstractPlugin") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t() { throw "HTMLAudioTagPool cannot be instantiated" } function e() { this._tags = [] } var n = t; n._tags = {}, n._tagPool = new e, n._tagUsed = {}, n.get = function (t) { var e = n._tags[t]; return null == e ? (e = n._tags[t] = n._tagPool.get()).src = t : n._tagUsed[t] ? (e = n._tagPool.get()).src = t : n._tagUsed[t] = !0, e }, n.set = function (t, e) { e == n._tags[t] ? n._tagUsed[t] = !1 : n._tagPool.set(e) }, n.remove = function (t) { var e = n._tags[t]; return null != e && (n._tagPool.set(e), delete n._tags[t], delete n._tagUsed[t], !0) }, n.getDuration = function (t) { var e = n._tags[t]; return null == e ? 0 : 1e3 * e.duration }, createjs.HTMLAudioTagPool = t; var r = e.prototype; r.constructor = e, r.get = function () { var t; return null == (t = 0 == this._tags.length ? this._createTag() : this._tags.pop()).parentNode && document.body.appendChild(t), t }, r.set = function (t) { -1 == createjs.indexOf(this._tags, t) && (this._tags.src = null, this._tags.push(t)) }, r.toString = function () { return "[TagPool]" }, r._createTag = function () { var t = document.createElement("audio"); return t.autoplay = !1, t.preload = "none", t } }(), this.createjs = this.createjs || {}, function () { "use strict"; function t(t, e, n, r) { this.AbstractSoundInstance_constructor(t, e, n, r), this._audioSpriteStopTime = null, this._delayTimeoutId = null, this._endedHandler = createjs.proxy(this._handleSoundComplete, this), this._readyHandler = createjs.proxy(this._handleTagReady, this), this._stalledHandler = createjs.proxy(this._playFailed, this), this._audioSpriteEndHandler = createjs.proxy(this._handleAudioSpriteLoop, this), this._loopHandler = createjs.proxy(this._handleSoundComplete, this), n ? this._audioSpriteStopTime = .001 * (e + n) : this._duration = createjs.HTMLAudioTagPool.getDuration(this.src) } var e = createjs.extend(t, createjs.AbstractSoundInstance); e.setMasterVolume = function () { this._updateVolume() }, e.setMasterMute = function () { this._updateVolume() }, e.toString = function () { return "[HTMLAudioSoundInstance]" }, e._removeLooping = function () { null != this._playbackResource && (this._playbackResource.loop = !1, this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1)) }, e._addLooping = function () { null == this._playbackResource || this._audioSpriteStopTime || (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.loop = !0) }, e._handleCleanUp = function () { var t = this._playbackResource; if (null != t) { t.pause(), t.loop = !1, t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1); try { t.currentTime = this._startTime } catch (t) { } createjs.HTMLAudioTagPool.set(this.src, t), this._playbackResource = null } }, e._beginPlaying = function (t) { return this._playbackResource = createjs.HTMLAudioTagPool.get(this.src), this.AbstractSoundInstance__beginPlaying(t) }, e._handleSoundReady = function () { if (4 !== this._playbackResource.readyState) { var t = this._playbackResource; return t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), t.preload = "auto", void t.load() } this._updateVolume(), this._playbackResource.currentTime = .001 * (this._startTime + this._position), this._audioSpriteStopTime ? this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1) : (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), 0 != this._loop && (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.loop = !0)), this._playbackResource.play() }, e._handleTagReady = function () { this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), this._handleSoundReady() }, e._pause = function () { this._playbackResource.pause() }, e._resume = function () { this._playbackResource.play() }, e._updateVolume = function () { if (null != this._playbackResource) { var t = this._muted || createjs.Sound._masterMute ? 0 : this._volume * createjs.Sound._masterVolume; t != this._playbackResource.volume && (this._playbackResource.volume = t) } }, e._calculateCurrentPosition = function () { return 1e3 * this._playbackResource.currentTime - this._startTime }, e._updatePosition = function () { this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, !1); try { this._playbackResource.currentTime = .001 * (this._position + this._startTime) } catch (t) { this._handleSetPositionSeek(null) } }, e._handleSetPositionSeek = function () { null != this._playbackResource && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1)) }, e._handleAudioSpriteLoop = function () { this._playbackResource.currentTime <= this._audioSpriteStopTime || (this._playbackResource.pause(), 0 == this._loop ? this._handleSoundComplete(null) : (this._position = 0, this._loop-- , this._playbackResource.currentTime = .001 * this._startTime, this._paused || this._playbackResource.play(), this._sendEvent("loop"))) }, e._handleLoop = function () { 0 == this._loop && (this._playbackResource.loop = !1, this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1)) }, e._updateStartTime = function () { this._audioSpriteStopTime = .001 * (this._startTime + this._duration), this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1)) }, e._updateDuration = function () { this._audioSpriteStopTime = .001 * (this._startTime + this._duration), this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1)) }, createjs.HTMLAudioSoundInstance = createjs.promote(t, "AbstractSoundInstance") }(), this.createjs = this.createjs || {}, function () { "use strict"; function t() { this.AbstractPlugin_constructor(), this.defaultNumChannels = 2, this._capabilities = a._capabilities, this._loaderClass = createjs.SoundLoader, this._soundInstanceClass = createjs.HTMLAudioSoundInstance } var e = createjs.extend(t, createjs.AbstractPlugin), a = t; a.MAX_INSTANCES = 30, a._AUDIO_READY = "canplaythrough", a._AUDIO_ENDED = "ended", a._AUDIO_SEEKED = "seeked", a._AUDIO_STALLED = "stalled", a._TIME_UPDATE = "timeupdate", a._capabilities = null, a.isSupported = function () { return a._generateCapabilities(), null != a._capabilities }, a._generateCapabilities = function () { if (null == a._capabilities) { var t = document.createElement("audio"); if (null == t.canPlayType) return null; a._capabilities = { panning: !1, volume: !0, tracks: -1 }; for (var e = createjs.Sound.SUPPORTED_EXTENSIONS, n = createjs.Sound.EXTENSION_MAP, r = 0, i = e.length; r < i; r++) { var o = e[r], s = n[o] || o; a._capabilities[o] = "no" != t.canPlayType("audio/" + o) && "" != t.canPlayType("audio/" + o) || "no" != t.canPlayType("audio/" + s) && "" != t.canPlayType("audio/" + s) } } }, e.register = function (t) { var e = createjs.HTMLAudioTagPool.get(t.src), n = this.AbstractPlugin_register(t); return n.setTag(e), n }, e.removeSound = function (t) { this.AbstractPlugin_removeSound(t), createjs.HTMLAudioTagPool.remove(t) }, e.create = function (t, e, n) { var r = this.AbstractPlugin_create(t, e, n); return r.setPlaybackResource(null), r }, e.toString = function () { return "[HTMLAudioPlugin]" }, e.setVolume = e.getVolume = e.setMute = null, createjs.HTMLAudioPlugin = createjs.promote(t, "AbstractPlugin") }(), jQuery.trumbowyg = { langs: { en: { viewHTML: "View HTML", undo: "Undo", redo: "Redo", formatting: "Formatting", p: "Paragraph", blockquote: "Quote", code: "Code", header: "Header", bold: "Bold", italic: "Italic", strikethrough: "Stroke", underline: "Underline", strong: "Strong", em: "Emphasis", del: "Deleted", superscript: "Superscript", subscript: "Subscript", unorderedList: "Unordered list", orderedList: "Ordered list", insertImage: "Insert Image", link: "Link", createLink: "Insert link", unlink: "Remove link", justifyLeft: "Align Left", justifyCenter: "Align Center", justifyRight: "Align Right", justifyFull: "Align Justify", horizontalRule: "Insert horizontal rule", removeformat: "Remove format", fullscreen: "Fullscreen", close: "Close", submit: "Confirm", reset: "Cancel", required: "Required", description: "Description", title: "Title", text: "Text", target: "Target" } }, plugins: {}, svgPath: null, hideButtonTexts: null }, Object.defineProperty(jQuery.trumbowyg, "defaultOptions", { value: { lang: "en", fixedBtnPane: !1, fixedFullWidth: !1, autogrow: !1, autogrowOnEnter: !1, prefix: "trumbowyg-", semantic: !0, resetCss: !1, removeformatPasted: !1, tagsToRemove: [], btns: [["viewHTML"], ["undo", "redo"], ["formatting"], ["strong", "em", "del"], ["superscript", "subscript"], ["link"], ["insertImage"], ["justifyLeft", "justifyCenter", "justifyRight", "justifyFull"], ["unorderedList", "orderedList"], ["horizontalRule"], ["removeformat"], ["fullscreen"]], btnsDef: {}, inlineElementsSelector: "a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u", pasteHandlers: [], plugins: {} }, writable: !1, enumerable: !0, configurable: !1 }), function (f, h, d, p) { "use strict"; var c = "tbwconfirm", g = "tbwcancel"; p.fn.trumbowyg = function (t, e) { var n = "trumbowyg"; if (t === Object(t) || !t) return this.each(function () { p(this).data(n) || p(this).data(n, new i(this, t)) }); if (1 === this.length) try { var r = p(this).data(n); switch (t) { case "execCmd": return r.execCmd(e.cmd, e.param, e.forceCss); case "openModal": return r.openModal(e.title, e.content); case "closeModal": return r.closeModal(); case "openModalInsert": return r.openModalInsert(e.title, e.fields, e.callback); case "saveRange": return r.saveRange(); case "getRange": return r.range; case "getRangeText": return r.getRangeText(); case "restoreRange": return r.restoreRange(); case "enable": return r.setDisabled(!1); case "disable": return r.setDisabled(!0); case "destroy": return r.destroy(); case "empty": return r.empty(); case "html": return r.html(e) } } catch (t) { } return !1 }; var i = function (t, e) { var n = this, r = "trumbowyg-icons", i = p.trumbowyg; n.doc = t.ownerDocument || d, n.$ta = p(t), n.$c = p(t), null != (e = e || {}).lang || null != i.langs[e.lang] ? n.lang = p.extend(!0, {}, i.langs.en, i.langs[e.lang]) : n.lang = i.langs.en, n.hideButtonTexts = null != i.hideButtonTexts ? i.hideButtonTexts : e.hideButtonTexts; var o = null != i.svgPath ? i.svgPath : e.svgPath; if (n.hasSvg = !1 !== o, n.svgPath = n.doc.querySelector("base") ? h.location.href.split("#")[0] : "", 0 === p("#" + r, n.doc).length && !1 !== o) { if (null == o) try { throw new Error } catch (t) { if (t.hasOwnProperty("stack")) { var s = t.stack.split("\n"); for (var a in s) if (s[a].match(/https?:\/\//)) { (o = s[Number(a)].match(/((https?:\/\/.+\/)([^\/]+\.js))(\?.*)?:/)[1].split("/")).pop(), o = o.join("/") + "/ui/icons.svg"; break } } else console.warn("You must define svgPath: https://goo.gl/CfTY9U") } var l = n.doc.createElement("div"); l.id = r, n.doc.body.insertBefore(l, n.doc.body.childNodes[0]), p.ajax({ async: !0, type: "GET", contentType: "application/x-www-form-urlencoded; charset=UTF-8", dataType: "xml", crossDomain: !0, url: o, data: null, beforeSend: null, complete: null, success: function (t) { l.innerHTML = (new XMLSerializer).serializeToString(t.documentElement) } }) } var u = n.lang.header, c = function () { return (h.chrome || h.Intl && Intl.v8BreakIterator) && "CSS" in h }; n.btnsDef = { viewHTML: { fn: "toggle" }, undo: { isSupported: c, key: "Z" }, redo: { isSupported: c, key: "Y" }, p: { fn: "formatBlock" }, blockquote: { fn: "formatBlock" }, h1: { fn: "formatBlock", title: u + " 1" }, h2: { fn: "formatBlock", title: u + " 2" }, h3: { fn: "formatBlock", title: u + " 3" }, h4: { fn: "formatBlock", title: u + " 4" }, subscript: { tag: "sub" }, superscript: { tag: "sup" }, bold: { key: "B", tag: "b" }, italic: { key: "I", tag: "i" }, underline: { tag: "u" }, strikethrough: { tag: "strike" }, strong: { fn: "bold", key: "B" }, em: { fn: "italic", key: "I" }, del: { fn: "strikethrough" }, createLink: { key: "K", tag: "a" }, unlink: {}, insertImage: {}, justifyLeft: { tag: "left", forceCss: !0 }, justifyCenter: { tag: "center", forceCss: !0 }, justifyRight: { tag: "right", forceCss: !0 }, justifyFull: { tag: "justify", forceCss: !0 }, unorderedList: { fn: "insertUnorderedList", tag: "ul" }, orderedList: { fn: "insertOrderedList", tag: "ol" }, horizontalRule: { fn: "insertHorizontalRule" }, removeformat: {}, fullscreen: { class: "trumbowyg-not-disable" }, close: { fn: "destroy", class: "trumbowyg-not-disable" }, formatting: { dropdown: ["p", "blockquote", "h1", "h2", "h3", "h4"], ico: "p" }, link: { dropdown: ["createLink", "unlink"] } }, n.o = p.extend(!0, {}, i.defaultOptions, e), n.o.hasOwnProperty("imgDblClickHandler") || (n.o.imgDblClickHandler = n.getDefaultImgDblClickHandler()), n.disabled = n.o.disabled || "TEXTAREA" === t.nodeName && t.disabled, e.btns ? n.o.btns = e.btns : n.o.semantic || (n.o.btns[3] = ["bold", "italic", "underline", "strikethrough"]), p.each(n.o.btnsDef, function (t, e) { n.addBtnDef(t, e) }), n.eventNamespace = "trumbowyg-event", n.keys = [], n.tagToButton = {}, n.tagHandlers = [], n.pasteHandlers = [].concat(n.o.pasteHandlers), n.isIE = -1 !== f.userAgent.indexOf("MSIE") || -1 !== f.appVersion.indexOf("Trident/"), n.init() }; i.prototype = { init: function () { var t = this; t.height = t.$ta.height(), t.initPlugins(); try { t.doc.execCommand("enableObjectResizing", !1, !1), t.doc.execCommand("defaultParagraphSeparator", !1, "p") } catch (t) { } t.buildEditor(), t.buildBtnPane(), t.fixedBtnPaneEvents(), t.buildOverlay(), setTimeout(function () { t.disabled && t.setDisabled(!0), t.$c.trigger("tbwinit") }) }, addBtnDef: function (t, e) { this.btnsDef[t] = e }, buildEditor: function () { var r = this, e = r.o.prefix, t = ""; r.$box = p("<div/>", { class: e + "box " + e + "editor-visible " + e + r.o.lang + " trumbowyg" }), r.isTextarea = r.$ta.is("textarea"), r.isTextarea ? (t = r.$ta.val(), r.$ed = p("<div/>"), r.$box.insertAfter(r.$ta).append(r.$ed, r.$ta)) : (r.$ed = r.$ta, t = r.$ed.html(), r.$ta = p("<textarea/>", { name: r.$ta.attr("id"), height: r.height }).val(t), r.$box.insertAfter(r.$ed).append(r.$ta, r.$ed), r.syncCode()), r.$ta.addClass(e + "textarea").attr("tabindex", -1), r.$ed.addClass(e + "editor").attr({ contenteditable: !0, dir: r.lang._dir || "ltr" }).html(t), r.o.tabindex && r.$ed.attr("tabindex", r.o.tabindex), r.$c.is("[placeholder]") && r.$ed.attr("placeholder", r.$c.attr("placeholder")), r.$c.is("[spellcheck]") && r.$ed.attr("spellcheck", r.$c.attr("spellcheck")), r.o.resetCss && r.$ed.addClass(e + "reset-css"), r.o.autogrow || r.$ta.add(r.$ed).css({ height: r.height }), r.semanticCode(), r.o.autogrowOnEnter && r.$ed.addClass(e + "autogrow-on-enter"); var n, i = !1, o = !1, s = r.isIE ? "keyup" : "input"; r.$ed.on("dblclick", "img", r.o.imgDblClickHandler).on("keydown", function (t) { if ((t.ctrlKey || t.metaKey) && !t.altKey) { i = !0; var e = r.keys[String.fromCharCode(t.which).toUpperCase()]; try { return r.execCmd(e.fn, e.param), !1 } catch (t) { } } }).on("compositionstart compositionupdate", function () { o = !0 }).on(s + " compositionend", function (t) { if ("compositionend" === t.type) o = !1; else if (o) return; var e = t.which; 37 <= e && e <= 40 || (!t.ctrlKey && !t.metaKey || 89 !== e && 90 !== e ? i || 17 === e ? void 0 === t.which && r.semanticCode(!1, !1, !0) : (r.semanticCode(!1, "compositionend" === t.type && 13 === e), r.$c.trigger("tbwchange")) : r.$c.trigger("tbwchange"), setTimeout(function () { i = !1 }, 200)) }).on("mouseup keydown keyup", function (t) { (!t.ctrlKey && !t.metaKey || t.altKey) && setTimeout(function () { i = !1 }, 200), clearTimeout(n), n = setTimeout(function () { r.updateButtonPaneStatus() }, 50) }).on("focus blur", function (t) { if (r.$c.trigger("tbw" + t.type), "blur" === t.type && p("." + e + "active-button", r.$btnPane).removeClass(e + "active-button " + e + "active"), r.o.autogrowOnEnter) { if (r.autogrowOnEnterDontClose) return; "focus" === t.type ? (r.autogrowOnEnterWasFocused = !0, r.autogrowEditorOnEnter()) : r.o.autogrow || (r.$ed.css({ height: r.$ed.css("min-height") }), r.$c.trigger("tbwresize")) } }).on("cut", function () { setTimeout(function () { r.semanticCode(!1, !0), r.$c.trigger("tbwchange") }, 0) }).on("paste", function (n) { if (r.o.removeformatPasted) { n.preventDefault(), h.getSelection && h.getSelection().deleteFromDocument && h.getSelection().deleteFromDocument(); try { var e = h.clipboardData.getData("Text"); try { r.doc.selection.createRange().pasteHTML(e) } catch (t) { r.doc.getSelection().getRangeAt(0).insertNode(r.doc.createTextNode(e)) } r.$c.trigger("tbwchange", n) } catch (t) { r.execCmd("insertText", (n.originalEvent || n).clipboardData.getData("text/plain")) } } p.each(r.pasteHandlers, function (t, e) { e(n) }), setTimeout(function () { r.semanticCode(!1, !0), r.$c.trigger("tbwpaste", n) }, 0) }), r.$ta.on("keyup", function () { r.$c.trigger("tbwchange") }).on("paste", function () { setTimeout(function () { r.$c.trigger("tbwchange") }, 0) }), r.$box.on("keydown", function (t) { return 27 === t.which && 1 === p("." + e + "modal-box", r.$box).length ? (r.closeModal(), !1) : void 0 }) }, autogrowEditorOnEnter: function () { var t = this; t.$ed.removeClass("autogrow-on-enter"); var e = t.$ed[0].clientHeight; t.$ed.height("auto"); var n = t.$ed[0].scrollHeight; t.$ed.addClass("autogrow-on-enter"), e !== n && (t.$ed.height(e), setTimeout(function () { t.$ed.css({ height: n }), t.$c.trigger("tbwresize") }, 0)) }, buildBtnPane: function () { var r = this, i = r.o.prefix, o = r.$btnPane = p("<div/>", { class: i + "button-pane" }); p.each(r.o.btns, function (t, e) { p.isArray(e) || (e = [e]); var n = p("<div/>", { class: i + "button-group " + (0 <= e.indexOf("fullscreen") ? i + "right" : "") }); p.each(e, function (t, e) { try { r.isSupportedBtn(e) && n.append(r.buildBtn(e)) } catch (t) { } }), o.append(n) }), r.$box.prepend(o) }, buildBtn: function (t) { var n = this, e = n.o.prefix, r = n.btnsDef[t], i = r.dropdown, o = null == r.hasIcon || r.hasIcon, s = n.lang[t] || t, a = p("<button/>", { type: "button", class: e + t + "-button " + (r.class || "") + (o ? "" : " " + e + "textual-button"), html: n.hasSvg && o ? '<svg><use xlink:href="' + n.svgPath + "#" + e + (r.ico || t).replace(/([A-Z]+)/g, "-$1").toLowerCase() + '"/></svg>' : n.hideButtonTexts ? "" : r.text || r.title || n.lang[t] || t, title: (r.title || r.text || s) + (r.key ? " (Ctrl + " + r.key + ")" : ""), tabindex: -1, mousedown: function () { return (!i || p("." + t + "-" + e + "dropdown", n.$box).is(":hidden")) && p("body", n.doc).trigger("mousedown"), (!n.$btnPane.hasClass(e + "disable") || p(this).hasClass(e + "active") || p(this).hasClass(e + "not-disable")) && n.execCmd((!i ? r.fn : "dropdown") || t, r.param || t, r.forceCss), !1 } }); if (i) { a.addClass(e + "open-dropdown"); var l = e + "dropdown", u = p("<div/>", { class: l + "-" + t + " " + l + " " + e + "fixed-top", "data-dropdown": t }); p.each(i, function (t, e) { n.btnsDef[e] && n.isSupportedBtn(e) && u.append(n.buildSubBtn(e)) }), n.$box.append(u.hide()) } else r.key && (n.keys[r.key] = { fn: r.fn || t, param: r.param || t }); return i || (n.tagToButton[(r.tag || t).toLowerCase()] = t), a }, buildSubBtn: function (t) { var e = this, n = e.o.prefix, r = e.btnsDef[t], i = null == r.hasIcon || r.hasIcon; return r.key && (e.keys[r.key] = { fn: r.fn || t, param: r.param || t }), e.tagToButton[(r.tag || t).toLowerCase()] = t, p("<button/>", { type: "button", class: n + t + "-dropdown-button" + (r.ico ? " " + n + r.ico + "-button" : ""), html: e.hasSvg && i ? '<svg><use xlink:href="' + e.svgPath + "#" + n + (r.ico || t).replace(/([A-Z]+)/g, "-$1").toLowerCase() + '"/></svg>' + (r.text || r.title || e.lang[t] || t) : r.text || r.title || e.lang[t] || t, title: r.key ? " (Ctrl + " + r.key + ")" : null, style: r.style || null, mousedown: function () { return p("body", e.doc).trigger("mousedown"), e.execCmd(r.fn || t, r.param || t, r.forceCss), !1 } }) }, isSupportedBtn: function (t) { try { return this.btnsDef[t].isSupported() } catch (t) { } return !0 }, buildOverlay: function () { return this.$overlay = p("<div/>", { class: this.o.prefix + "overlay" }).appendTo(this.$box), this.$overlay }, showOverlay: function () { p(h).trigger("scroll"), this.$overlay.fadeIn(200), this.$box.addClass(this.o.prefix + "box-blur") }, hideOverlay: function () { this.$overlay.fadeOut(50), this.$box.removeClass(this.o.prefix + "box-blur") }, fixedBtnPaneEvents: function () { var i = this, o = i.o.fixedFullWidth, s = i.$box; i.o.fixedBtnPane && (i.isFixed = !1, p(h).on("scroll." + i.eventNamespace + " resize." + i.eventNamespace, function () { if (s) { i.syncCode(); var t = p(h).scrollTop(), e = s.offset().top + 1, n = i.$btnPane, r = n.outerHeight() - 2; 0 < t - e && t - e - i.height < 0 ? (i.isFixed || (i.isFixed = !0, n.css({ position: "fixed", top: 0, left: o ? "0" : "auto", zIndex: 7 }), p([i.$ta, i.$ed]).css({ marginTop: n.height() })), n.css({ width: o ? "100%" : s.width() - 1 + "px" }), p("." + i.o.prefix + "fixed-top", s).css({ position: o ? "fixed" : "absolute", top: o ? r : r + (t - e) + "px", zIndex: 15 })) : i.isFixed && (i.isFixed = !1, n.removeAttr("style"), p([i.$ta, i.$ed]).css({ marginTop: 0 }), p("." + i.o.prefix + "fixed-top", s).css({ position: "absolute", top: r })) } })) }, setDisabled: function (t) { var e = this.o.prefix; (this.disabled = t) ? this.$ta.attr("disabled", !0) : this.$ta.removeAttr("disabled"), this.$box.toggleClass(e + "disabled", t), this.$ed.attr("contenteditable", !t) }, destroy: function () { var t = this, e = t.o.prefix; t.isTextarea ? t.$box.after(t.$ta.css({ height: "" }).val(t.html()).removeClass(e + "textarea").show()) : t.$box.after(t.$ed.css({ height: "" }).removeClass(e + "editor").removeAttr("contenteditable").removeAttr("dir").html(t.html()).show()), t.$ed.off("dblclick", "img"), t.destroyPlugins(), t.$box.remove(), t.$c.removeData("trumbowyg"), p("body").removeClass(e + "body-fullscreen"), t.$c.trigger("tbwclose"), p(h).off("scroll." + t.eventNamespace + " resize." + t.eventNamespace) }, empty: function () { this.$ta.val(""), this.syncCode(!0) }, toggle: function () { var t = this, e = t.o.prefix; t.o.autogrowOnEnter && (t.autogrowOnEnterDontClose = !t.$box.hasClass(e + "editor-hidden")), t.semanticCode(!1, !0), setTimeout(function () { t.doc.activeElement.blur(), t.$box.toggleClass(e + "editor-hidden " + e + "editor-visible"), t.$btnPane.toggleClass(e + "disable"), p("." + e + "viewHTML-button", t.$btnPane).toggleClass(e + "active"), t.$box.hasClass(e + "editor-visible") ? t.$ta.attr("tabindex", -1) : t.$ta.removeAttr("tabindex"), t.o.autogrowOnEnter && !t.autogrowOnEnterDontClose && t.autogrowEditorOnEnter() }, 0) }, dropdown: function (t) { var e = this, n = e.doc, r = e.o.prefix, i = p("[data-dropdown=" + t + "]", e.$box), o = p("." + r + t + "-button", e.$btnPane), s = i.is(":hidden"); if (p("body", n).trigger("mousedown"), s) { var a = o.offset().left; o.addClass(r + "active"), i.css({ position: "absolute", top: o.offset().top - e.$btnPane.offset().top + o.outerHeight(), left: e.o.fixedFullWidth && e.isFixed ? a + "px" : a - e.$btnPane.offset().left + "px" }).show(), p(h).trigger("scroll"), p("body", n).on("mousedown." + e.eventNamespace, function (t) { i.is(t.target) || (p("." + r + "dropdown", n).hide(), p("." + r + "active", n).removeClass(r + "active"), p("body", n).off("mousedown." + e.eventNamespace)) }) } }, html: function (t) { return null != t ? (this.$ta.val(t), this.syncCode(!0), this) : this.$ta.val() }, syncTextarea: function () { this.$ta.val(0 < this.$ed.text().trim().length || 0 < this.$ed.find("hr,img,embed,iframe,input").length ? this.$ed.html() : "") }, syncCode: function (t) { var e = this; if (!t && e.$ed.is(":visible")) e.syncTextarea(); else { var n = p("<div>").html(e.$ta.val()), r = p("<div>").append(n); p(e.o.tagsToRemove.join(","), r).remove(), e.$ed.html(r.contents().html()) } if (e.o.autogrow && (e.height = e.$ed.height(), e.height !== e.$ta.css("height") && (e.$ta.css({ height: e.height }), e.$c.trigger("tbwresize"))), e.o.autogrowOnEnter) { e.$ed.height("auto"); var i = e.autogrowOnEnterWasFocused ? e.$ed[0].scrollHeight : e.$ed.css("min-height"); i !== e.$ta.css("height") && (e.$ed.css({ height: i }), e.$c.trigger("tbwresize")) } }, semanticCode: function (t, e, n) { var r = this; if (r.saveRange(), r.syncCode(t), r.o.semantic) { if (r.semanticTag("b", "strong"), r.semanticTag("i", "em"), r.semanticTag("strike", "del"), e) { var i = r.o.inlineElementsSelector, o = ":not(" + i + ")"; r.$ed.contents().filter(function () { return 3 === this.nodeType && 0 < this.nodeValue.trim().length }).wrap("<span data-tbw/>"); var s = function (t) { if (0 !== t.length) { var e = t.nextUntil(o).addBack().wrapAll("<p/>").parent(), n = e.nextAll(i).first(); e.next("br").remove(), s(n) } }; s(r.$ed.children(i).first()), r.semanticTag("div", "p", !0), r.$ed.find("p").filter(function () { return (!r.range || this !== r.range.startContainer) && (0 === p(this).text().trim().length && 0 === p(this).children().not("br,span").length) }).contents().unwrap(), p("[data-tbw]", r.$ed).contents().unwrap(), r.$ed.find("p:empty").remove() } n || r.restoreRange(), r.syncTextarea() } }, semanticTag: function (t, e, n) { p(t, this.$ed).each(function () { var t = p(this); t.wrap("<" + e + "/>"), n && p.each(t.prop("attributes"), function () { t.parent().attr(this.name, this.value) }), t.contents().unwrap() }) }, createLink: function () { for (var t, e, n, r = this, i = r.doc.getSelection(), o = i.focusNode; ["A", "DIV"].indexOf(o.nodeName) < 0;)o = o.parentNode; if (o && "A" === o.nodeName) { var s = p(o); t = s.attr("href"), e = s.attr("title"), n = s.attr("target"); var a = r.doc.createRange(); a.selectNode(o), i.removeAllRanges(), i.addRange(a) } r.saveRange(), r.openModalInsert(r.lang.createLink, { url: { label: "URL", required: !0, value: t }, title: { label: r.lang.title, value: e }, text: { label: r.lang.text, value: (new XMLSerializer).serializeToString(i.getRangeAt(0).cloneContents()) }, target: { label: r.lang.target, value: n } }, function (t) { var e = p(['<a href="', t.url, '">', t.text, "</a>"].join("")); return 0 < t.title.length && e.attr("title", t.title), 0 < t.target.length && e.attr("target", t.target), r.range.deleteContents(), r.range.insertNode(e[0]), !0 }) }, unlink: function () { var t = this.doc.getSelection(), e = t.focusNode; if (t.isCollapsed) { for (; ["A", "DIV"].indexOf(e.nodeName) < 0;)e = e.parentNode; if (e && "A" === e.nodeName) { var n = this.doc.createRange(); n.selectNode(e), t.removeAllRanges(), t.addRange(n) } } this.execCmd("unlink", void 0, void 0, !0) }, insertImage: function () { var e = this; e.saveRange(), e.openModalInsert(e.lang.insertImage, { url: { label: "URL", required: !0 }, alt: { label: e.lang.description, value: e.getRangeText() } }, function (t) { return e.execCmd("insertImage", t.url), p('img[src="' + t.url + '"]:not([alt])', e.$box).attr("alt", t.alt), !0 }) }, fullscreen: function () { var t, e = this.o.prefix, n = e + "fullscreen"; this.$box.toggleClass(n), t = this.$box.hasClass(n), p("body").toggleClass(e + "body-fullscreen", t), p(h).trigger("scroll"), this.$c.trigger("tbw" + (t ? "open" : "close") + "fullscreen") }, execCmd: function (e, n, t, r) { var i = this; r = !!r || "", "dropdown" !== e && i.$ed.focus(); try { i.doc.execCommand("styleWithCSS", !1, t || !1) } catch (t) { } try { i[e + r](n) } catch (t) { try { e(n) } catch (t) { "insertHorizontalRule" === e ? n = void 0 : "formatBlock" === e && i.isIE && (n = "<" + n + ">"), i.doc.execCommand(e, !1, n), i.syncCode(), i.semanticCode(!1, !0) } "dropdown" !== e && (i.updateButtonPaneStatus(), i.$c.trigger("tbwchange")) } }, openModal: function (t, e) { var n = this, r = n.o.prefix; if (0 < p("." + r + "modal-box", n.$box).length) return !1; n.o.autogrowOnEnter && (n.autogrowOnEnterDontClose = !0), n.saveRange(), n.showOverlay(), n.$btnPane.addClass(r + "disable"); var i = p("<div/>", { class: r + "modal " + r + "fixed-top" }).css({ top: n.$btnPane.height() }).appendTo(n.$box); n.$overlay.one("click", function () { return i.trigger(g), !1 }); var o = p("<form/>", { action: "", html: e }).on("submit", function () { return i.trigger(c), !1 }).on("reset", function () { return i.trigger(g), !1 }).on("submit reset", function () { n.o.autogrowOnEnter && (n.autogrowOnEnterDontClose = !1) }), s = p("<div/>", { class: r + "modal-box", html: o }).css({ top: "-" + n.$btnPane.outerHeight() + "px", opacity: 0 }).appendTo(i).animate({ top: 0, opacity: 1 }, 100); return p("<span/>", { text: t, class: r + "modal-title" }).prependTo(s), i.height(s.outerHeight() + 10), p("input:first", s).focus(), n.buildModalBtn("submit", s), n.buildModalBtn("reset", s), p(h).trigger("scroll"), i }, buildModalBtn: function (t, e) { var n = this.o.prefix; return p("<button/>", { class: n + "modal-button " + n + "modal-" + t, type: t, text: this.lang[t] || t }).appendTo(p("form", e)) }, closeModal: function () { var t = this, e = t.o.prefix; t.$btnPane.removeClass(e + "disable"), t.$overlay.off(); var n = p("." + e + "modal-box", t.$box); n.animate({ top: "-" + n.height() }, 100, function () { n.parent().remove(), t.hideOverlay() }), t.restoreRange() }, openModalInsert: function (t, e, n) { var s = this, a = s.o.prefix, l = s.lang, u = ""; return p.each(e, function (t, e) { var n = e.label, r = e.name || t, i = e.attributes || {}, o = Object.keys(i).map(function (t) { return t + '="' + i[t] + '"' }).join(" "); u += '<label><input type="' + (e.type || "text") + '" name="' + r + '" value="' + (e.value || "").replace(/"/g, "&quot;") + '"' + o + '><span class="' + a + 'input-infos"><span>' + (n ? l[n] ? l[n] : n : l[t] ? l[t] : t) + "</span></span></label>" }), s.openModal(t, u).on(c, function () { var r = p("form", p(this)), i = !0, o = {}; p.each(e, function (t, e) { var n = p('input[name="' + t + '"]', r); "checkbox" === n.attr("type").toLowerCase() ? o[t] = n.is(":checked") : o[t] = p.trim(n.val()), e.required && "" === o[t] ? (i = !1, s.addErrorOnModalField(n, s.lang.required)) : e.pattern && !e.pattern.test(o[t]) && (i = !1, s.addErrorOnModalField(n, e.patternError)) }), i && (s.restoreRange(), n(o, e) && (s.syncCode(), s.$c.trigger("tbwchange"), s.closeModal(), p(this).off(c))) }).one(g, function () { p(this).off(c), s.closeModal() }) }, addErrorOnModalField: function (t, e) { var n = this.o.prefix, r = t.parent(); t.on("change keyup", function () { r.removeClass(n + "input-error") }), r.addClass(n + "input-error").find("input+span").append(p("<span/>", { class: n + "msg-error", text: e })) }, getDefaultImgDblClickHandler: function () { var n = this; return function () { var e = p(this), t = e.attr("src"); return 0 === t.indexOf("data:image") && (t = "(Base64)"), n.openModalInsert(n.lang.insertImage, { url: { label: "URL", value: t, required: !0 }, alt: { label: n.lang.description, value: e.attr("alt") } }, function (t) { return "(Base64)" !== t.src && e.attr({ src: t.src }), e.attr({ alt: t.alt }), !0 }), !1 } }, saveRange: function () { var t = this.doc.getSelection(); if (this.range = null, t.rangeCount) { var e, n = this.range = t.getRangeAt(0), r = this.doc.createRange(); r.selectNodeContents(this.$ed[0]), r.setEnd(n.startContainer, n.startOffset), e = (r + "").length, this.metaRange = { start: e, end: e + (n + "").length } } }, restoreRange: function () { var t, e = this.metaRange, n = this.range, r = this.doc.getSelection(); if (n) { if (e && e.start !== e.end) { var i, o = 0, s = [this.$ed[0]], a = !1, l = !1; for (t = this.doc.createRange(); !l && (i = s.pop());)if (3 === i.nodeType) { var u = o + i.length; !a && e.start >= o && e.start <= u && (t.setStart(i, e.start - o), a = !0), a && e.end >= o && e.end <= u && (t.setEnd(i, e.end - o), l = !0), o = u } else for (var c = i.childNodes, f = c.length; 0 < f;)f -= 1, s.push(c[f]) } r.removeAllRanges(), r.addRange(t || n) } }, getRangeText: function () { return this.range + "" }, updateButtonPaneStatus: function () { var o = this, s = o.o.prefix, t = o.getTagsRecursive(o.doc.getSelection().focusNode), a = s + "active-button " + s + "active"; p("." + s + "active-button", o.$btnPane).removeClass(a), p.each(t, function (t, e) { var n = o.tagToButton[e.toLowerCase()], r = p("." + s + n + "-button", o.$btnPane); if (0 < r.length) r.addClass(a); else try { var i = (r = p("." + s + "dropdown ." + s + n + "-dropdown-button", o.$box)).parent().data("dropdown"); p("." + s + i + "-button", o.$box).addClass(a) } catch (t) { } }) }, getTagsRecursive: function (n, r) { var i = this; if (r = r || (n && n.tagName ? [n.tagName] : []), !n || !n.parentNode) return r; var t = (n = n.parentNode).tagName; return "DIV" === t ? r : ("P" === t && "" !== n.style.textAlign && r.push(n.style.textAlign), p.each(i.tagHandlers, function (t, e) { r = r.concat(e(n, i)) }), r.push(t), i.getTagsRecursive(n, r).filter(function (t) { return null != t })) }, initPlugins: function () { var n = this; n.loadedPlugins = [], p.each(p.trumbowyg.plugins, function (t, e) { (!e.shouldInit || e.shouldInit(n)) && (e.init(n), e.tagHandler && n.tagHandlers.push(e.tagHandler), n.loadedPlugins.push(e)) }) }, destroyPlugins: function () { p.each(this.loadedPlugins, function (t, e) { e.destroy && e.destroy() }) } } }(navigator, window, document, jQuery), function (t) { "use strict"; function u(t) { for (var e = "", n = t.length - 1; 0 <= n; n -= 1)e += t.charAt(n); return e } t.extend(!0, t.trumbowyg, { plugins: { cleanPaste: { init: function (n) { n.pasteHandlers.push(function () { try { var e = n.$ed.html(); setTimeout(function () { var t = n.$ed.html(); t = function (t, e) { var n, r, i, o = "", s = ""; for (n = 0; e.charAt(n) === t.charAt(n); n += 1)o += e.charAt(n); for (var a = n; 0 <= a; a -= 1) { if ("<" === t.charAt(a)) { n = a, o = t.substring(0, n); break } if (">" === t.charAt(a)) break } for (e = u(e), t = u(t), r = 0; e.charAt(r) === t.charAt(r); r += 1)s += e.charAt(r); for (var l = r; 0 <= l; l -= 1) { if (">" === t.charAt(l)) { r = l, s = t.substring(0, r); break } if ("<" === t.charAt(l)) break } if (s = u(s), n === e.length - r) return !1; for (i = (i = (i = (i = (i = (i = (i = (i = (i = (e = u(e)).substring(n, e.length - r)).replace(/<[^> ]*/g, function (t) { return t.toLowerCase() }).replace(/<[^>]*>/g, function (t) { return t.replace(/ [^=]+=/g, function (t) { return t.toLowerCase() }) }).replace(/<[^>]*>/g, function (t) { return t.replace(/( [^=]+=)([^"][^ >]*)/g, '$1"$2"') })).replace(/<b(\s+|>)/g, "<strong$1")).replace(/<\/b(\s+|>)/g, "</strong$1")).replace(/<i(\s+|>)/g, "<em$1")).replace(/<\/i(\s+|>)/g, "</em$1")).replace(/<!(?:--[\s\S]*?--\s*)?>\s*/g, "")).replace(/&nbsp;/gi, " ")).replace(/ <\//gi, "</"); -1 !== i.indexOf("  ");)i = i.split("  ").join(" "); return o + (i = (i = (i = (i = (i = (i = i.replace(/^\s*|\s*$/g, "")).replace(/<[^>]*>/g, function (t) { return t.replace(/ ([^=]+)="[^"]*"/g, function (t, e) { return -1 !== ["alt", "href", "src", "title"].indexOf(e) ? t : "" }) })).replace(/<\?xml[^>]*>/g, "")).replace(/<[^ >]+:[^>]*>/g, "")).replace(/<\/[^ >]+:[^>]*>/g, "")).replace(/<(div|span|style|meta|link){1}.*?>/gi, "")) + s }(e, t), n.$ed.html(t) }, 0) } catch (t) { } }) } } } }) }(jQuery), function (s) { "use strict"; var e = function () { return "undefined" != typeof FileReader }; s.extend(!0, s.trumbowyg, { langs: { en: { base64: "Image as base64", file: "File", errFileReaderNotSupported: "FileReader is not supported by your browser.", errInvalidImage: "Invalid image file." }, fr: { base64: "Image en base64", file: "Fichier" }, cs: { base64: "Vložit obrázek", file: "Soubor" }, zh_cn: { base64: "图片（Base64编码）", file: "文件" }, nl: { errFileReaderNotSupported: "Uw browser ondersteunt deze functionaliteit niet.", errInvalidImage: "De gekozen afbeelding is ongeldig." }, ru: { base64: "Изображение как код в base64", file: "Файл", errFileReaderNotSupported: "FileReader не поддерживается вашим браузером.", errInvalidImage: "Недопустимый файл изображения." }, ja: { base64: "画像 (Base64形式)", file: "ファイル", errFileReaderNotSupported: "あなたのブラウザーはFileReaderをサポートしていません", errInvalidImage: "画像形式が正しくありません" } }, plugins: { base64: { shouldInit: e, init: function (o) { var t = { isSupported: e, fn: function () { o.saveRange(); var e, i = o.openModalInsert(o.lang.base64, { file: { type: "file", required: !0, attributes: { accept: "image/*" } }, alt: { label: "description", value: o.getRangeText() } }, function (n) { var r = new FileReader; r.onloadend = function (t) { var e; e = t.target.result, /^data:image\/[a-z]?/i.test(e) ? (o.execCmd("insertImage", r.result), s(['img[src="', r.result, '"]:not([alt])'].join(""), o.$box).attr("alt", n.alt), o.closeModal()) : o.addErrorOnModalField(s("input[type=file]", i), o.lang.errInvalidImage) }, r.readAsDataURL(e) }); s("input[type=file]").on("change", function (t) { e = t.target.files[0] }) } }; o.addBtnDef("base64", t) } } } }) }(jQuery), function (n) { "use strict"; var r = { onClick: function () { } }; n.extend(!0, n.trumbowyg, { langs: { en: { myplugin: "My plugin" } }, plugins: { myplugin: { init: function (t) { var e; t.o.plugins.myplugin = n.extend(!0, {}, r, t.o.plugins.myplugin || {}), t.pasteHandlers.push(function (t) { }), t.addBtnDef("math", (e = t, { fn: function () { e.o.onMathClick() } })) }, tagHandler: function (t, e) { return [] }, destroy: function () { } } } }) }(jQuery), function () { function p() { } function e(n) { var r = n.length - 1; return function () { var t = m.call(arguments, 0, r), e = m.call(arguments, r); return n.apply(this, t.concat([e])) } } function n(t) { return e(function (e, n) { "function" != typeof e && (e = y(e)); return t.call(this, function (t) { return e.apply(t, [t].concat(n)) }) }) } function i(t) { var e = m.call(arguments, 1); return function () { return t.apply(this, e) } } function l(t, e) { if (!e) throw new Error("prayer failed: " + t) } function a(t) { l("a direction was passed", -1 === t || t === b) } function o(t, e, n) { l("a parent is always present", t), l("leftward is properly set up", e ? e[b] === n && e.parent === t : t.ends[-1] === n), l("rightward is properly set up", n ? n[-1] === e && n.parent === t : t.ends[b] === e) } function r() { window.console && console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide') } function s(t) { return r(), At(t) } function t(s) { function a(t) { var e, n; return t && t.nodeType ? (n = (e = _(t).children(".mq-root-block").attr(Mt)) && x.byId[e].controller) ? l[n.KIND_OF_MQ](n) : null : null } function e(t, e) { var n, r, i; for (n in e && e.handlers && (e.handlers = { fns: e.handlers, APIClasses: l }), e) e.hasOwnProperty(n) && (r = e[n], i = C[n], t[n] = i ? i(r) : r) } var l, t, n; if (!(M <= s && s <= D)) throw "Only interface versions between " + M + " and " + D + " supported. You specified: " + s; for (n in l = {}, a.L = -1, a.R = b, a.saneKeyboardEvents = I, a.config = function (t) { return e(L.p, t), this }, a.registerEmbed = function (t, e) { if (!/^[a-z][a-z0-9]*$/i.test(t)) throw "Embed name must start with letter and be only letters and digits"; N[t] = e }, t = l.AbstractMathQuill = v(P, function (t) { t.init = function (t) { this.__controller = t, this.__options = t.options, this.id = t.id, this.data = t.data }, t.__mathquillify = function (t) { var e, n = this.__controller, r = n.root, i = n.container; n.createTextarea(), e = i.addClass(t).contents().detach(), r.jQ = _('<span class="mq-root-block"/>').attr(Mt, r.id).appendTo(i), this.latex(e.text()), this.revert = function () { return i.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(e) } }, t.config = function (t) { return e(this.__options, t), this }, t.el = function () { return this.__controller.container[0] }, t.text = function () { return this.__controller.exportText() }, t.latex = function (t) { return 0 < arguments.length ? (this.__controller.renderLatexMath(t), this.__controller.blurred && this.__controller.cursor.hide().parent.blur(), this) : this.__controller.exportLatex() }, t.html = function () { return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g, "").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i, "").replace(/ mq-hasCursor|mq-hasCursor ?/, "").replace(/ class=(""|(?= |>))/g, "") }, t.reflow = function () { return this.__controller.root.postOrder("reflow"), this } }), a.prototype = t.prototype, l.EditableField = v(t, function (t, e) { t.__mathquillify = function () { return e.__mathquillify.apply(this, arguments), this.__controller.editable = !0, this.__controller.delegateMouseEvents(), this.__controller.editablesTextareaEvents(), this }, t.focus = function () { return this.__controller.textarea.focus(), this }, t.blur = function () { return this.__controller.textarea.blur(), this }, t.write = function (t) { return this.__controller.writeLatex(t), this.__controller.scrollHoriz(), this.__controller.blurred && this.__controller.cursor.hide().parent.blur(), this }, t.empty = function () { var t = this.__controller.root, e = this.__controller.cursor; return t.eachChild("postOrder", "dispose"), t.ends[-1] = t.ends[b] = 0, t.jQ.empty(), delete e.selection, e.insAtRightEnd(t), this }, t.cmd = function (t) { var e, n = this.__controller.notify(), r = n.cursor; return /^\\[a-z]+$/i.test(t) ? (t = t.slice(1), (e = T[t]) && (t = e(t), r.selection && t.replaces(r.replaceSelection()), t.createLeftOf(r.show()), this.__controller.scrollHoriz())) : r.parent.write(r, t), n.blurred && r.hide().parent.blur(), this }, t.select = function () { var t = this.__controller; for (t.notify("move").cursor.insAtRightEnd(t.root); t.cursor[-1];)t.selectLeft(); return this }, t.clearSelection = function () { return this.__controller.cursor.clearSelection(), this }, t.moveToDirEnd = function (t) { return this.__controller.notify("move").cursor.insAtDirEnd(t, this.__controller.root), this }, t.moveToLeftEnd = function () { return this.moveToDirEnd(-1) }, t.moveToRightEnd = function () { return this.moveToDirEnd(b) }, t.keystroke = function (t) { var e; for (t = t.replace(/^\s+|\s+$/g, "").split(/\s+/), e = 0; e < t.length; e += 1)this.__controller.keystroke(t[e], { preventDefault: p }); return this }, t.typedText = function (t) { for (var e = 0; e < t.length; e += 1)this.__controller.typedText(t.charAt(e)); return this }, t.dropEmbedded = function (t, e, n) { var r = t - _(window).scrollLeft(), i = e - _(window).scrollTop(), o = document.elementFromPoint(r, i); this.__controller.seek(_(o), t, e), Ot().setOptions(n).createLeftOf(this.__controller.cursor) }, t.clickAt = function (t, e, n) { n = n || document.elementFromPoint(t, e); var r = this.__controller, i = r.root; return Pt.contains(i.jQ[0], n) || (n = i.jQ[0]), r.seek(_(n), t + pageXOffset, e + pageYOffset), r.blurred && this.focus(), this }, t.ignoreNextMousedown = function (t) { return this.__controller.cursor.options.ignoreNextMousedown = t, this } }), (a.EditableField = function () { throw "wtf don't call me, I'm 'abstract'" }).prototype = l.EditableField.prototype, A) !function (i, t) { var o = l[i] = t(l); (a[i] = function (t, e) { var n, r = a(t); return r instanceof o || !t || !t.nodeType ? r : ((n = O(o.RootBlock(), _(t), L())).KIND_OF_MQ = i, o(n).__mathquillify(e, s)) }).prototype = o.prototype }(n, A[n]); return a } function u(t) { var e, n = "moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "); for (e = 0; e < n.length; e += 1)!function (e) { t[e] = function (t) { this.controller.handle(e, t) } }(n[e]); t.reflow = function () { this.controller.handle("reflow"), this.controller.handle("edited"), this.controller.handle("edit") } } function c(t, e, n) { return v(K, { ctrlSeq: t, htmlTemplate: "<" + e + " " + n + ">&0</" + e + ">" }) } function f(t) { var e = this.parent, n = t; do { if (n[b]) return t.insLeftOf(e); n = n.parent.parent } while (n !== e); t.insRightOf(e) } function h(t, e) { t.jQadd = function () { e.jQadd.apply(this, arguments), this.delimjQs = this.jQ.children(":first").add(this.jQ.children(":last")), this.contentjQ = this.jQ.children(":eq(1)") }, t.reflow = function () { var t = this.contentjQ.outerHeight() / parseFloat(this.contentjQ.css("fontSize")); ht(this.delimjQs, Dt(1 + .2 * (t - 1), 1.2), 1.2 * t) } } function d(t, e) { e = e || t; var n = jt[t], r = jt[e]; k[t] = i(kt, -1, t, n, e, r), k[n] = i(kt, b, t, n, e, r) } var g, m, y, v, b, _, w, x, E, T, k, j, S, O, A, L, C, P, N, M, D, R, q, I, B, H, U, F, Y, z, $, W, K, V, X, Q, G, J, Z, tt, et, nt, rt, it, ot, st, at, lt, ut, ct, ft, ht, dt, pt, gt, mt, yt, vt, bt, _t, wt, xt, Et, Tt, kt, jt, St, Ot, At, Lt, Ct, Pt = window.jQuery, Nt = "mathquill-command-id", Mt = "mathquill-block-id", Dt = Math.min, Rt = Math.max; if (!Pt) throw "MathQuill requires jQuery 1.5.2+ to be loaded first"; for (it in m = [].slice, y = e(function (n, r) { return e(function (t, e) { if (n in t) return t[n].apply(t, r.concat(e)) }) }), v = function (t, l, e) { function u(t) { return "object" == typeof t } function c(t) { return "function" == typeof t } function f() { } return function e(n, t) { function r() { var t = new i; return c(t.init) && t.init.apply(t, arguments), t } function i() { } var o, s, a; return void 0 === t && (t = n, n = Object), r.Bare = i, o = f.prototype = n.prototype, ((s = i.prototype = r.prototype = r.p = new f).constructor = r).extend = function (t) { return e(r, t) }, (r.open = function (t) { if (a = {}, c(t) ? a = t.call(r, s, o, r, n) : u(t) && (a = t), u(a)) for (var e in a) l.call(a, e) && (s[e] = a[e]); return c(s.init) || (s.init = n), r })(t) } }(0, {}.hasOwnProperty), -1, b = 1, _ = v(Pt, function (t) { t.insDirOf = function (t, e) { return -1 === t ? this.insertBefore(e.first()) : this.insertAfter(e.last()) }, t.insAtDirEnd = function (t, e) { return -1 === t ? this.prependTo(e) : this.appendTo(e) } }), w = v(function (t) { t.parent = 0, t[-1] = 0, t[b] = 0, t.init = function (t, e, n) { this.parent = t, this[-1] = e, this[b] = n }, this.copy = function (t) { return w(t.parent, t[-1], t[b]) } }), x = v(function (t) { t[-1] = 0, t[b] = 0; var e = t.parent = 0; this.byId = {}, t.init = function () { this.id = e += 1, (x.byId[this.id] = this).ends = {}, this.ends[-1] = 0, this.ends[b] = 0 }, t.dispose = function () { delete x.byId[this.id] }, t.toString = function () { return "{{ MathQuill Node #" + this.id + " }}" }, t.jQ = _(), t.jQadd = function (t) { return this.jQ = this.jQ.add(t) }, t.jQize = function (t) { function r(t) { var e, n; for (t.getAttribute && (e = t.getAttribute("mathquill-command-id"), n = t.getAttribute("mathquill-block-id"), e && x.byId[e].jQadd(t), n && x.byId[n].jQadd(t)), t = t.firstChild; t; t = t.nextSibling)r(t) } var e; for (t = _(t || this.html()), e = 0; e < t.length; e += 1)r(t[e]); return t }, t.createDir = function (t, e) { a(t); return this.jQize(), this.jQ.insDirOf(t, e.jQ), e[t] = this.adopt(e.parent, e[-1], e[b]), this }, t.createLeftOf = function (t) { return this.createDir(-1, t) }, t.selectChildren = function (t, e) { return S(t, e) }, t.bubble = n(function (t) { var e; for (e = this; e && !1 !== t(e); e = e.parent); return this }), t.postOrder = n(function (n) { return function t(e) { e.eachChild(t), n(e) }(this), this }), t.isEmpty = function () { return 0 === this.ends[-1] && 0 === this.ends[b] }, t.isStyleBlock = function () { return !1 }, t.children = function () { return E(this.ends[-1], this.ends[b]) }, t.eachChild = function () { var t = this.children(); return t.each.apply(t, arguments), this }, t.foldChildren = function (t, e) { return this.children().fold(t, e) }, t.withDirAdopt = function (t, e, n, r) { return E(this, this).withDirAdopt(t, e, n, r), this }, t.adopt = function (t, e, n) { return E(this, this).adopt(t, e, n), this }, t.disown = function () { return E(this, this).disown(), this }, t.remove = function () { return this.jQ.remove(), this.postOrder("dispose"), this.disown() } }), E = v(function (t) { t.init = function (t, e, n) { if (n === g && (n = -1), a(n), l("no half-empty fragments", !t == !e), this.ends = {}, t) { l("withDir is passed to Fragment", t instanceof x), l("oppDir is passed to Fragment", e instanceof x), l("withDir and oppDir have the same parent", t.parent === e.parent), this.ends[n] = t, this.ends[-n] = e; var r = this.fold([], function (t, e) { return t.push.apply(t, e.jQ.get()), t }); this.jQ = this.jQ.add(r) } }, t.jQ = _(), t.withDirAdopt = function (t, e, n, r) { return -1 === t ? this.adopt(e, n, r) : this.adopt(e, r, n) }, t.adopt = function (e, n, t) { var r, i; return o(e, n, t), this.disowned = !1, (r = this.ends[-1]) && (i = this.ends[b], n || (e.ends[-1] = r), t ? t[-1] = i : e.ends[b] = i, this.ends[b][b] = t, this.each(function (t) { t[-1] = n, t.parent = e, n && (n[b] = t), n = t })), this }, t.disown = function () { var t, e, n = this.ends[-1]; return !n || this.disowned || (this.disowned = !0, t = this.ends[b], o(e = n.parent, n[-1], n), o(e, t, t[b]), n[-1] ? n[-1][b] = t[b] : e.ends[-1] = t[b], t[b] ? t[b][-1] = n[-1] : e.ends[b] = n[-1]), this }, t.remove = function () { return this.jQ.remove(), this.each("postOrder", "dispose"), this.disown() }, t.each = n(function (t) { var e = this.ends[-1]; if (!e) return this; for (; e !== this.ends[b][b] && !1 !== t(e); e = e[b]); return this }), t.fold = function (e, n) { return this.each(function (t) { e = n.call(this, e, t) }), e } }), T = {}, k = {}, j = v(w, function (t) { t.init = function (t, e) { this.parent = t, this.options = e; var n = this.jQ = this._jQ = _('<span class="mq-cursor">&#8203;</span>'); this.blink = function () { n.toggleClass("mq-blink") }, this.upDownCache = {} }, t.show = function () { return this.jQ = this._jQ.removeClass("mq-blink"), "intervalId" in this ? clearInterval(this.intervalId) : (this[b] ? this.selection && this.selection.ends[-1][-1] === this[-1] ? this.jQ.insertBefore(this.selection.jQ) : this.jQ.insertBefore(this[b].jQ.first()) : this.jQ.appendTo(this.parent.jQ), this.parent.focus()), this.intervalId = setInterval(this.blink, 500), this }, t.hide = function () { return "intervalId" in this && clearInterval(this.intervalId), delete this.intervalId, this.jQ.detach(), this.jQ = _(), this }, t.withDirInsertAt = function (t, e, n, r) { var i = this.parent; this.parent = e, this[t] = n, this[-t] = r, i !== e && i.blur && i.blur(this) }, t.insDirOf = function (t, e) { return a(t), this.jQ.insDirOf(t, e.jQ), this.withDirInsertAt(t, e.parent, e[t], e), this.parent.jQ.addClass("mq-hasCursor"), this }, t.insLeftOf = function (t) { return this.insDirOf(-1, t) }, t.insRightOf = function (t) { return this.insDirOf(b, t) }, t.insAtDirEnd = function (t, e) { return a(t), this.jQ.insAtDirEnd(t, e.jQ), this.withDirInsertAt(t, e, 0, e.ends[t]), e.focus(), this }, t.insAtLeftEnd = function (t) { return this.insAtDirEnd(-1, t) }, t.insAtRightEnd = function (t) { return this.insAtDirEnd(b, t) }, t.jumpUpDown = function (t, e) { var n, r; this.upDownCache[t.id] = w.copy(this), (n = this.upDownCache[e.id]) ? n[b] ? this.insLeftOf(n[b]) : this.insAtRightEnd(n.parent) : (r = this.offset().left, e.seek(r, this)) }, t.offset = function () { var t = this.jQ.removeClass("mq-cursor").offset(); return this.jQ.addClass("mq-cursor"), t }, t.unwrapGramp = function () { var e = this.parent.parent, n = e.parent, r = e[b], i = e[-1]; if (e.disown().eachChild(function (t) { t.isEmpty() || (t.children().adopt(n, i, r).each(function (t) { t.jQ.insertBefore(e.jQ.first()) }), i = t.ends[b]) }), !this[b]) if (this[-1]) this[b] = this[-1][b]; else for (; !this[b];) { if (this.parent = this.parent[b], !this.parent) { this[b] = e[b], this.parent = n; break } this[b] = this.parent.ends[-1] } this[b] ? this.insLeftOf(this[b]) : this.insAtRightEnd(n), e.jQ.remove(), e[-1].siblingDeleted && e[-1].siblingDeleted(this.options, b), e[b].siblingDeleted && e[b].siblingDeleted(this.options, -1) }, t.startSelection = function () { var t, e = this.anticursor = w.copy(this), n = e.ancestors = {}; for (t = e; t.parent; t = t.parent)n[t.parent.id] = t }, t.endSelection = function () { delete this.anticursor }, t.select = function () { var t, e, n, r, i, o, s, a = this.anticursor; if (this[-1] === a[-1] && this.parent === a.parent) return !1; for (t = this; t.parent; t = t.parent)if (t.parent.id in a.ancestors) { e = t.parent; break } if (l("cursor and anticursor in the same tree", e), n = a.ancestors[e.id], o = b, t[-1] !== n) for (s = t; s; s = s[b])if (s[b] === n[b]) { o = -1, r = t, i = n; break } return o === b && (r = n, i = t), r instanceof w && (r = r[b]), i instanceof w && (i = i[-1]), this.hide().selection = e.selectChildren(r, i), this.insDirOf(o, this.selection.ends[o]), this.selectionChanged(), !0 }, t.clearSelection = function () { return this.selection && (this.selection.clear(), delete this.selection, this.selectionChanged()), this }, t.deleteSelection = function () { this.selection && (this[-1] = this.selection.ends[-1][-1], this[b] = this.selection.ends[b][b], this.selection.remove(), this.selectionChanged(), delete this.selection) }, t.replaceSelection = function () { var t = this.selection; return t && (this[-1] = t.ends[-1][-1], this[b] = t.ends[b][b], delete this.selection), t } }), S = v(E, function (t, e) { t.init = function () { e.init.apply(this, arguments), this.jQ = this.jQ.wrapAll('<span class="mq-selection"></span>').parent() }, t.adopt = function () { return this.jQ.replaceWith(this.jQ = this.jQ.children()), e.adopt.apply(this, arguments) }, t.clear = function () { return this.jQ.replaceWith(this.jQ[0].childNodes), this }, t.join = function (n) { return this.fold("", function (t, e) { return t + e[n]() }) } }), O = v(function (t) { t.init = function (t, e, n) { this.id = t.id, this.data = {}, this.root = t, this.container = e, this.options = n, (t.controller = this).cursor = t.cursor = j(t, n) }, t.handle = function (t, e) { var n, r = this.options.handlers; r && r.fns[t] && (n = r.APIClasses[this.KIND_OF_MQ](this), -1 === e || e === b ? r.fns[t](e, n) : r.fns[t](n)) }; var e = []; this.onNotify = function (t) { e.push(t) }, t.notify = function () { for (var t = 0; t < e.length; t += 1)e[t].apply(this.cursor, arguments); return this } }), A = {}, L = v(), C = {}, P = v(), N = {}, s.prototype = P.p, s.VERSION = "v0.10.1", s.interfaceVersion = function (t) { if (1 !== t) throw "Only interface version 1 supported. You specified: " + t; return (r = function () { window.console && console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide') })(), s }, M = (s.getInterface = t).MIN = 1, D = t.MAX = 2, s.noConflict = function () { return window.MathQuill = R, s }, R = window.MathQuill, window.MathQuill = s, q = v(function (t, e, a) { function n(t, e) { throw "Parse Error: " + e + " at " + (t = t ? "'" + t + "'" : "EOF") } var r, i, o; t.init = function (t) { this._ = t }, t.parse = function (t) { return this.skip(o)._("" + t, function (t, e) { return e }, n) }, t.or = function (i) { l("or is passed a parser", i instanceof a); var t = this; return a(function (e, n, r) { return t._(e, n, function (t) { return i._(e, n, r) }) }) }, t.then = function (o) { var e = this; return a(function (t, r, i) { return e._(t, function (t, e) { var n = o instanceof a ? o : o(e); return l("a parser is returned", n instanceof a), n._(t, r, i) }, i) }) }, t.many = function () { var s = this; return a(function (n, t, e) { function r(t, e) { return n = t, o.push(e), !0 } function i() { return !1 } for (var o = []; s._(n, r, i);); return t(n, o) }) }, t.times = function (c, f) { arguments.length < 2 && (f = c); var h = this; return a(function (n, t, e) { function r(t, e) { return l.push(e), n = t, !0 } function i(t, e) { return s = e, n = t, !1 } function o(t, e) { return !1 } var s, a, l = [], u = !0; for (a = 0; a < c; a += 1)if (!(u = h._(n, r, i))) return e(n, s); for (; a < f && u; a += 1)u = h._(n, r, o); return t(n, l) }) }, t.result = function (t) { return this.then(i(t)) }, t.atMost = function (t) { return this.times(0, t) }, t.atLeast = function (t) { var n = this; return n.times(t).then(function (e) { return n.many().map(function (t) { return e.concat(t) }) }) }, t.map = function (e) { return this.then(function (t) { return i(e(t)) }) }, t.skip = function (e) { return this.then(function (t) { return e.result(t) }) }, this.string = function (i) { var o = i.length, s = "expected '" + i + "'"; return a(function (t, e, n) { var r = t.slice(0, o); return r === i ? e(t.slice(o), r) : n(t, s) }) }, r = this.regex = function (o) { l("regexp parser is anchored", "^" === o.toString().charAt(1)); var s = "expected " + o; return a(function (t, e, n) { var r, i = o.exec(t); return i ? (r = i[0], e(t.slice(r.length), r)) : n(t, s) }) }, i = a.succeed = function (n) { return a(function (t, e) { return e(t, n) }) }, a.fail = function (r) { return a(function (t, e, n) { return n(t, r) }) }, a.letter = r(/^[a-z]/i), a.letters = r(/^[a-z]*/i), a.digit = r(/^[0-9]/), a.digits = r(/^[0-9]*/), a.whitespace = r(/^\s+/), a.optWhitespace = r(/^\s*/), a.any = a(function (t, e, n) { return t ? e(t.slice(1), t.charAt(0)) : n(t, "expected any character") }), a.all = a(function (t, e, n) { return e("", t) }), o = a.eof = a(function (t, e, n) { return t ? n(t, "expected EOF") : e(t, t) }) }), Ct = { 8: "Backspace", 9: "Tab", 10: "Enter", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 20: "CapsLock", 27: "Esc", 32: "Spacebar", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 45: "Insert", 46: "Del", 144: "NumLock" }, I = function (t, o) { function n(t) { d = t, clearTimeout(a), a = setTimeout(t) } function e(e) { n(function (t) { d = p, clearTimeout(a), e(t) }) } function r() { var t, e, n, r, i; o.keystroke((n = (t = u).which || t.keyCode, r = Ct[n], i = [], t.ctrlKey && i.push("Ctrl"), t.originalEvent && t.originalEvent.metaKey && i.push("Meta"), t.altKey && i.push("Alt"), t.shiftKey && i.push("Shift"), e = r || String.fromCharCode(n), i.length || r ? (i.push(e), i.join("-")) : e), u) } function i() { if (!("selectionStart" in (e = f[0]) && e.selectionStart !== e.selectionEnd)) { var t = f.val(); 1 === t.length ? (f.val(""), o.typedText(t)) : t && f[0].select && f[0].select() } var e } function s() { var t = f.val(); f.val(""), t && o.paste(t) } var a, l, u = null, c = null, f = Pt(t), h = Pt(o.container || f), d = p; return h.bind("keydown keypress input keyup focusout paste", function (t) { d(t) }), l = !1, h.bind({ keydown: function (t) { u = t, c = null, l && e(function (t) { t && "focusout" === t.type || !f[0].select || f[0].select() }), r() }, keypress: function (t) { u && c && r(), c = t, n(i) }, keyup: function (t) { u && !c && n(i) }, focusout: function () { u = c = null }, cut: function () { e(function () { o.cut() }) }, copy: function () { e(function () { o.copy() }) }, paste: function (t) { f.focus(), n(s) } }), { select: function (t) { d(), d = p, clearTimeout(a), f.val(t), t && f[0].select && f[0].select(), l = !!t } } }, O.open(function (t, e) { t.exportText = function () { return this.root.foldChildren("", function (t, e) { return t + e.text() }) } }), O.open(function (t) { t.focusBlurEvents = function () { function t() { clearTimeout(n), o.selection && o.selection.jQ.addClass("mq-blur"), e() } function e() { o.hide().parent.blur(), r.container.removeClass("mq-focused"), _(window).unbind("blur", t) } var n, r = this, i = r.root, o = r.cursor; r.textarea.focus(function () { r.blurred = !1, clearTimeout(n), r.container.addClass("mq-focused"), o.parent || o.insAtRightEnd(i), o.selection ? (o.selection.jQ.removeClass("mq-blur"), r.selectionChanged()) : o.show() }).blur(function () { r.blurred = !0, n = setTimeout(function () { i.postOrder("intentionalBlur"), o.clearSelection().endSelection(), e() }), _(window).bind("blur", t) }), r.blurred = !0, o.hide().parent.blur() } }), O.open(function (t) { t.keystroke = function (t, e) { this.cursor.parent.keystroke(t, e, this) } }), x.open(function (t) { t.keystroke = function (t, e, n) { var r = n.cursor; switch (t) { case "Ctrl-Shift-Backspace": case "Ctrl-Backspace": n.ctrlDeleteDir(-1); break; case "Shift-Backspace": case "Backspace": n.backspace(); break; case "Esc": case "Tab": return void n.escapeDir(b, t, e); case "Shift-Tab": case "Shift-Esc": return void n.escapeDir(-1, t, e); case "End": n.notify("move").cursor.insAtRightEnd(r.parent); break; case "Ctrl-End": n.notify("move").cursor.insAtRightEnd(n.root); break; case "Shift-End": for (; r[b];)n.selectRight(); break; case "Ctrl-Shift-End": for (; r[b] || r.parent !== n.root;)n.selectRight(); break; case "Home": n.notify("move").cursor.insAtLeftEnd(r.parent); break; case "Ctrl-Home": n.notify("move").cursor.insAtLeftEnd(n.root); break; case "Shift-Home": for (; r[-1];)n.selectLeft(); break; case "Ctrl-Shift-Home": for (; r[-1] || r.parent !== n.root;)n.selectLeft(); break; case "Left": n.moveLeft(); break; case "Shift-Left": n.selectLeft(); break; case "Ctrl-Left": break; case "Right": n.moveRight(); break; case "Shift-Right": n.selectRight(); break; case "Ctrl-Right": break; case "Up": n.moveUp(); break; case "Down": n.moveDown(); break; case "Shift-Up": if (r[-1]) for (; r[-1];)n.selectLeft(); else n.selectLeft(); case "Shift-Down": if (r[b]) for (; r[b];)n.selectRight(); else n.selectRight(); case "Ctrl-Up": case "Ctrl-Down": break; case "Ctrl-Shift-Del": case "Ctrl-Del": n.ctrlDeleteDir(b); break; case "Shift-Del": case "Del": n.deleteForward(); break; case "Meta-A": case "Ctrl-A": for (n.notify("move").cursor.insAtRightEnd(n.root); r[-1];)n.selectLeft(); break; default: return }e.preventDefault(), n.scrollHoriz() }, t.moveOutOf = t.moveTowards = t.deleteOutOf = t.deleteTowards = t.unselectInto = t.selectOutOf = t.selectTowards = function () { l("overridden or never called on this node") } }), O.open(function (t) { function e(t, e) { var n = t.notify("upDown").cursor, r = e + "Into", i = e + "OutOf"; return n[b][r] ? n.insAtLeftEnd(n[b][r]) : n[-1][r] ? n.insAtRightEnd(n[-1][r]) : n.parent.bubble(function (t) { var e = t[i]; if (e && ("function" == typeof e && (e = t[i](n)), e instanceof x && n.jumpUpDown(t, e), !0 !== e)) return !1 }), t } this.onNotify(function (t) { "move" !== t && "upDown" !== t || this.show().clearSelection() }), t.escapeDir = function (t, e, n) { a(t); var r = this.cursor; if (r.parent !== this.root && n.preventDefault(), r.parent !== this.root) return r.parent.moveOutOf(t, r), this.notify("move") }, C.leftRightIntoCmdGoes = function (t) { if (t && "up" !== t && "down" !== t) throw '"up" or "down" required for leftRightIntoCmdGoes option, got "' + t + '"'; return t }, t.moveDir = function (t) { a(t); var e = this.cursor, n = e.options.leftRightIntoCmdGoes; return e.selection ? e.insDirOf(t, e.selection.ends[t]) : e[t] ? e[t].moveTowards(t, e, n) : e.parent.moveOutOf(t, e, n), this.notify("move") }, t.moveLeft = function () { return this.moveDir(-1) }, t.moveRight = function () { return this.moveDir(b) }, t.moveUp = function () { return e(this, "up") }, t.moveDown = function () { return e(this, "down") }, this.onNotify(function (t) { "upDown" !== t && (this.upDownCache = {}) }), this.onNotify(function (t) { "edit" === t && this.show().deleteSelection() }), t.deleteDir = function (t) { var e, n; return a(t), n = (e = this.cursor).selection, this.notify("edit"), n || (e[t] ? e[t].deleteTowards(t, e) : e.parent.deleteOutOf(t, e)), e[-1].siblingDeleted && e[-1].siblingDeleted(e.options, b), e[b].siblingDeleted && e[b].siblingDeleted(e.options, -1), e.parent.bubble("reflow"), this }, t.ctrlDeleteDir = function (t) { a(t); var e = this.cursor; return !e[t] || e.selection ? this.deleteDir(t) : (this.notify("edit"), -1 === t ? E(e.parent.ends[-1], e[-1]).remove() : E(e[b], e.parent.ends[b]).remove(), e.insAtDirEnd(t, e.parent), e[-1].siblingDeleted && e[-1].siblingDeleted(e.options, b), e[b].siblingDeleted && e[b].siblingDeleted(e.options, -1), e.parent.bubble("reflow"), this) }, t.backspace = function () { return this.deleteDir(-1) }, t.deleteForward = function () { return this.deleteDir(b) }, this.onNotify(function (t) { "select" !== t && this.endSelection() }), t.selectDir = function (t) { var e, n = this.notify("select").cursor, r = n.selection; a(t), n.anticursor || n.startSelection(), (e = n[t]) ? r && r.ends[t] === e && n.anticursor[-t] !== e ? e.unselectInto(t, n) : e.selectTowards(t, n) : n.parent.selectOutOf(t, n), n.clearSelection(), n.select() || n.show() }, t.selectLeft = function () { return this.selectDir(-1) }, t.selectRight = function () { return this.selectDir(b) } }), B = function () { function t(t) { var e, n = t[0] || $(); for (e = 1; e < t.length; e += 1)t[e].children().adopt(n, n.ends[b], 0); return n } var e = q.string, n = q.regex, r = q.letter, i = q.any, o = q.optWhitespace, s = q.succeed, a = q.fail, l = r.map(function (t) { return Z(t) }), u = n(/^[^${}\\_^]/).map(function (t) { return Y(t) }), c = n(/^[^\\a-eg-zA-Z]/).or(e("\\").then(n(/^[a-z]+/i).or(n(/^\s+/).result(" ")).or(i))).then(function (t) { var e = T[t]; return e ? e(t).parser() : a("unknown command: \\" + t) }).or(l).or(u), f = e("{").then(function () { return d }).skip(e("}")), h = o.then(f.or(c.map(function (t) { var e = $(); return t.adopt(e, 0, 0), e }))), d = h.many().map(t).skip(o), p = e("[").then(h.then(function (t) { return "]" !== t.join("latex") ? s(t) : a() }).many().map(t).skip(o)).skip(e("]")), g = d; return g.block = h, g.optBlock = p, g }(), O.open(function (t, e) { t.exportLatex = function () { return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi, "$1") }, t.writeLatex = function (t) { var e = this.notify("edit").cursor, n = q.all, r = q.eof, i = B.skip(r).or(n.result(!1)).parse(t); return i && !i.isEmpty() && (i.children().adopt(e.parent, e[-1], e[b]), i.jQize().insertBefore(e.jQ), e[-1] = i.ends[b], i.finalizeInsert(e.options, e), i.ends[b][b].siblingCreated && i.ends[b][b].siblingCreated(e.options, -1), i.ends[-1][-1].siblingCreated && i.ends[-1][-1].siblingCreated(e.options, b), e.parent.bubble("reflow")), this }, t.renderLatexMath = function (t) { var e, n, r = this.root, i = this.cursor, o = q.all, s = q.eof, a = B.skip(s).or(o.result(!1)).parse(t); r.eachChild("postOrder", "dispose"), r.ends[-1] = r.ends[b] = 0, a && a.children().adopt(r, 0, 0), e = r.jQ, a ? (n = a.join("html"), e.html(n), r.jQize(e.children()), r.finalizeInsert(i.options)) : e.empty(), delete i.selection, i.insAtRightEnd(r) }, t.renderLatexText = function (t) { var e, n, r, i, o, s, a, l, u = this.root, c = this.cursor; if (u.jQ.children().slice(1).remove(), u.eachChild("postOrder", "dispose"), u.ends[-1] = u.ends[b] = 0, delete c.selection, c.show().insAtRightEnd(u), e = q.regex, n = q.string, r = q.eof, i = q.all, o = n("$").then(B).skip(n("$").or(r)).map(function (t) { var e, n = X(c); return n.createBlocks(), e = n.ends[-1], t.children().adopt(e, 0, 0), n }), s = n("\\$").result("$").or(e(/^[^$]/)).map(Y), a = o.or(s).many().skip(r).or(i.result(!1)).parse(t)) { for (l = 0; l < a.length; l += 1)a[l].adopt(u, u.ends[b], 0); u.jQize().appendTo(u.jQ), u.finalizeInsert(c.options) } } }), O.open(function (t) { L.p.ignoreNextMousedown = p, t.delegateMouseEvents = function () { var c = this.root.jQ; this.container.bind("mousedown.mathquill", function (t) { function n(t) { e = _(t.target) } function r(t) { s.anticursor || s.startSelection(), o.seek(e, t.pageX, t.pageY).cursor.select(), e = g } var e, i = _(t.target).closest(".mq-root-block"), o = x.byId[i.attr(Mt) || c.attr(Mt)].controller, s = o.cursor, a = s.blink, l = o.textareaSpan, u = o.textarea; t.preventDefault(), t.target.unselectable = !0, s.options.ignoreNextMousedown(t) || (s.options.ignoreNextMousedown = p, o.blurred && (o.editable || i.prepend(l), u.focus()), s.blink = p, o.seek(_(t.target), t.pageX, t.pageY).cursor.startSelection(), i.mousemove(n), _(t.target.ownerDocument).mousemove(r).mouseup(function t(e) { s.blink = a, s.selection || (o.editable ? s.show() : l.detach()), i.unbind("mousemove", n), _(e.target.ownerDocument).unbind("mousemove", r).unbind("mouseup", t) })) }) } }), O.open(function (t) { t.seek = function (t, e, n) { var r, i, o, s = this.notify("select").cursor; return t && ((r = t.attr(Mt) || t.attr(Nt)) || (r = (i = t.parent()).attr(Mt) || i.attr(Nt))), l("nodeId is the id of some Node that exists", o = r ? x.byId[r] : this.root), s.clearSelection().show(), o.seek(e, s), this.scrollHoriz(), this } }), O.open(function (t) { t.scrollHoriz = function () { var t, e, n, r, i, o = this.cursor, s = o.selection, a = this.root.jQ[0].getBoundingClientRect(); if (s) if (r = (n = s.jQ[0].getBoundingClientRect()).left - (a.left + 20), i = n.right - (a.right - 20), s.ends[-1] === o[b]) if (r < 0) e = r; else { if (!(0 < i)) return; e = n.left - i < a.left + 20 ? r : i } else if (0 < i) e = i; else { if (!(r < 0)) return; e = n.right - r > a.right - 20 ? i : r } else if ((t = o.jQ[0].getBoundingClientRect().left) > a.right - 20) e = t - (a.right - 20); else { if (!(t < a.left + 20)) return; e = t - (a.left + 20) } this.root.jQ.stop().animate({ scrollLeft: "+=" + e }, 100) } }), O.open(function (t) { L.p.substituteTextarea = function () { return _("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0] }, t.createTextarea = function () { var t, e = this.textareaSpan = _('<span class="mq-textarea"></span>'), n = this.options.substituteTextarea(); if (!n.nodeType) throw "substituteTextarea() must return a DOM element, got " + n; n = this.textarea = _(n).appendTo(e), (t = this).cursor.selectionChanged = function () { t.selectionChanged() } }, t.selectionChanged = function () { var t = this; dt(t.container[0]), t.textareaSelectionTimeout === g && (t.textareaSelectionTimeout = setTimeout(function () { t.setTextareaSelection() })) }, t.setTextareaSelection = function () { this.textareaSelectionTimeout = g; var t = ""; this.cursor.selection && (t = this.cursor.selection.join("latex"), this.options.statelessClipboard && (t = "$" + t + "$")), this.selectFn(t) }, t.staticMathTextareaEvents = function () { function t() { i.detach(), e.blurred = !0 } var e = this, n = (e.root, e.cursor), r = e.textarea, i = e.textareaSpan; this.container.prepend(Pt('<span class="mq-selectable">').text("$" + e.exportLatex() + "$")), e.blurred = !0, r.bind("cut paste", !1).bind("copy", function () { e.setTextareaSelection() }).focus(function () { e.blurred = !1 }).blur(function () { n.selection && n.selection.clear(), setTimeout(t) }), e.selectFn = function (t) { r.val(t), t && r.select() } }, L.p.substituteKeyboardEvents = I, t.editablesTextareaEvents = function () { var t = this.textarea, e = this.textareaSpan, n = this.options.substituteKeyboardEvents(t, this); this.selectFn = function (t) { n.select(t) }, this.container.prepend(e), this.focusBlurEvents() }, t.typedText = function (t) { if ("\n" === t) return this.handle("enter"); var e = this.notify().cursor; e.parent.write(e, t), this.scrollHoriz() }, t.cut = function () { var t = this, e = t.cursor; e.selection && setTimeout(function () { t.notify("edit"), e.parent.bubble("reflow") }) }, t.copy = function () { this.setTextareaSelection() }, t.paste = function (t) { this.options.statelessClipboard && (t = "$" === t.slice(0, 1) && "$" === t.slice(-1) ? t.slice(1, -1) : "\\text{" + t + "}"), this.writeLatex(t).cursor.show() } }), H = v(x, function (t, e) { t.finalizeInsert = function (t, e) { this.postOrder("finalizeTree", t), this.postOrder("contactWeld", e), this.postOrder("blur"), this.postOrder("reflow"), this[b].siblingCreated && this[b].siblingCreated(t, -1), this[-1].siblingCreated && this[-1].siblingCreated(t, b), this.bubble("reflow") } }), U = v(H, function (t, r) { t.init = function (t, e, n) { r.init.call(this), this.ctrlSeq || (this.ctrlSeq = t), e && (this.htmlTemplate = e), n && (this.textTemplate = n) }, t.replaces = function (t) { t.disown(), this.replacedFragment = t }, t.isEmpty = function () { return this.foldChildren(!0, function (t, e) { return t && e.isEmpty() }) }, t.parser = function () { var t = B.block, n = this; return t.times(n.numBlocks()).map(function (t) { n.blocks = t; for (var e = 0; e < t.length; e += 1)t[e].adopt(n, n.ends[b], 0); return n }) }, t.createLeftOf = function (t) { var e = this.replacedFragment; this.createBlocks(), r.createLeftOf.call(this, t), e && (e.adopt(this.ends[-1], 0, 0), e.jQ.appendTo(this.ends[-1].jQ)), this.finalizeInsert(t.options), this.placeCursor(t) }, t.createBlocks = function () { var t, e = this.numBlocks(), n = this.blocks = Array(e); for (t = 0; t < e; t += 1)(n[t] = $()).adopt(this, this.ends[b], 0) }, t.placeCursor = function (t) { t.insAtRightEnd(this.foldChildren(this.ends[-1], function (t, e) { return t.isEmpty() ? t : e })) }, t.moveTowards = function (t, e, n) { var r = n && this[n + "Into"]; e.insAtDirEnd(-t, r || this.ends[-t]) }, t.deleteTowards = function (t, e) { this.isEmpty() ? e[t] = this.remove()[t] : this.moveTowards(t, e, null) }, t.selectTowards = function (t, e) { e[-t] = this, e[t] = this[t] }, t.selectChildren = function () { return S(this, this) }, t.unselectInto = function (t, e) { e.insAtDirEnd(-t, e.anticursor.ancestors[this.id]) }, t.seek = function (n, r) { function i(t) { var e = {}; return e[-1] = t.jQ.offset().left, e[b] = e[-1] + t.jQ.outerWidth(), e } var o, s = this, a = i(s); return n < a[-1] ? r.insLeftOf(s) : n > a[b] ? r.insRightOf(s) : (o = a[-1], void s.eachChild(function (t) { var e = i(t); return n < e[-1] ? (n - o < e[-1] - n ? t[-1] ? r.insAtRightEnd(t[-1]) : r.insLeftOf(s) : r.insAtLeftEnd(t), !1) : n > e[b] ? void (t[b] ? o = e[b] : a[b] - n < n - e[b] ? r.insRightOf(s) : r.insAtRightEnd(t)) : (t.seek(n, r), !1) })) }, t.numBlocks = function () { var t = this.htmlTemplate.match(/&\d+/g); return t ? t.length : 0 }, t.html = function () { var t, e, n, r = this.blocks, i = " mathquill-command-id=" + this.id, o = this.htmlTemplate.match(/<[^<>]+>|[^<>]+/g); for (l("no unmatched angle brackets", o.join("") === this.htmlTemplate), e = o[t = 0]; e; e = o[t += 1])if ("/>" === e.slice(-2)) o[t] = e.slice(0, -2) + i + "/>"; else if ("<" === e.charAt(0)) for (l("not an unmatched top-level close tag", "/" !== e.charAt(1)), o[t] = e.slice(0, -1) + i + ">", n = 1; l("no missing close tags", e = o[t += 1]), "</" === e.slice(0, 2) ? n -= 1 : "<" === e.charAt(0) && "/>" !== e.slice(-2) && (n += 1), 0 < n;); return o.join("").replace(/>&(\d+)/g, function (t, e) { return " mathquill-block-id=" + r[e].id + ">" + r[e].join("html") }) }, t.latex = function () { return this.foldChildren(this.ctrlSeq, function (t, e) { return t + "{" + (e.latex() || " ") + "}" }) }, t.textTemplate = [""], t.text = function () { var r = this, i = 0; return r.foldChildren(r.textTemplate[i], function (t, e) { i += 1; var n = e.text(); return t && "(" === r.textTemplate[i] && "(" === n[0] && ")" === n.slice(-1) ? t + n.slice(1, -1) + r.textTemplate[i] : t + e.text() + (r.textTemplate[i] || "") }) } }), F = v(U, function (t, r) { t.init = function (t, e, n) { n || (n = t && 1 < t.length ? t.slice(1) : t), r.init.call(this, t, e, [n]) }, t.parser = function () { return q.succeed(this) }, t.numBlocks = function () { return 0 }, t.replaces = function (t) { t.remove() }, t.createBlocks = p, t.moveTowards = function (t, e) { e.jQ.insDirOf(t, this.jQ), e[-t] = this, e[t] = this[t] }, t.deleteTowards = function (t, e) { e[t] = this.remove()[t] }, t.seek = function (t, e) { t - this.jQ.offset().left < this.jQ.outerWidth() / 2 ? e.insLeftOf(this) : e.insRightOf(this) }, t.latex = function () { return this.ctrlSeq }, t.text = function () { return this.textTemplate }, t.placeCursor = p, t.isEmpty = function () { return !0 } }), Y = v(F, function (t, n) { t.init = function (t, e) { n.init.call(this, t, "<span>" + (e || t) + "</span>") } }), z = v(F, function (t, r) { t.init = function (t, e, n) { r.init.call(this, t, '<span class="mq-binary-operator">' + e + "</span>", n) } }), $ = v(H, function (t, r) { t.join = function (n) { return this.foldChildren("", function (t, e) { return t + e[n]() }) }, t.html = function () { return this.join("html") }, t.latex = function () { return this.join("latex") }, t.text = function () { return this.ends[-1] === this.ends[b] && 0 !== this.ends[-1] ? this.ends[-1].text() : this.join("text") }, t.keystroke = function (t, e, n) { return !n.options.spaceBehavesLikeTab || "Spacebar" !== t && "Shift-Spacebar" !== t ? r.keystroke.apply(this, arguments) : (e.preventDefault(), void n.escapeDir("Shift-Spacebar" === t ? -1 : b, t, e)) }, t.moveOutOf = function (t, e, n) { n && this.parent[n + "Into"] || !this[t] ? e.insDirOf(t, this.parent) : e.insAtDirEnd(-t, this[t]) }, t.selectOutOf = function (t, e) { e.insDirOf(t, this.parent) }, t.deleteOutOf = function (t, e) { e.unwrapGramp() }, t.seek = function (t, e) { var n = this.ends[b]; if (!n || n.jQ.offset().left + n.jQ.outerWidth() < t) return e.insAtRightEnd(this); if (t < this.ends[-1].jQ.offset().left) return e.insAtLeftEnd(this); for (; t < n.jQ.offset().left;)n = n[-1]; return n.seek(t, e) }, t.chToCmd = function (t, e) { var n; return t.match(/^[a-eg-zA-Z]$/) ? Z(t) : /^\d$/.test(t) ? G(t) : e && e.typingSlashWritesDivisionSymbol && "/" === t ? T["÷"](t) : e && e.typingAsteriskWritesTimesSymbol && "*" === t ? T["×"](t) : (n = k[t] || T[t]) ? n(t) : Y(t) }, t.write = function (t, e) { var n = this.chToCmd(e, t.options); t.selection && n.replaces(t.replaceSelection()), n.createLeftOf(t.show()) }, t.focus = function () { return this.jQ.addClass("mq-hasCursor"), this.jQ.removeClass("mq-empty"), this }, t.blur = function () { return this.jQ.removeClass("mq-hasCursor"), this.isEmpty() && this.jQ.addClass("mq-empty"), this } }), A.StaticMath = function (e) { return v(e.AbstractMathQuill, function (t, n) { this.RootBlock = $, t.__mathquillify = function (t, e) { return this.config(t), n.__mathquillify.call(this, "mq-math-mode"), this.__controller.delegateMouseEvents(), this.__controller.staticMathTextareaEvents(), this }, t.init = function () { n.init.apply(this, arguments), this.__controller.root.postOrder("registerInnerField", this.innerFields = [], e.MathField) }, t.latex = function () { var t = n.latex.apply(this, arguments); return 0 < arguments.length && this.__controller.root.postOrder("registerInnerField", this.innerFields = [], e.MathField), t } }) }, W = v($, u), A.MathField = function (t) { return v(t.EditableField, function (t, n) { this.RootBlock = W, t.__mathquillify = function (t, e) { return this.config(t), 1 < e && (this.__controller.root.reflow = p), n.__mathquillify.call(this, "mq-editable-field mq-math-mode"), delete this.__controller.root.reflow, this } }) }, K = v(x, function (t, i) { function c(t) { var e, n; if (t.jQ[0].normalize(), e = t.jQ[0].firstChild) return l("only node in TextBlock span is Text node", 3 === e.nodeType), (n = V(e.data)).jQadd(e), t.children().disown(), n.adopt(t, 0, 0) } t.ctrlSeq = "\\text", t.replaces = function (t) { t instanceof E ? this.replacedText = t.remove().jQ.text() : "string" == typeof t && (this.replacedText = t) }, t.jQadd = function (t) { i.jQadd.call(this, t), this.ends[-1] && this.ends[-1].jQadd(this.jQ[0].firstChild) }, t.createLeftOf = function (t) { var e, n = this; if (i.createLeftOf.call(this, t), n[b].siblingCreated && n[b].siblingCreated(t.options, -1), n[-1].siblingCreated && n[-1].siblingCreated(t.options, b), n.bubble("reflow"), t.insAtRightEnd(n), n.replacedText) for (e = 0; e < n.replacedText.length; e += 1)n.write(t, n.replacedText.charAt(e)) }, t.parser = function () { var e = this, t = q.string, n = q.regex; return q.optWhitespace.then(t("{")).then(n(/^[^}]*/)).skip(t("}")).map(function (t) { return 0 === t.length ? E() : (V(t).adopt(e, 0, 0), e) }) }, t.textContents = function () { return this.foldChildren("", function (t, e) { return t + e.text }) }, t.text = function () { return '"' + this.textContents() + '"' }, t.latex = function () { var t = this.textContents(); return 0 === t.length ? "" : "\\text{" + t.replace(/\\/g, "\\backslash ").replace(/[{}]/g, "\\$&") + "}" }, t.html = function () { return '<span class="mq-text-mode" mathquill-command-id=' + this.id + ">" + this.textContents() + "</span>" }, t.moveTowards = function (t, e) { e.insAtDirEnd(-t, this) }, t.moveOutOf = function (t, e) { e.insDirOf(t, this) }, t.unselectInto = t.moveTowards, t.selectTowards = U.prototype.selectTowards, t.deleteTowards = U.prototype.deleteTowards, t.selectOutOf = function (t, e) { e.insDirOf(t, this) }, t.deleteOutOf = function (t, e) { this.isEmpty() && e.insRightOf(this) }, t.write = function (t, e) { var n, r; t.show().deleteSelection(), "$" !== e ? t[-1] ? t[-1].appendText(e) : V(e).createLeftOf(t) : this.isEmpty() ? (t.insRightOf(this), Y("\\$", "$").createLeftOf(t)) : t[b] ? t[-1] ? (n = K(), (r = this.ends[-1]).disown().jQ.detach(), r.adopt(n, 0, 0), t.insLeftOf(this), i.createLeftOf.call(n, t)) : t.insLeftOf(this) : t.insRightOf(this) }, t.seek = function (t, e) { var n, r, i, o, s, a, l, u; for (e.hide(), n = c(this), r = this.jQ.width() / this.text.length, (i = Math.round((t - this.jQ.offset().left) / r)) <= 0 ? e.insAtLeftEnd(this) : i >= n.text.length ? e.insAtRightEnd(this) : e.insLeftOf(n.splitRight(i)), a = s = (o = t - e.show().offset().left) && o < 0 ? -1 : b; e[s] && 0 < o * a;)e[s].moveTowards(s, e), a = o, o = t - e.offset().left; s * o < -s * a && e[-s].moveTowards(-s, e), e.anticursor ? e.anticursor.parent === this && (l = e[-1] && e[-1].text.length, this.anticursorPosition === l ? e.anticursor = w.copy(e) : (this.anticursorPosition < l ? (u = e[-1].splitRight(this.anticursorPosition), e[-1] = u) : u = e[b].splitRight(this.anticursorPosition - l), e.anticursor = w(this, u[-1], u))) : this.anticursorPosition = e[-1] && e[-1].text.length }, t.blur = function (t) { $.prototype.blur.call(this), t && ("" === this.textContents() ? (this.remove(), t[-1] === this ? t[-1] = this[-1] : t[b] === this && (t[b] = this[b])) : c(this)) }, t.focus = $.prototype.focus }), V = v(x, function (t, e) { function s(t, e) { return e.charAt(-1 === t ? 0 : -1 + e.length) } t.init = function (t) { e.init.call(this), this.text = t }, t.jQadd = function (t) { this.dom = t, this.jQ = _(t) }, t.jQize = function () { return this.jQadd(document.createTextNode(this.text)) }, t.appendText = function (t) { this.text += t, this.dom.appendData(t) }, t.prependText = function (t) { this.text = t + this.text, this.dom.insertData(0, t) }, t.insTextAtDirEnd = function (t, e) { a(e), e === b ? this.appendText(t) : this.prependText(t) }, t.splitRight = function (t) { var e = V(this.text.slice(t)).adopt(this.parent, this, this[b]); return e.jQadd(this.dom.splitText(t)), this.text = this.text.slice(0, t), e }, t.moveTowards = function (t, e) { var n, r; return a(t), n = s(-t, this.text), (r = this[-t]) ? r.insTextAtDirEnd(n, t) : V(n).createDir(-t, e), this.deleteTowards(t, e) }, t.latex = function () { return this.text }, t.deleteTowards = function (t, e) { 1 < this.text.length ? t === b ? (this.dom.deleteData(0, 1), this.text = this.text.slice(1)) : (this.dom.deleteData(-1 + this.text.length, 1), this.text = this.text.slice(0, -1)) : (this.remove(), this.jQ.remove(), e[t] = this[t]) }, t.selectTowards = function (t, e) { var n, r, i, o; return a(t), n = e.anticursor, r = s(-t, this.text), n[t] === this ? (i = V(r).createDir(t, e), n[t] = i, e.insDirOf(t, i)) : ((o = this[-t]) ? o.insTextAtDirEnd(r, t) : (i = V(r).createDir(-t, e)).jQ.insDirOf(-t, e.selection.jQ), 1 === this.text.length && n[-t] === this && (n[-t] = this[-t])), this.deleteTowards(t, e) } }), T.text = T.textnormal = T.textrm = T.textup = T.textmd = K, T.em = T.italic = T.italics = T.emph = T.textit = T.textsl = c("\\textit", "i", 'class="mq-text-mode"'), T.strong = T.bold = T.textbf = c("\\textbf", "b", 'class="mq-text-mode"'), T.sf = T.textsf = c("\\textsf", "span", 'class="mq-sans-serif mq-text-mode"'), T.tt = T.texttt = c("\\texttt", "span", 'class="mq-monospace mq-text-mode"'), T.textsc = c("\\textsc", "span", 'style="font-variant:small-caps" class="mq-text-mode"'), T.uppercase = c("\\uppercase", "span", 'style="text-transform:uppercase" class="mq-text-mode"'), T.lowercase = c("\\lowercase", "span", 'style="text-transform:lowercase" class="mq-text-mode"'), X = v(U, function (t, e) { t.init = function (t) { e.init.call(this, "$"), this.cursor = t }, t.htmlTemplate = '<span class="mq-math-mode">&0</span>', t.createBlocks = function () { e.createBlocks.call(this), this.ends[-1].cursor = this.cursor, this.ends[-1].write = function (t, e) { "$" !== e ? $.prototype.write.call(this, t, e) : this.isEmpty() ? (t.insRightOf(this.parent), this.parent.deleteTowards(dir, t), Y("\\$", "$").createLeftOf(t.show())) : t[b] ? t[-1] ? $.prototype.write.call(this, t, e) : t.insLeftOf(this.parent) : t.insRightOf(this.parent) } }, t.latex = function () { return "$" + this.ends[-1].latex() + "$" } }), Q = v(W, function (t, e) { t.keystroke = function (t) { if ("Spacebar" !== t && "Shift-Spacebar" !== t) return e.keystroke.apply(this, arguments) }, t.write = function (t, e) { var n; (t.show().deleteSelection(), "$" === e) ? X(t).createLeftOf(t) : ("<" === e ? n = "&lt;" : ">" === e && (n = "&gt;"), Y(e, n).createLeftOf(t)) } }), A.TextField = function (t) { return v(t.EditableField, function (t, e) { this.RootBlock = Q, t.__mathquillify = function () { return e.__mathquillify.call(this, "mq-editable-field mq-text-mode") }, t.latex = function (t) { return 0 < arguments.length ? (this.__controller.renderLatexText(t), this.__controller.blurred && this.__controller.cursor.hide().parent.blur(), this) : this.__controller.exportLatex() } }) }, k["\\"] = v(U, function (t, r) { t.ctrlSeq = "\\", t.replaces = function (t) { this._replacedFragment = t.disown(), this.isEmpty = function () { return !1 } }, t.htmlTemplate = '<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>', t.textTemplate = ["\\"], t.createBlocks = function () { r.createBlocks.call(this), this.ends[-1].focus = function () { return this.parent.jQ.addClass("mq-hasCursor"), this.isEmpty() && this.parent.jQ.removeClass("mq-empty"), this }, this.ends[-1].blur = function () { return this.parent.jQ.removeClass("mq-hasCursor"), this.isEmpty() && this.parent.jQ.addClass("mq-empty"), this }, this.ends[-1].write = function (t, e) { t.show().deleteSelection(), e.match(/[a-z]/i) ? Y(e).createLeftOf(t) : (this.parent.renderCommand(t), "\\" === e && this.isEmpty() || t.parent.write(t, e)) }, this.ends[-1].keystroke = function (t, e, n) { return "Tab" === t || "Enter" === t || "Spacebar" === t ? (this.parent.renderCommand(n.cursor), void e.preventDefault()) : r.keystroke.apply(this, arguments) } }, t.createLeftOf = function (t) { if (r.createLeftOf.call(this, t), this._replacedFragment) { var e = this.jQ[0]; this.jQ = this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove", function (t) { return _(t.target = e).trigger(t), !1 }).insertBefore(this.jQ).add(this.jQ) } }, t.latex = function () { return "\\" + this.ends[-1].latex() + " " }, t.renderCommand = function (t) { var e, n; this.jQ = this.jQ.last(), this.remove(), this[b] ? t.insLeftOf(this[b]) : t.insAtRightEnd(this.parent), (e = this.ends[-1].latex()) || (e = " "), (n = T[e]) ? (n = n(e), this._replacedFragment && n.replaces(this._replacedFragment), n.createLeftOf(t)) : ((n = K()).replaces(e), n.createLeftOf(t), t.insRightOf(n), this._replacedFragment && this._replacedFragment.remove()) } }), T.notin = T.cong = T.equiv = T.oplus = T.otimes = v(z, function (t, e) { t.init = function (t) { e.init.call(this, "\\" + t + " ", "&" + t + ";") } }), T["≠"] = T.ne = T.neq = i(z, "\\ne ", "&ne;"), T["∗"] = T.ast = T.star = T.loast = T.lowast = i(z, "\\ast ", "&lowast;"), T.therefor = T.therefore = i(z, "\\therefore ", "&there4;"), T.cuz = T.because = i(z, "\\because ", "&#8757;"), T.prop = T.propto = i(z, "\\propto ", "&prop;"), T["≈"] = T.asymp = T.approx = i(z, "\\approx ", "&asymp;"), T.isin = T.in = i(z, "\\in ", "&isin;"), T.ni = T.contains = i(z, "\\ni ", "&ni;"), T.notni = T.niton = T.notcontains = T.doesnotcontain = i(z, "\\not\\ni ", "&#8716;"), T.sub = T.subset = i(z, "\\subset ", "&sub;"), T.sup = T.supset = T.superset = i(z, "\\supset ", "&sup;"), T.nsub = T.notsub = T.nsubset = T.notsubset = i(z, "\\not\\subset ", "&#8836;"), T.nsup = T.notsup = T.nsupset = T.notsupset = T.nsuperset = T.notsuperset = i(z, "\\not\\supset ", "&#8837;"), T.sube = T.subeq = T.subsete = T.subseteq = i(z, "\\subseteq ", "&sube;"), T.supe = T.supeq = T.supsete = T.supseteq = T.supersete = T.superseteq = i(z, "\\supseteq ", "&supe;"), T.nsube = T.nsubeq = T.notsube = T.notsubeq = T.nsubsete = T.nsubseteq = T.notsubsete = T.notsubseteq = i(z, "\\not\\subseteq ", "&#8840;"), T.nsupe = T.nsupeq = T.notsupe = T.notsupeq = T.nsupsete = T.nsupseteq = T.notsupsete = T.notsupseteq = T.nsupersete = T.nsuperseteq = T.notsupersete = T.notsuperseteq = i(z, "\\not\\supseteq ", "&#8841;"), T.N = T.naturals = T.Naturals = i(Y, "\\mathbb{N}", "&#8469;"), T.P = T.primes = T.Primes = T.projective = T.Projective = T.probability = T.Probability = i(Y, "\\mathbb{P}", "&#8473;"), T.Z = T.integers = T.Integers = i(Y, "\\mathbb{Z}", "&#8484;"), T.Q = T.rationals = T.Rationals = i(Y, "\\mathbb{Q}", "&#8474;"), T.R = T.reals = T.Reals = i(Y, "\\mathbb{R}", "&#8477;"), T.C = T.complex = T.Complex = T.complexes = T.Complexes = T.complexplane = T.Complexplane = T.ComplexPlane = i(Y, "\\mathbb{C}", "&#8450;"), T.H = T.Hamiltonian = T.quaternions = T.Quaternions = i(Y, "\\mathbb{H}", "&#8461;"), T.quad = T.emsp = i(Y, "\\quad ", "    "), T.qquad = i(Y, "\\qquad ", "        "), T.diamond = i(Y, "\\diamond ", "&#9671;"), T.bigtriangleup = i(Y, "\\bigtriangleup ", "&#9651;"), T.ominus = i(Y, "\\ominus ", "&#8854;"), T.uplus = i(Y, "\\uplus ", "&#8846;"), T.bigtriangledown = i(Y, "\\bigtriangledown ", "&#9661;"), T.sqcap = i(Y, "\\sqcap ", "&#8851;"), T.triangleleft = i(Y, "\\triangleleft ", "&#8882;"), T.sqcup = i(Y, "\\sqcup ", "&#8852;"), T.triangleright = i(Y, "\\triangleright ", "&#8883;"), T.odot = T.circledot = i(Y, "\\odot ", "&#8857;"), T.bigcirc = i(Y, "\\bigcirc ", "&#9711;"), T.dagger = i(Y, "\\dagger ", "&#0134;"), T.ddagger = i(Y, "\\ddagger ", "&#135;"), T.wr = i(Y, "\\wr ", "&#8768;"), T.amalg = i(Y, "\\amalg ", "&#8720;"), T.models = i(Y, "\\models ", "&#8872;"), T.prec = i(Y, "\\prec ", "&#8826;"), T.succ = i(Y, "\\succ ", "&#8827;"), T.preceq = i(Y, "\\preceq ", "&#8828;"), T.succeq = i(Y, "\\succeq ", "&#8829;"), T.simeq = i(Y, "\\simeq ", "&#8771;"), T.mid = i(Y, "\\mid ", "&#8739;"), T.ll = i(Y, "\\ll ", "&#8810;"), T.gg = i(Y, "\\gg ", "&#8811;"), T.parallel = i(Y, "\\parallel ", "&#8741;"), T.nparallel = i(Y, "\\nparallel ", "&#8742;"), T.bowtie = i(Y, "\\bowtie ", "&#8904;"), T.sqsubset = i(Y, "\\sqsubset ", "&#8847;"), T.sqsupset = i(Y, "\\sqsupset ", "&#8848;"), T.smile = i(Y, "\\smile ", "&#8995;"), T.sqsubseteq = i(Y, "\\sqsubseteq ", "&#8849;"), T.sqsupseteq = i(Y, "\\sqsupseteq ", "&#8850;"), T.doteq = i(Y, "\\doteq ", "&#8784;"), T.frown = i(Y, "\\frown ", "&#8994;"), T.vdash = i(Y, "\\vdash ", "&#8870;"), T.dashv = i(Y, "\\dashv ", "&#8867;"), T.nless = i(Y, "\\nless ", "&#8814;"), T.ngtr = i(Y, "\\ngtr ", "&#8815;"), T.longleftarrow = i(Y, "\\longleftarrow ", "&#8592;"), T.longrightarrow = i(Y, "\\longrightarrow ", "&#8594;"), T.Longleftarrow = i(Y, "\\Longleftarrow ", "&#8656;"), T.Longrightarrow = i(Y, "\\Longrightarrow ", "&#8658;"), T.longleftrightarrow = i(Y, "\\longleftrightarrow ", "&#8596;"), T.updownarrow = i(Y, "\\updownarrow ", "&#8597;"), T.Longleftrightarrow = i(Y, "\\Longleftrightarrow ", "&#8660;"), T.Updownarrow = i(Y, "\\Updownarrow ", "&#8661;"), T.mapsto = i(Y, "\\mapsto ", "&#8614;"), T.nearrow = i(Y, "\\nearrow ", "&#8599;"), T.hookleftarrow = i(Y, "\\hookleftarrow ", "&#8617;"), T.hookrightarrow = i(Y, "\\hookrightarrow ", "&#8618;"), T.searrow = i(Y, "\\searrow ", "&#8600;"), T.leftharpoonup = i(Y, "\\leftharpoonup ", "&#8636;"), T.rightharpoonup = i(Y, "\\rightharpoonup ", "&#8640;"), T.swarrow = i(Y, "\\swarrow ", "&#8601;"), T.leftharpoondown = i(Y, "\\leftharpoondown ", "&#8637;"), T.rightharpoondown = i(Y, "\\rightharpoondown ", "&#8641;"), T.nwarrow = i(Y, "\\nwarrow ", "&#8598;"), T.ldots = i(Y, "\\ldots ", "&#8230;"), T.cdots = i(Y, "\\cdots ", "&#8943;"), T.vdots = i(Y, "\\vdots ", "&#8942;"), T.ddots = i(Y, "\\ddots ", "&#8945;"), T.surd = i(Y, "\\surd ", "&#8730;"), T.triangle = i(Y, "\\triangle ", "&#9651;"), T.ell = i(Y, "\\ell ", "&#8467;"), T.top = i(Y, "\\top ", "&#8868;"), T.flat = i(Y, "\\flat ", "&#9837;"), T.natural = i(Y, "\\natural ", "&#9838;"), T.sharp = i(Y, "\\sharp ", "&#9839;"), T.wp = i(Y, "\\wp ", "&#8472;"), T.bot = i(Y, "\\bot ", "&#8869;"), T.clubsuit = i(Y, "\\clubsuit ", "&#9827;"), T.diamondsuit = i(Y, "\\diamondsuit ", "&#9826;"), T.heartsuit = i(Y, "\\heartsuit ", "&#9825;"), T.spadesuit = i(Y, "\\spadesuit ", "&#9824;"), T.parallelogram = i(Y, "\\parallelogram ", "&#9649;"), T.square = i(Y, "\\square ", "&#11036;"), T.oint = i(Y, "\\oint ", "&#8750;"), T.bigcap = i(Y, "\\bigcap ", "&#8745;"), T.bigcup = i(Y, "\\bigcup ", "&#8746;"), T.bigsqcup = i(Y, "\\bigsqcup ", "&#8852;"), T.bigvee = i(Y, "\\bigvee ", "&#8744;"), T.bigwedge = i(Y, "\\bigwedge ", "&#8743;"), T.bigodot = i(Y, "\\bigodot ", "&#8857;"), T.bigotimes = i(Y, "\\bigotimes ", "&#8855;"), T.bigoplus = i(Y, "\\bigoplus ", "&#8853;"), T.biguplus = i(Y, "\\biguplus ", "&#8846;"), T.lfloor = i(Y, "\\lfloor ", "&#8970;"), T.rfloor = i(Y, "\\rfloor ", "&#8971;"), T.lceil = i(Y, "\\lceil ", "&#8968;"), T.rceil = i(Y, "\\rceil ", "&#8969;"), T.opencurlybrace = T.lbrace = i(Y, "\\lbrace ", "{"), T.closecurlybrace = T.rbrace = i(Y, "\\rbrace ", "}"), T.lbrack = i(Y, "["), T.rbrack = i(Y, "]"), T.slash = i(Y, "/"), T.vert = i(Y, "|"), T.perp = T.perpendicular = i(Y, "\\perp ", "&perp;"), T.nabla = T.del = i(Y, "\\nabla ", "&nabla;"), T.hbar = i(Y, "\\hbar ", "&#8463;"), T.AA = T.Angstrom = T.angstrom = i(Y, "\\text\\AA ", "&#8491;"), T.ring = T.circ = T.circle = i(Y, "\\circ ", "&#8728;"), T.bull = T.bullet = i(Y, "\\bullet ", "&bull;"), T.setminus = T.smallsetminus = i(Y, "\\setminus ", "&#8726;"), T.not = T["¬"] = T.neg = i(Y, "\\neg ", "&not;"), T["…"] = T.dots = T.ellip = T.hellip = T.ellipsis = T.hellipsis = i(Y, "\\dots ", "&hellip;"), T.converges = T.darr = T.dnarr = T.dnarrow = T.downarrow = i(Y, "\\downarrow ", "&darr;"), T.dArr = T.dnArr = T.dnArrow = T.Downarrow = i(Y, "\\Downarrow ", "&dArr;"), T.diverges = T.uarr = T.uparrow = i(Y, "\\uparrow ", "&uarr;"), T.uArr = T.Uparrow = i(Y, "\\Uparrow ", "&uArr;"), T.to = i(z, "\\to ", "&rarr;"), T.rarr = T.rightarrow = i(Y, "\\rightarrow ", "&rarr;"), T.implies = i(z, "\\Rightarrow ", "&rArr;"), T.rArr = T.Rightarrow = i(Y, "\\Rightarrow ", "&rArr;"), T.gets = i(z, "\\gets ", "&larr;"), T.larr = T.leftarrow = i(Y, "\\leftarrow ", "&larr;"), T.impliedby = i(z, "\\Leftarrow ", "&lArr;"), T.lArr = T.Leftarrow = i(Y, "\\Leftarrow ", "&lArr;"), T.harr = T.lrarr = T.leftrightarrow = i(Y, "\\leftrightarrow ", "&harr;"), T.iff = i(z, "\\Leftrightarrow ", "&hArr;"), T.hArr = T.lrArr = T.Leftrightarrow = i(Y, "\\Leftrightarrow ", "&hArr;"), T.Re = T.Real = T.real = i(Y, "\\Re ", "&real;"), T.Im = T.imag = T.image = T.imagin = T.imaginary = T.Imaginary = i(Y, "\\Im ", "&image;"), T.part = T.partial = i(Y, "\\partial ", "&part;"), T.infty = T.infin = T.infinity = i(Y, "\\infty ", "&infin;"), T.alef = T.alefsym = T.aleph = T.alephsym = i(Y, "\\aleph ", "&alefsym;"), T.xist = T.xists = T.exist = T.exists = i(Y, "\\exists ", "&exist;"), T.nexists = T.nexist = i(Y, "\\nexists ", "&#8708;"), T.and = T.land = T.wedge = i(z, "\\wedge ", "&and;"), T.or = T.lor = T.vee = i(z, "\\vee ", "&or;"), T.o = T.O = T.empty = T.emptyset = T.oslash = T.Oslash = T.nothing = T.varnothing = i(z, "\\varnothing ", "&empty;"), T.cup = T.union = i(z, "\\cup ", "&cup;"), T.cap = T.intersect = T.intersection = i(z, "\\cap ", "&cap;"), T.deg = T.degree = i(Y, "\\degree ", "&deg;"), T.ang = T.angle = i(Y, "\\angle ", "&ang;"), T.measuredangle = i(Y, "\\measuredangle ", "&#8737;"), G = v(Y, function (t, e) { t.createLeftOf = function (t) { t.options.autoSubscriptNumerals && t.parent !== t.parent.parent.sub && (t[-1] instanceof J && !1 !== t[-1].isItalic || t[-1] instanceof vt && t[-1][-1] instanceof J && !1 !== t[-1][-1].isItalic) ? (T._().createLeftOf(t), e.createLeftOf.call(this, t), t.insRightOf(t.parent.parent)) : e.createLeftOf.call(this, t) } }), J = v(F, function (t, n) { t.init = function (t, e) { n.init.call(this, t, "<var>" + (e || t) + "</var>") }, t.text = function () { var t = this.ctrlSeq; return this.isPartOfOperator ? "\\" == t[0] ? t = t.slice(1, t.length) : " " == t[t.length - 1] && (t = t.slice(0, -1)) : (!this[-1] || this[-1] instanceof J || this[-1] instanceof z || "\\ " === this[-1].ctrlSeq || (t = "*" + t), !this[b] || this[b] instanceof z || this[b] instanceof vt || (t += "*")), t } }), L.p.autoCommands = { _maxLength: 0 }, C.autoCommands = function (t) { var e, n, r, i, o; if (!/^[a-z]+(?: [a-z]+)*$/i.test(t)) throw '"' + t + '" not a space-delimited list of only letters'; for (e = t.split(" "), n = {}, i = r = 0; i < e.length; i += 1) { if ((o = e[i]).length < 2) throw 'autocommand "' + o + '" not minimum length of 2'; if (T[o] === rt) throw '"' + o + '" is a built-in operator name'; n[o] = 1, r = Rt(r, o.length) } return n._maxLength = r, n }, Z = v(J, function (t, s) { function p(t) { return !t || t instanceof z || t instanceof bt } t.init = function (t) { return s.init.call(this, this.letter = t) }, t.createLeftOf = function (t) { var e, n, r, i, o; if (s.createLeftOf.apply(this, arguments), 0 < (n = (e = t.options.autoCommands)._maxLength)) { for (r = "", i = this, o = 0; i instanceof Z && i.ctrlSeq === i.letter && o < n;)r = i.letter + r, i = i[-1], o += 1; for (; r.length;) { if (e.hasOwnProperty(r)) { for (o = 1, i = this; o < r.length; o += 1, i = i[-1]); return E(i, this).remove(), t[-1] = i[-1], T[r](r).createLeftOf(t) } r = r.slice(1) } } }, t.italicize = function (t) { return this.isItalic = t, this.isPartOfOperator = !t, this.jQ.toggleClass("mq-operator-name", !t), this }, t.finalizeTree = t.siblingDeleted = t.siblingCreated = function (t, e) { -1 !== e && this[b] instanceof Z || this.autoUnItalicize(t) }, t.autoUnItalicize = function (t) { var e, n, r, i, o, s, a, l, u, c, f, h, d = t.autoOperatorNames; if (0 !== d._maxLength) { for (e = this.letter, n = this[-1]; n instanceof Z; n = n[-1])e = n.letter + e; for (r = this[b]; r instanceof Z; r = r[b])e += r.letter; E(n[b] || this.parent.ends[-1], r[-1] || this.parent.ends[b]).each(function (t) { t.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"), t.ctrlSeq = t.letter }); t: for (i = 0, o = n[b] || this.parent.ends[-1]; i < e.length; i += 1, o = o[b])for (s = Dt(d._maxLength, e.length - i); 0 < s; s -= 1)if (a = e.slice(i, i + s), d.hasOwnProperty(a)) { for (l = 0, u = o; l < s; l += 1, u = u[b])u.italicize(!1), c = u; f = tt.hasOwnProperty(a), o.ctrlSeq = (f ? "\\" : "\\operatorname{") + o.ctrlSeq, c.ctrlSeq += f ? " " : "}", nt.hasOwnProperty(a) && c[-1][-1][-1].jQ.addClass("mq-last"), p(o[-1]) || o.jQ.addClass("mq-first"), p(c[b]) || (c[b] instanceof vt ? ((h = c[b]).siblingCreated = h.siblingDeleted = function () { h.jQ.toggleClass("mq-after-operator-name", !(h[b] instanceof kt)) })() : c.jQ.toggleClass("mq-last", !(c[b] instanceof kt))), i += s - 1, o = c; continue t } } } }), tt = {}, et = L.p.autoOperatorNames = { _maxLength: 9 }, nt = { limsup: 1, liminf: 1, projlim: 1, injlim: 1 }, function () { var t, e, n, r, i = "arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "); for (t = 0; t < i.length; t += 1)tt[i[t]] = et[i[t]] = 1; for (e = "sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "), t = 0; t < e.length; t += 1)tt[e[t]] = 1; for (n = "sin cos tan sec cosec csc cotan cot ctg".split(" "), t = 0; t < n.length; t += 1)et[n[t]] = et["arc" + n[t]] = et[n[t] + "h"] = et["ar" + n[t] + "h"] = et["arc" + n[t] + "h"] = 1; for (r = "gcf hcf lcm proj span".split(" "), t = 0; t < r.length; t += 1)et[r[t]] = 1 }(), C.autoOperatorNames = function (t) { var e, n, r, i, o; if (!/^[a-z]+(?: [a-z]+)*$/i.test(t)) throw '"' + t + '" not a space-delimited list of only letters'; for (e = t.split(" "), n = {}, i = r = 0; i < e.length; i += 1) { if ((o = e[i]).length < 2) throw '"' + o + '" not minimum length of 2'; n[o] = 1, r = Rt(r, o.length) } return n._maxLength = r, n }, rt = v(F, function (t, e) { t.init = function (t) { this.ctrlSeq = t }, t.createLeftOf = function (t) { var e, n = this.ctrlSeq; for (e = 0; e < n.length; e += 1)Z(n.charAt(e)).createLeftOf(t) }, t.parser = function () { var t, e = this.ctrlSeq, n = $(); for (t = 0; t < e.length; t += 1)Z(e.charAt(t)).adopt(n, n.ends[b], 0); return q.succeed(n.children()) } }), et) et.hasOwnProperty(it) && (T[it] = rt); for (mt in T.operatorname = v(U, function (t) { t.createLeftOf = p, t.numBlocks = function () { return 1 }, t.parser = function () { return B.block.map(function (t) { return t.children() }) } }), T.f = v(Z, function (t, e) { t.init = function () { F.p.init.call(this, this.letter = "f", '<var class="mq-f">f</var>') }, t.italicize = function (t) { return this.jQ.html("f").toggleClass("mq-f", t), e.italicize.apply(this, arguments) } }), T[" "] = T.space = i(Y, "\\ ", "&nbsp;"), T["'"] = T.prime = i(Y, "'", "&prime;"), T["″"] = T.dprime = i(Y, "″", "&Prime;"), T.backslash = i(Y, "\\backslash ", "\\"), k["\\"] || (k["\\"] = T.backslash), T.$ = i(Y, "\\$", "$"), ot = v(F, function (t, n) { t.init = function (t, e) { n.init.call(this, t, '<span class="mq-nonSymbola">' + (e || t) + "</span>") } }), T["@"] = ot, T["&"] = i(ot, "\\&", "&amp;"), T["%"] = i(ot, "\\%", "%"), T.alpha = T.beta = T.gamma = T.delta = T.zeta = T.eta = T.theta = T.iota = T.kappa = T.mu = T.nu = T.xi = T.rho = T.sigma = T.tau = T.chi = T.psi = T.omega = v(J, function (t, e) { t.init = function (t) { e.init.call(this, "\\" + t + " ", "&" + t + ";") } }), T.phi = i(J, "\\phi ", "&#981;"), T.phiv = T.varphi = i(J, "\\varphi ", "&phi;"), T.epsilon = i(J, "\\epsilon ", "&#1013;"), T.epsiv = T.varepsilon = i(J, "\\varepsilon ", "&epsilon;"), T.piv = T.varpi = i(J, "\\varpi ", "&piv;"), T.sigmaf = T.sigmav = T.varsigma = i(J, "\\varsigma ", "&sigmaf;"), T.thetav = T.vartheta = T.thetasym = i(J, "\\vartheta ", "&thetasym;"), T.upsilon = T.upsi = i(J, "\\upsilon ", "&upsilon;"), T.gammad = T.Gammad = T.digamma = i(J, "\\digamma ", "&#989;"), T.kappav = T.varkappa = i(J, "\\varkappa ", "&#1008;"), T.rhov = T.varrho = i(J, "\\varrho ", "&#1009;"), T.pi = T["π"] = i(ot, "\\pi ", "&pi;"), T.lambda = i(ot, "\\lambda ", "&lambda;"), T.Upsilon = T.Upsi = T.upsih = T.Upsih = i(F, "\\Upsilon ", '<var style="font-family: serif">&upsih;</var>'), T.Gamma = T.Delta = T.Theta = T.Lambda = T.Xi = T.Pi = T.Sigma = T.Phi = T.Psi = T.Omega = T.forall = v(Y, function (t, e) { t.init = function (t) { e.init.call(this, "\\" + t + " ", "&" + t + ";") } }), st = v(U, function (t) { t.init = function (t) { this.latex = t }, t.createLeftOf = function (t) { var e = B.parse(this.latex); e.children().adopt(t.parent, t[-1], t[b]), t[-1] = e.ends[b], e.jQize().insertBefore(t.jQ), e.finalizeInsert(t.options, t), e.ends[b][b].siblingCreated && e.ends[b][b].siblingCreated(t.options, -1), e.ends[-1][-1].siblingCreated && e.ends[-1][-1].siblingCreated(t.options, b), t.parent.bubble("reflow") }, t.parser = function () { var t = B.parse(this.latex).children(); return q.succeed(t) } }), T["¹"] = i(st, "^1"), T["²"] = i(st, "^2"), T["³"] = i(st, "^3"), T["¼"] = i(st, "\\frac14"), T["½"] = i(st, "\\frac12"), T["¾"] = i(st, "\\frac34"), at = v(z, function (t) { t.init = Y.prototype.init, t.contactWeld = t.siblingCreated = t.siblingDeleted = function (t, e) { if (e !== b) return this.jQ[0].className = function t(e) { return e[-1] ? e[-1] instanceof z || /^[,;:\(\[]$/.test(e[-1].ctrlSeq) ? "" : "mq-binary-operator" : e.parent && e.parent.parent && e.parent.parent.isStyleBlock() ? t(e.parent.parent) : "" }(this), this } }), T["+"] = i(at, "+", "+"), T["–"] = T["-"] = i(at, "-", "&minus;"), T["±"] = T.pm = T.plusmn = T.plusminus = i(at, "\\pm ", "&plusmn;"), T.mp = T.mnplus = T.minusplus = i(at, "\\mp ", "&#8723;"), k["*"] = T.sdot = T.cdot = i(z, "\\cdot ", "&middot;", "*"), lt = v(z, function (t, r) { t.init = function (t, e) { this.data = t; var n = (this.strict = e) ? "Strict" : ""; r.init.call(this, t["ctrlSeq" + n], t["html" + n], t["text" + n]) }, t.swap = function (t) { var e = (this.strict = t) ? "Strict" : ""; this.ctrlSeq = this.data["ctrlSeq" + e], this.jQ.html(this.data["html" + e]), this.textTemplate = [this.data["text" + e]] }, t.deleteTowards = function (t, e) { if (-1 === t && !this.strict) return this.swap(!0), void this.bubble("reflow"); r.deleteTowards.apply(this, arguments) } }), ut = { ctrlSeq: "\\le ", html: "&le;", text: "≤", ctrlSeqStrict: "<", htmlStrict: "&lt;", textStrict: "<" }, ct = { ctrlSeq: "\\ge ", html: "&ge;", text: "≥", ctrlSeqStrict: ">", htmlStrict: "&gt;", textStrict: ">" }, T["<"] = T.lt = i(lt, ut, !0), T[">"] = T.gt = i(lt, ct, !0), T["≤"] = T.le = T.leq = i(lt, ut, !1), T["≥"] = T.ge = T.geq = i(lt, ct, !1), ft = v(z, function (t, e) { t.init = function () { e.init.call(this, "=", "=") }, t.createLeftOf = function (t) { if (t[-1] instanceof lt && t[-1].strict) return t[-1].swap(!1), void t[-1].bubble("reflow"); e.createLeftOf.apply(this, arguments) } }), T["="] = ft, T["×"] = T.times = i(z, "\\times ", "&times;", "[x]"), T["÷"] = T.div = T.divide = T.divides = i(z, "\\div ", "&divide;", "[/]"), k["~"] = T.sim = i(z, "\\sim ", "~", "~"), dt = p, pt = document.createElement("div").style, { transform: 1, WebkitTransform: 1, MozTransform: 1, OTransform: 1, msTransform: 1 }) if (mt in pt) { gt = mt; break } for (Lt in gt ? ht = function (t, e, n) { t.css(gt, "scale(" + e + "," + n + ")") } : "filter" in pt ? (dt = function (t) { t.className = t.className }, ht = function (t, e, n) { function r() { t.css("marginRight", (i.width() - 1) * (e - 1) / e + "px") } var i, o; e /= 1 + (n - 1) / 2, t.css("fontSize", n + "em"), t.hasClass("mq-matrixed-container") || t.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>'), i = t.children().css("filter", "progid:DXImageTransform.Microsoft.Matrix(M11=" + e + ",SizingMethod='auto expand')"), r(), o = setInterval(r), _(window).load(function () { clearTimeout(o), r() }) }) : ht = function (t, e, n) { t.css("fontSize", n + "em") }, yt = v(U, function (t, r) { t.init = function (t, e, n) { r.init.call(this, t, "<" + e + " " + n + ">&0</" + e + ">") } }), T.mathrm = i(yt, "\\mathrm", "span", 'class="mq-roman mq-font"'), T.mathit = i(yt, "\\mathit", "i", 'class="mq-font"'), T.mathbf = i(yt, "\\mathbf", "b", 'class="mq-font"'), T.mathsf = i(yt, "\\mathsf", "span", 'class="mq-sans-serif mq-font"'), T.mathtt = i(yt, "\\mathtt", "span", 'class="mq-monospace mq-font"'), T.underline = i(yt, "\\underline", "span", 'class="mq-non-leaf mq-underline"'), T.overline = T.bar = i(yt, "\\overline", "span", 'class="mq-non-leaf mq-overline"'), T.overrightarrow = i(yt, "\\overrightarrow", "span", 'class="mq-non-leaf mq-overarrow mq-arrow-right"'), T.overleftarrow = i(yt, "\\overleftarrow", "span", 'class="mq-non-leaf mq-overarrow mq-arrow-left"'), T.overleftrightarrow = i(yt, "\\overleftrightarrow", "span", 'class="mq-non-leaf mq-overarrow mq-arrow-both"'), T.overarc = i(yt, "\\overarc", "span", 'class="mq-non-leaf mq-overarc"'), T.dot = v(U, function (t, e) { t.init = function () { e.init.call(this, "\\dot", '<span class="mq-non-leaf"><span class="mq-dot-recurring-inner"><span class="mq-dot-recurring">&#x2d9;</span><span class="mq-empty-box">&0</span></span></span>') } }), T.textcolor = v(U, function (t, i) { t.setColor = function (t) { this.color = t, this.htmlTemplate = '<span class="mq-textcolor" style="color:' + t + '">&0</span>' }, t.latex = function () { return "\\textcolor{" + this.color + "}{" + this.blocks[0].latex() + "}" }, t.parser = function () { var e = this, t = q.optWhitespace, n = q.string, r = q.regex; return t.then(n("{")).then(r(/^[#\w\s.,()%-]*/)).skip(n("}")).then(function (t) { return e.setColor(t), i.parser.call(e) }) }, t.isStyleBlock = function () { return !0 } }), T.class = v(U, function (t, r) { t.parser = function () { var e = this, t = q.string, n = q.regex; return q.optWhitespace.then(t("{")).then(n(/^[-\w\s\\\xA0-\xFF]*/)).skip(t("}")).then(function (t) { return e.cls = t || "", e.htmlTemplate = '<span class="mq-class ' + t + '">&0</span>', r.parser.call(e) }) }, t.latex = function () { return "\\class{" + this.cls + "}{" + this.blocks[0].latex() + "}" }, t.isStyleBlock = function () { return !0 } }), vt = v(U, function (t, r) { t.ctrlSeq = "_{...}^{...}", t.createLeftOf = function (t) { if (this.replacedFragment || t[-1] || !t.options.supSubsRequireOperand) return r.createLeftOf.apply(this, arguments) }, t.contactWeld = function (t) { var r, e, n, i, o, s; for (r = -1; r; r = -1 === r && b)if (this[r] instanceof vt) { for (e = "sub"; e; e = "sub" === e && "sup")n = this[e], i = this[r][e], n && (i ? n.isEmpty() ? s = w(i, 0, i.ends[-1]) : (n.jQ.children().insAtDirEnd(-r, i.jQ), o = n.children().disown(), s = w(i, o.ends[b], i.ends[-1]), -1 === r ? o.adopt(i, i.ends[b], 0) : o.adopt(i, 0, i.ends[-1])) : this[r].addBlock(n.disown()), this.placeCursor = function (e, n) { return function (t) { t.insAtDirEnd(-r, e || n) } }(i, n)); this.remove(), t && t[-1] === this && (r === b && s ? s[-1] ? t.insRightOf(s[-1]) : t.insAtLeftEnd(s.parent) : t.insRightOf(this[r])); break } }, L.p.charsThatBreakOutOfSupSub = "", t.finalizeTree = function () { this.ends[-1].write = function (t, e) { if (t.options.autoSubscriptNumerals && this === this.parent.sub) { if ("_" === e) return; var n = this.chToCmd(e, t.options); return n instanceof F ? t.deleteSelection() : t.clearSelection().insRightOf(this.parent), n.createLeftOf(t.show()) } t[-1] && !t[b] && !t.selection && -1 < t.options.charsThatBreakOutOfSupSub.indexOf(e) && t.insRightOf(this.parent), $.p.write.apply(this, arguments) } }, t.moveTowards = function (t, e, n) { e.options.autoSubscriptNumerals && !this.sup ? e.insDirOf(t, this) : r.moveTowards.apply(this, arguments) }, t.deleteTowards = function (t, e) { if (e.options.autoSubscriptNumerals && this.sub) { var n = this.sub.ends[-t]; n instanceof F ? n.remove() : n && n.deleteTowards(t, e.insAtDirEnd(-t, this.sub)), this.sub.isEmpty() && (this.sub.deleteOutOf(-1, e.insAtLeftEnd(this.sub)), this.sup && e.insDirOf(-t, this)) } else r.deleteTowards.apply(this, arguments) }, t.latex = function () { function t(t, e) { var n = e && e.latex(); return e ? t + (1 === n.length ? n : "{" + (n || " ") + "}") : "" } return t("_", this.sub) + t("^", this.sup) }, t.addBlock = function (t) { "sub" === this.supsub ? (this.sup = this.upInto = this.sub.upOutOf = t, t.adopt(this, this.sub, 0).downOutOf = this.sub, t.jQ = _('<span class="mq-sup"/>').append(t.jQ.children()).attr(Mt, t.id).prependTo(this.jQ)) : (this.sub = this.downInto = this.sup.downOutOf = t, t.adopt(this, 0, this.sup).upOutOf = this.sup, t.jQ = _('<span class="mq-sub"></span>').append(t.jQ.children()).attr(Mt, t.id).appendTo(this.jQ.removeClass("mq-sup-only")), this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>')); for (var e = 0; e < 2; e += 1)!function (r, i, o, s) { r[i].deleteOutOf = function (t, e) { if (e.insDirOf(this[t] ? -t : t, this.parent), !this.isEmpty()) { var n = this.ends[t]; this.children().disown().withDirAdopt(t, e.parent, e[t], e[-t]).jQ.insDirOf(-t, e.jQ), e[-t] = n } r.supsub = o, delete r[i], delete r[s + "Into"], r[o][s + "OutOf"] = f, delete r[o].deleteOutOf, "sub" === i && _(r.jQ.addClass("mq-sup-only")[0].lastChild).remove(), this.remove() } }(this, "sub sup".split(" ")[e], "sup sub".split(" ")[e], "down up".split(" ")[e]) } }), T.subscript = T._ = v(vt, function (t, e) { t.supsub = "sub", t.htmlTemplate = '<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>', t.textTemplate = ["_"], t.finalizeTree = function () { this.downInto = this.sub = this.ends[-1], this.sub.upOutOf = f, e.finalizeTree.call(this) } }), T.superscript = T.supscript = T["^"] = v(vt, function (t, e) { t.supsub = "sup", t.htmlTemplate = '<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>', t.textTemplate = ["^"], t.finalizeTree = function () { this.upInto = this.sup = this.ends[b], this.sup.downOutOf = f, e.finalizeTree.call(this) }, t.reflow = function () { var t = this.jQ, e = t.prev().innerHeight(); e *= .6, t.css("vertical-align", e + "px") } }), bt = v(U, function (t, e) { t.init = function (t, e) { var n = '<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>' + e + '</big><span class="mq-from"><span>&0</span></span></span>'; F.prototype.init.call(this, t, n) }, t.createLeftOf = function (t) { e.createLeftOf.apply(this, arguments), t.options.sumStartsWithNEquals && (Z("n").createLeftOf(t), ft().createLeftOf(t)) }, t.latex = function () { function t(t) { return 1 === t.length ? t : "{" + (t || " ") + "}" } return this.ctrlSeq + "_" + t(this.ends[-1].latex()) + "^" + t(this.ends[b].latex()) }, t.parser = function () { var t, e = q.string, n = q.optWhitespace, r = q.succeed, i = B.block, o = this, s = o.blocks = [$(), $()]; for (t = 0; t < s.length; t += 1)s[t].adopt(o, o.ends[b], 0); return n.then(e("_").or(e("^"))).then(function (t) { var e = s["_" === t ? 0 : 1]; return i.then(function (t) { return t.children().adopt(e, e.ends[b], 0), r(o) }) }).many().result(o) }, t.finalizeTree = function () { this.downInto = this.ends[-1], this.upInto = this.ends[b], this.ends[-1].upOutOf = this.ends[b], this.ends[b].downOutOf = this.ends[-1] } }), T["∑"] = T.sum = T.summation = i(bt, "\\sum ", "&sum;"), T["∏"] = T.prod = T.product = i(bt, "\\prod ", "&prod;"), T.coprod = T.coproduct = i(bt, "\\coprod ", "&#8720;"), T["∫"] = T.int = T.integral = v(bt, function (t, e) { t.init = function () { F.prototype.init.call(this, "\\int ", '<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>') }, t.createLeftOf = U.p.createLeftOf }), _t = T.frac = T.dfrac = T.cfrac = T.fraction = v(U, function (t, e) { t.ctrlSeq = "\\frac", t.htmlTemplate = '<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>', t.textTemplate = ["(", ")/(", ")"], t.finalizeTree = function () { this.upInto = this.ends[b].upOutOf = this.ends[-1], this.downInto = this.ends[-1].downOutOf = this.ends[b] } }), wt = T.over = k["/"] = v(_t, function (t, n) { t.createLeftOf = function (t) { if (!this.replacedFragment) { for (var e = t[-1]; e && !(e instanceof z || e instanceof (T.text || p) || e instanceof bt || "\\ " === e.ctrlSeq || /^[,;:]$/.test(e.ctrlSeq));)e = e[-1]; e instanceof bt && e[b] instanceof vt && ((e = e[b])[b] instanceof vt && e[b].ctrlSeq != e.ctrlSeq && (e = e[b])), e !== t[-1] && (this.replaces(E(e[b] || t.parent.ends[-1], t[-1])), t[-1] = e) } n.createLeftOf.call(this, t) } }), xt = T.sqrt = T["√"] = v(U, function (t, e) { t.ctrlSeq = "\\sqrt", t.htmlTemplate = '<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>', t.textTemplate = ["sqrt(", ")"], t.parser = function () { return B.optBlock.then(function (n) { return B.block.map(function (t) { var e = Et(); return e.blocks = [n, t], n.adopt(e, 0, 0), t.adopt(e, n, 0), e }) }).or(e.parser.call(this)) }, t.reflow = function () { var t = this.ends[b].jQ; ht(t.prev(), 1, t.innerHeight() / +t.css("fontSize").slice(0, -2) - .1) } }), T.hat = v(U, function (t, e) { t.ctrlSeq = "\\hat", t.htmlTemplate = '<span class="mq-non-leaf"><span class="mq-hat-prefix">^</span><span class="mq-hat-stem">&0</span></span>', t.textTemplate = ["hat(", ")"] }), Et = T.nthroot = v(xt, function (t, e) { t.htmlTemplate = '<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>', t.textTemplate = ["sqrt[", "](", ")"], t.latex = function () { return "\\sqrt[" + this.ends[-1].latex() + "]{" + this.ends[b].latex() + "}" } }), Tt = v(U, function (t, i) { t.init = function (t, e, n) { var r = '<span class="mq-non-leaf"><span class="mq-diacritic-above">' + e + '</span><span class="mq-diacritic-stem">&0</span></span>'; i.init.call(this, t, r, n) } }), T.vec = i(Tt, "\\vec", "&rarr;", ["vec(", ")"]), T.tilde = i(Tt, "\\tilde", "~", ["tilde(", ")"]), kt = v(v(U, h), function (t, o) { t.init = function (t, e, n, r, i) { o.init.call(this, "\\left" + r, g, [e, n]), this.side = t, this.sides = {}, this.sides[-1] = { ch: e, ctrlSeq: r }, this.sides[b] = { ch: n, ctrlSeq: i } }, t.numBlocks = function () { return 1 }, t.html = function () { return this.htmlTemplate = '<span class="mq-non-leaf"><span class="mq-scaled mq-paren' + (this.side === b ? " mq-ghost" : "") + '">' + this.sides[-1].ch + '</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren' + (-1 === this.side ? " mq-ghost" : "") + '">' + this.sides[b].ch + "</span></span>", o.html.call(this) }, t.latex = function () { return "\\left" + this.sides[-1].ctrlSeq + this.ends[-1].latex() + "\\right" + this.sides[b].ctrlSeq }, t.matchBrack = function (t, e, n) { return n instanceof kt && n.side && n.side !== -e && (!t.restrictMismatchedBrackets || jt[this.sides[this.side].ch] === n.sides[n.side].ch || { "(": "]", "[": ")" }[this.sides[-1].ch] === n.sides[b].ch) && n }, t.closeOpposing = function (t) { t.side = 0, t.sides[this.side] = this.sides[this.side], t.delimjQs.eq(-1 === this.side ? 0 : 1).removeClass("mq-ghost").html(this.sides[this.side].ch) }, t.createLeftOf = function (t) { var e, n, r; this.replacedFragment || (e = t.options, n = "|" === this.sides[-1].ch ? this.matchBrack(e, b, t[b]) || this.matchBrack(e, -1, t[-1]) || this.matchBrack(e, 0, t.parent.parent) : this.matchBrack(e, -this.side, t[-this.side]) || this.matchBrack(e, -this.side, t.parent.parent)), n ? (r = this.side = -n.side, this.closeOpposing(n), n === t.parent.parent && t[r] && E(t[r], t.parent.ends[r], -r).disown().withDirAdopt(-r, n.parent, n, n[r]).jQ.insDirOf(r, n.jQ), n.bubble("reflow")) : (r = (n = this).side, n.replacedFragment ? n.side = 0 : t[-r] && (n.replaces(E(t[-r], t.parent.ends[-r], r)), t[-r] = 0), o.createLeftOf.call(n, t)), -1 === r ? t.insAtLeftEnd(n.ends[-1]) : t.insRightOf(n) }, t.placeCursor = p, t.unwrap = function () { this.ends[-1].children().disown().adopt(this.parent, this, this[b]).jQ.insertAfter(this.jQ), this.remove() }, t.deleteSide = function (t, e, n) { var r, i, o, s = this.parent, a = this[t], l = s.ends[t]; if (t === this.side) return this.unwrap(), void (a ? n.insDirOf(-t, a) : n.insAtDirEnd(t, s)); if (r = n.options, i = !this.side, this.side = -t, this.matchBrack(r, t, this.ends[-1].ends[this.side])) this.closeOpposing(this.ends[-1].ends[this.side]), o = this.ends[-1].ends[t], this.unwrap(), o.siblingCreated && o.siblingCreated(n.options, t), a ? n.insDirOf(-t, a) : n.insAtDirEnd(t, s); else { if (this.matchBrack(r, t, this.parent.parent)) this.parent.parent.closeOpposing(this), this.parent.parent.unwrap(); else { if (e && i) return this.unwrap(), void (a ? n.insDirOf(-t, a) : n.insAtDirEnd(t, s)); this.sides[t] = { ch: jt[this.sides[this.side].ch], ctrlSeq: jt[this.sides[this.side].ctrlSeq] }, this.delimjQs.removeClass("mq-ghost").eq(-1 === t ? 0 : 1).addClass("mq-ghost").html(this.sides[t].ch) } a ? (o = this.ends[-1].ends[t], E(a, l, -t).disown().withDirAdopt(-t, this.ends[-1], o, 0).jQ.insAtDirEnd(t, this.ends[-1].jQ.removeClass("mq-empty")), o.siblingCreated && o.siblingCreated(n.options, t), n.insDirOf(-t, a)) : e ? n.insDirOf(t, this) : n.insAtDirEnd(t, this.ends[-1]) } }, t.deleteTowards = function (t, e) { this.deleteSide(-t, !1, e) }, t.finalizeTree = function () { this.ends[-1].deleteOutOf = function (t, e) { this.parent.deleteSide(t, !0, e) }, this.finalizeTree = this.intentionalBlur = function () { this.delimjQs.eq(-1 === this.side ? 1 : 0).removeClass("mq-ghost"), this.side = 0 } }, t.siblingCreated = function (t, e) { e === -this.side && this.finalizeTree() } }), jt = { "(": ")", ")": "(", "[": "]", "]": "[", "{": "}", "}": "{", "\\{": "\\}", "\\}": "\\{", "&lang;": "&rang;", "&rang;": "&lang;", "\\langle ": "\\rangle ", "\\rangle ": "\\langle ", "|": "|", "\\lVert ": "\\rVert ", "\\rVert ": "\\lVert " }, d("("), d("["), d("{", "\\{"), T.langle = i(kt, -1, "&lang;", "&rang;", "\\langle ", "\\rangle "), T.rangle = i(kt, b, "&lang;", "&rang;", "\\langle ", "\\rangle "), k["|"] = i(kt, -1, "|", "|", "|", "|"), T.lVert = i(kt, -1, "&#8741;", "&#8741;", "\\lVert ", "\\rVert "), T.rVert = i(kt, b, "&#8741;", "&#8741;", "\\lVert ", "\\rVert "), T.left = v(U, function (t) { t.parser = function () { var t = q.regex, e = q.string, n = (q.succeed, q.optWhitespace); return n.then(t(/^(?:[([|]|\\\{|\\langle\b|\\lVert\b)/)).then(function (i) { var o = "\\" === i.charAt(0) ? i.slice(1) : i; return "\\langle" == i && (o = "&lang;", i += " "), "\\lVert" == i && (o = "&#8741;", i += " "), B.then(function (r) { return e("\\right").skip(n).then(t(/^(?:[\])|]|\\\}|\\rangle\b|\\rVert\b)/)).map(function (t) { var e, n = "\\" === t.charAt(0) ? t.slice(1) : t; return "\\rangle" == t && (n = "&rang;", t += " "), "\\rVert" == t && (n = "&#8741;", t += " "), (e = kt(0, o, n, i, t)).blocks = [r], r.adopt(e, 0, 0), e }) }) }) } }), T.right = v(U, function (t) { t.parser = function () { return q.fail("unmatched \\right") } }), St = T.binom = T.binomial = v(v(U, h), function (t, e) { t.ctrlSeq = "\\binom", t.htmlTemplate = '<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>', t.textTemplate = ["choose(", ",", ")"] }), T.choose = v(St, function (t) { t.createLeftOf = wt.prototype.createLeftOf }), T.editable = T.MathQuillMathField = v(U, function (t, i) { t.ctrlSeq = "\\MathQuillMathField", t.htmlTemplate = '<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>', t.parser = function () { var e = this, t = q.string, n = q.regex, r = q.succeed; return t("[").then(n(/^[a-z][a-z0-9]*/i)).skip(t("]")).map(function (t) { e.name = t }).or(r()).then(i.parser.call(e)) }, t.finalizeTree = function (t) { var e = O(this.ends[-1], this.jQ, t); e.KIND_OF_MQ = "MathField", e.editable = !0, e.createTextarea(), e.editablesTextareaEvents(), e.cursor.insAtRightEnd(e.root), u(e.root) }, t.registerInnerField = function (t, e) { t.push(t[this.name] = e(this.ends[-1].controller)) }, t.latex = function () { return this.ends[-1].latex() }, t.text = function () { return this.ends[-1].text() } }), Ot = T.embed = v(F, function (t, e) { t.setOptions = function (t) { function e() { return "" } return this.text = t.text || e, this.htmlTemplate = t.htmlString || "", this.latex = t.latex || e, this }, t.parser = function () { var n = this, t = q.string, r = q.regex, i = q.succeed; return t("{").then(r(/^[a-z][a-z0-9]*/i)).skip(t("}")).then(function (e) { return t("[").then(r(/^[-\w\s]*/)).skip(t("]")).or(i()).map(function (t) { return n.setOptions(N[e](t)) }) }) } }), At = t(1)) !function (t, e) { "function" == typeof e ? (s[t] = function () { return r(), e.apply(this, arguments) }).prototype = e.prototype : s[t] = e }(Lt, At[Lt]) }(), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Quill = e() : t.Quill = e() }("undefined" != typeof self ? self : this, function () { return function (n) { function r(t) { if (i[t]) return i[t].exports; var e = i[t] = { i: t, l: !1, exports: {} }; return n[t].call(e.exports, e, e.exports, r), e.l = !0, e.exports } var i = {}; return r.m = n, r.c = i, r.d = function (t, e, n) { r.o(t, e) || Object.defineProperty(t, e, { configurable: !1, enumerable: !0, get: n }) }, r.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return r.d(e, "a", e), e }, r.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, r.p = "", r(r.s = 45) }([function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r = n(17), i = n(18), o = n(19), s = n(48), a = n(49), l = n(50), u = n(51), c = n(52), f = n(11), h = n(29), d = n(30), p = n(28), g = n(1), m = { Scope: g.Scope, create: g.create, find: g.find, query: g.query, register: g.register, Container: r.default, Format: i.default, Leaf: o.default, Embed: u.default, Scroll: s.default, Block: l.default, Inline: a.default, Text: c.default, Attributor: { Attribute: f.default, Class: h.default, Style: d.default, Store: p.default } }; e.default = m }, function (t, r, e) { "use strict"; function i(t, e) { var n; if (void 0 === e && (e = l.ANY), "string" == typeof t) n = h[t] || u[t]; else if (t instanceof Text || t.nodeType === Node.TEXT_NODE) n = h.text; else if ("number" == typeof t) t & l.LEVEL & l.BLOCK ? n = h.block : t & l.LEVEL & l.INLINE && (n = h.inline); else if (t instanceof HTMLElement) { var r = (t.getAttribute("class") || "").split(/\s+/); for (var i in r) if (n = c[r[i]]) break; n = n || f[t.tagName] } return null == n ? null : e & l.LEVEL & n.scope && e & l.TYPE & n.scope ? n : null } var o, s = this && this.__extends || (o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(r, "__esModule", { value: !0 }); var a = function (n) { function t(t) { var e = this; return t = "[Parchment] " + t, (e = n.call(this, t) || this).message = t, e.name = e.constructor.name, e } return s(t, n), t }(Error); r.ParchmentError = a; var l, n, u = {}, c = {}, f = {}, h = {}; r.DATA_KEY = "__blot", (n = l = r.Scope || (r.Scope = {}))[n.TYPE = 3] = "TYPE", n[n.LEVEL = 12] = "LEVEL", n[n.ATTRIBUTE = 13] = "ATTRIBUTE", n[n.BLOT = 14] = "BLOT", n[n.INLINE = 7] = "INLINE", n[n.BLOCK = 11] = "BLOCK", n[n.BLOCK_BLOT = 10] = "BLOCK_BLOT", n[n.INLINE_BLOT = 6] = "INLINE_BLOT", n[n.BLOCK_ATTRIBUTE = 9] = "BLOCK_ATTRIBUTE", n[n.INLINE_ATTRIBUTE = 5] = "INLINE_ATTRIBUTE", n[n.ANY = 15] = "ANY", r.create = function (t, e) { var n = i(t); if (null == n) throw new a("Unable to create " + t + " blot"); var r = n; return new r(t instanceof Node || t.nodeType === Node.TEXT_NODE ? t : r.create(e), e) }, r.find = function t(e, n) { return void 0 === n && (n = !1), null == e ? null : null != e[r.DATA_KEY] ? e[r.DATA_KEY].blot : n ? t(e.parentNode, n) : null }, r.query = i, r.register = function e() { for (var t = [], n = 0; n < arguments.length; n++)t[n] = arguments[n]; if (1 < t.length) return t.map(function (t) { return e(t) }); var r = t[0]; if ("string" != typeof r.blotName && "string" != typeof r.attrName) throw new a("Invalid definition"); if ("abstract" === r.blotName) throw new a("Cannot register abstract class"); "string" == typeof (h[r.blotName || r.attrName] = r).keyName ? u[r.keyName] = r : (null != r.className && (c[r.className] = r), null != r.tagName && (Array.isArray(r.tagName) ? r.tagName = r.tagName.map(function (t) { return t.toUpperCase() }) : r.tagName = r.tagName.toUpperCase(), (Array.isArray(r.tagName) ? r.tagName : [r.tagName]).forEach(function (t) { null != f[t] && null != r.className || (f[t] = r) }))); return r } }, function (t, e) { "use strict"; var i = Object.prototype.hasOwnProperty, o = Object.prototype.toString, f = function (t) { return "function" == typeof Array.isArray ? Array.isArray(t) : "[object Array]" === o.call(t) }, h = function (t) { if (!t || "[object Object]" !== o.call(t)) return !1; var e, n = i.call(t, "constructor"), r = t.constructor && t.constructor.prototype && i.call(t.constructor.prototype, "isPrototypeOf"); if (t.constructor && !n && !r) return !1; for (e in t); return void 0 === e || i.call(t, e) }; t.exports = function t() { var e, n, r, i, o, s, a = arguments[0], l = 1, u = arguments.length, c = !1; for ("boolean" == typeof a && (c = a, a = arguments[1] || {}, l = 2), (null == a || "object" != typeof a && "function" != typeof a) && (a = {}); l < u; ++l)if (null != (e = arguments[l])) for (n in e) r = a[n], a !== (i = e[n]) && (c && i && (h(i) || (o = f(i))) ? (o ? (o = !1, s = r && f(r) ? r : []) : s = r && h(r) ? r : {}, a[n] = t(c, s, i)) : void 0 !== i && (a[n] = i)); return a } }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function l(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } function i(t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; return null == t ? e : ("function" == typeof t.formats && (e = (0, s.default)(e, t.formats())), null == t.parent || "scroll" == t.parent.blotName || t.parent.statics.scope !== t.statics.scope ? e : i(t.parent, e)) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.BlockEmbed = e.bubbleFormats = void 0; var u = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), c = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, s = r(n(2)), f = r(n(4)), h = r(n(0)), d = r(n(14)), p = r(n(5)), g = r(n(8)), m = function (t) { function i() { return o(this, i), a(this, (i.__proto__ || Object.getPrototypeOf(i)).apply(this, arguments)) } return l(i, h.default.Embed), u(i, [{ key: "attach", value: function () { c(i.prototype.__proto__ || Object.getPrototypeOf(i.prototype), "attach", this).call(this), this.attributes = new h.default.Attributor.Store(this.domNode) } }, { key: "delta", value: function () { return (new f.default).insert(this.value(), (0, s.default)(this.formats(), this.attributes.values())) } }, { key: "format", value: function (t, e) { var n = h.default.query(t, h.default.Scope.BLOCK_ATTRIBUTE); null != n && this.attributes.attribute(n, e) } }, { key: "formatAt", value: function (t, e, n, r) { this.format(n, r) } }, { key: "insertAt", value: function (t, e, n) { if ("string" == typeof e && e.endsWith("\n")) { var r = h.default.create(y.blotName); this.parent.insertBefore(r, 0 === t ? this : this.next), r.insertAt(0, e.slice(0, -1)) } else c(i.prototype.__proto__ || Object.getPrototypeOf(i.prototype), "insertAt", this).call(this, t, e, n) } }]), i }(); m.scope = h.default.Scope.BLOCK_BLOT; var y = function (t) { function s(t) { o(this, s); var e = a(this, (s.__proto__ || Object.getPrototypeOf(s)).call(this, t)); return e.cache = {}, e } return l(s, h.default.Block), u(s, [{ key: "delta", value: function () { return null == this.cache.delta && (this.cache.delta = this.descendants(h.default.Leaf).reduce(function (t, e) { return 0 === e.length() ? t : t.insert(e.value(), i(e)) }, new f.default).insert("\n", i(this))), this.cache.delta } }, { key: "deleteAt", value: function (t, e) { c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "deleteAt", this).call(this, t, e), this.cache = {} } }, { key: "formatAt", value: function (t, e, n, r) { e <= 0 || (h.default.query(n, h.default.Scope.BLOCK) ? t + e === this.length() && this.format(n, r) : c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "formatAt", this).call(this, t, Math.min(e, this.length() - t - 1), n, r), this.cache = {}) } }, { key: "insertAt", value: function (t, e, n) { if (null != n) return c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "insertAt", this).call(this, t, e, n); if (0 !== e.length) { var r = e.split("\n"), i = r.shift(); 0 < i.length && (t < this.length() - 1 || null == this.children.tail ? c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "insertAt", this).call(this, Math.min(t, this.length() - 1), i) : this.children.tail.insertAt(this.children.tail.length(), i), this.cache = {}); var o = this; r.reduce(function (t, e) { return (o = o.split(t, !0)).insertAt(0, e), e.length }, t + i.length) } } }, { key: "insertBefore", value: function (t, e) { var n = this.children.head; c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "insertBefore", this).call(this, t, e), n instanceof d.default && n.remove(), this.cache = {} } }, { key: "length", value: function () { return null == this.cache.length && (this.cache.length = c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "length", this).call(this) + 1), this.cache.length } }, { key: "moveChildren", value: function (t, e) { c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "moveChildren", this).call(this, t, e), this.cache = {} } }, { key: "optimize", value: function (t) { c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "optimize", this).call(this, t), this.cache = {} } }, { key: "path", value: function (t) { return c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "path", this).call(this, t, !0) } }, { key: "removeChild", value: function (t) { c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "removeChild", this).call(this, t), this.cache = {} } }, { key: "split", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] && arguments[1]; if (e && (0 === t || t >= this.length() - 1)) { var n = this.clone(); return 0 === t ? (this.parent.insertBefore(n, this), this) : (this.parent.insertBefore(n, this.next), n) } var r = c(s.prototype.__proto__ || Object.getPrototypeOf(s.prototype), "split", this).call(this, t, e); return this.cache = {}, r } }]), s }(); y.blotName = "block", y.tagName = "P", y.defaultChild = "break", y.allowedChildren = [p.default, h.default.Embed, g.default], e.bubbleFormats = i, e.BlockEmbed = m, e.default = y }, function (t, e, n) { var l = n(54), u = n(12), r = n(2), c = n(20), i = String.fromCharCode(0), f = function (t) { Array.isArray(t) ? this.ops = t : null != t && Array.isArray(t.ops) ? this.ops = t.ops : this.ops = [] }; f.prototype.insert = function (t, e) { var n = {}; return 0 === t.length ? this : (n.insert = t, null != e && "object" == typeof e && 0 < Object.keys(e).length && (n.attributes = e), this.push(n)) }, f.prototype.delete = function (t) { return t <= 0 ? this : this.push({ delete: t }) }, f.prototype.retain = function (t, e) { if (t <= 0) return this; var n = { retain: t }; return null != e && "object" == typeof e && 0 < Object.keys(e).length && (n.attributes = e), this.push(n) }, f.prototype.push = function (t) { var e = this.ops.length, n = this.ops[e - 1]; if (t = r(!0, {}, t), "object" == typeof n) { if ("number" == typeof t.delete && "number" == typeof n.delete) return this.ops[e - 1] = { delete: n.delete + t.delete }, this; if ("number" == typeof n.delete && null != t.insert && (e -= 1, "object" != typeof (n = this.ops[e - 1]))) return this.ops.unshift(t), this; if (u(t.attributes, n.attributes)) { if ("string" == typeof t.insert && "string" == typeof n.insert) return this.ops[e - 1] = { insert: n.insert + t.insert }, "object" == typeof t.attributes && (this.ops[e - 1].attributes = t.attributes), this; if ("number" == typeof t.retain && "number" == typeof n.retain) return this.ops[e - 1] = { retain: n.retain + t.retain }, "object" == typeof t.attributes && (this.ops[e - 1].attributes = t.attributes), this } } return e === this.ops.length ? this.ops.push(t) : this.ops.splice(e, 0, t), this }, f.prototype.chop = function () { var t = this.ops[this.ops.length - 1]; return t && t.retain && !t.attributes && this.ops.pop(), this }, f.prototype.filter = function (t) { return this.ops.filter(t) }, f.prototype.forEach = function (t) { this.ops.forEach(t) }, f.prototype.map = function (t) { return this.ops.map(t) }, f.prototype.partition = function (e) { var n = [], r = []; return this.forEach(function (t) { (e(t) ? n : r).push(t) }), [n, r] }, f.prototype.reduce = function (t, e) { return this.ops.reduce(t, e) }, f.prototype.changeLength = function () { return this.reduce(function (t, e) { return e.insert ? t + c.length(e) : e.delete ? t - e.delete : t }, 0) }, f.prototype.length = function () { return this.reduce(function (t, e) { return t + c.length(e) }, 0) }, f.prototype.slice = function (t, e) { t = t || 0, "number" != typeof e && (e = 1 / 0); for (var n = [], r = c.iterator(this.ops), i = 0; i < e && r.hasNext();) { var o; i < t ? o = r.next(t - i) : (o = r.next(e - i), n.push(o)), i += c.length(o) } return new f(n) }, f.prototype.compose = function (t) { for (var e = c.iterator(this.ops), n = c.iterator(t.ops), r = new f; e.hasNext() || n.hasNext();)if ("insert" === n.peekType()) r.push(n.next()); else if ("delete" === e.peekType()) r.push(e.next()); else { var i = Math.min(e.peekLength(), n.peekLength()), o = e.next(i), s = n.next(i); if ("number" == typeof s.retain) { var a = {}; "number" == typeof o.retain ? a.retain = i : a.insert = o.insert; var l = c.attributes.compose(o.attributes, s.attributes, "number" == typeof o.retain); l && (a.attributes = l), r.push(a) } else "number" == typeof s.delete && "number" == typeof o.retain && r.push(s) } return r.chop() }, f.prototype.concat = function (t) { var e = new f(this.ops.slice()); return 0 < t.ops.length && (e.push(t.ops[0]), e.ops = e.ops.concat(t.ops.slice(1))), e }, f.prototype.diff = function (n, t) { if (this.ops === n.ops) return new f; var e = [this, n].map(function (e) { return e.map(function (t) { if (null != t.insert) return "string" == typeof t.insert ? t.insert : i; throw new Error("diff() called " + (e === n ? "on" : "with") + " non-document") }).join("") }), o = new f, r = l(e[0], e[1], t), s = c.iterator(this.ops), a = c.iterator(n.ops); return r.forEach(function (t) { for (var e = t[1].length; 0 < e;) { var n = 0; switch (t[0]) { case l.INSERT: n = Math.min(a.peekLength(), e), o.push(a.next(n)); break; case l.DELETE: n = Math.min(e, s.peekLength()), s.next(n), o.delete(n); break; case l.EQUAL: n = Math.min(s.peekLength(), a.peekLength(), e); var r = s.next(n), i = a.next(n); u(r.insert, i.insert) ? o.retain(n, c.attributes.diff(r.attributes, i.attributes)) : o.push(i).delete(n) }e -= n } }), o.chop() }, f.prototype.eachLine = function (t, e) { e = e || "\n"; for (var n = c.iterator(this.ops), r = new f, i = 0; n.hasNext();) { if ("insert" !== n.peekType()) return; var o = n.peek(), s = c.length(o) - n.peekLength(), a = "string" == typeof o.insert ? o.insert.indexOf(e, s) - s : -1; if (a < 0) r.push(n.next()); else if (0 < a) r.push(n.next(a)); else { if (!1 === t(r, n.next(1).attributes || {}, i)) return; i += 1, r = new f } } 0 < r.length() && t(r, {}, i) }, f.prototype.transform = function (t, e) { if (e = !!e, "number" == typeof t) return this.transformPosition(t, e); for (var n = c.iterator(this.ops), r = c.iterator(t.ops), i = new f; n.hasNext() || r.hasNext();)if ("insert" !== n.peekType() || !e && "insert" === r.peekType()) if ("insert" === r.peekType()) i.push(r.next()); else { var o = Math.min(n.peekLength(), r.peekLength()), s = n.next(o), a = r.next(o); if (s.delete) continue; a.delete ? i.push(a) : i.retain(o, c.attributes.transform(s.attributes, a.attributes, e)) } else i.retain(c.length(n.next())); return i.chop() }, f.prototype.transformPosition = function (t, e) { e = !!e; for (var n = c.iterator(this.ops), r = 0; n.hasNext() && r <= t;) { var i = n.peekLength(), o = n.peekType(); n.next(), "delete" !== o ? ("insert" === o && (r < t || !e) && (t += i), r += i) : t -= Math.min(i, t - r) } return t }, t.exports = f }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(e, "__esModule", { value: !0 }); var i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), s = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, o = r(n(8)), a = r(n(0)), l = function (t) { function o() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, o), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (o.__proto__ || Object.getPrototypeOf(o)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(o, a.default.Inline), i(o, [{ key: "formatAt", value: function (t, e, n, r) { if (o.compare(this.statics.blotName, n) < 0 && a.default.query(n, a.default.Scope.BLOT)) { var i = this.isolate(t, e); r && i.wrap(n, r) } else s(o.prototype.__proto__ || Object.getPrototypeOf(o.prototype), "formatAt", this).call(this, t, e, n, r) } }, { key: "optimize", value: function (t) { if (s(o.prototype.__proto__ || Object.getPrototypeOf(o.prototype), "optimize", this).call(this, t), this.parent instanceof o && 0 < o.compare(this.statics.blotName, this.parent.statics.blotName)) { var e = this.parent.isolate(this.offset(), this.length()); this.moveChildren(e), e.wrap(this) } } }], [{ key: "compare", value: function (t, e) { var n = o.order.indexOf(t), r = o.order.indexOf(e); return 0 <= n || 0 <= r ? n - r : t === e ? 0 : t < e ? -1 : 1 } }]), o }(); l.allowedChildren = [l, a.default.Embed, o.default], l.order = ["cursor", "inline", "underline", "strike", "italic", "bold", "script", "link", "code"], e.default = l }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function s(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function a(t, n) { if ((n = (0, b.default)(!0, { container: t, modules: { clipboard: !0, keyboard: !0, history: !0 } }, n)).theme && n.theme !== E.DEFAULTS.theme) { if (n.theme = E.import("themes/" + n.theme), null == n.theme) throw new Error("Invalid theme " + n.theme + ". Did you register it?") } else n.theme = w.default; var e = (0, b.default)(!0, {}, n.theme.DEFAULTS);[e, n].forEach(function (e) { e.modules = e.modules || {}, Object.keys(e.modules).forEach(function (t) { !0 === e.modules[t] && (e.modules[t] = {}) }) }); var r = Object.keys(e.modules).concat(Object.keys(n.modules)).reduce(function (t, e) { var n = E.import("modules/" + e); return null == n ? x.error("Cannot load " + e + " module. Are you sure you registered it?") : t[e] = n.DEFAULTS || {}, t }, {}); return null != n.modules && n.modules.toolbar && n.modules.toolbar.constructor !== Object && (n.modules.toolbar = { container: n.modules.toolbar }), n = (0, b.default)(!0, {}, E.DEFAULTS, { modules: r }, e, n), ["bounds", "container", "scrollingContainer"].forEach(function (t) { "string" == typeof n[t] && (n[t] = document.querySelector(n[t])) }), n.modules = Object.keys(n.modules).reduce(function (t, e) { return n.modules[e] && (t[e] = n.modules[e]), t }, {}), n } function u(t, e, n, r) { if (this.options.strict && !this.isEnabled() && e === g.default.sources.USER) return new d.default; var i = null == n ? null : this.getSelection(), o = this.editor.delta, s = t(); if (null != i && (!0 === n && (n = i.index), null == r ? i = f(i, s, e) : 0 !== r && (i = f(i, n, r, e)), this.setSelection(i, g.default.sources.SILENT)), 0 < s.length()) { var a, l, u = [g.default.events.TEXT_CHANGE, s, o, e]; if ((a = this.emitter).emit.apply(a, [g.default.events.EDITOR_CHANGE].concat(u)), e !== g.default.sources.SILENT) (l = this.emitter).emit.apply(l, u) } return s } function c(t, e, n, r, i) { var o = {}; return "number" == typeof t.index && "number" == typeof t.length ? ("number" != typeof e && (i = r, r = n, n = e), e = t.length, t = t.index) : "number" != typeof e && (i = r, r = n, n = e, e = 0), "object" === (void 0 === n ? "undefined" : l(n)) ? (o = n, i = r) : "string" == typeof n && (null != r ? o[n] = r : i = n), [t, e, o, i = i || g.default.sources.API] } function f(t, e, n, r) { if (null == t) return null; var i = void 0, o = void 0; if (e instanceof d.default) { var s = [t.index, t.index + t.length].map(function (t) { return e.transformPosition(t, r !== g.default.sources.USER) }), a = h(s, 2); i = a[0], o = a[1] } else { var l = [t.index, t.index + t.length].map(function (t) { return t < e || t === e && r === g.default.sources.USER ? t : 0 <= n ? t + n : Math.max(e, t + n) }), u = h(l, 2); i = u[0], o = u[1] } return new y.Range(i, o - i) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.overload = e.expandConfig = void 0; var l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, h = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(); n(53); var d = r(n(4)), p = r(n(57)), g = r(n(9)), o = r(n(7)), m = r(n(0)), y = n(22), v = r(y), b = r(n(2)), _ = r(n(10)), w = r(n(32)), x = (0, _.default)("quill"), E = function () { function o(t) { var i = this, e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; if (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, o), this.options = a(t, e), this.container = this.options.container, null == this.container) return x.error("Invalid Quill container", t); this.options.debug && o.debug(this.options.debug); var n = this.container.innerHTML.trim(); this.container.classList.add("ql-container"), this.container.innerHTML = "", (this.container.__quill = this).root = this.addContainer("ql-editor"), this.root.classList.add("ql-blank"), this.root.setAttribute("data-gramm", !1), this.scrollingContainer = this.options.scrollingContainer || this.root, this.emitter = new g.default, this.scroll = m.default.create(this.root, { emitter: this.emitter, whitelist: this.options.formats }), this.editor = new p.default(this.scroll), this.selection = new v.default(this.scroll, this.emitter), this.theme = new this.options.theme(this, this.options), this.keyboard = this.theme.addModule("keyboard"), this.clipboard = this.theme.addModule("clipboard"), this.history = this.theme.addModule("history"), this.theme.init(), this.emitter.on(g.default.events.EDITOR_CHANGE, function (t) { t === g.default.events.TEXT_CHANGE && i.root.classList.toggle("ql-blank", i.editor.isBlank()) }), this.emitter.on(g.default.events.SCROLL_UPDATE, function (t, e) { var n = i.selection.lastRange, r = n && 0 === n.length ? n.index : void 0; u.call(i, function () { return i.editor.update(null, e, r) }, t) }); var r = this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">" + n + "<p><br></p></div>"); this.setContents(r), this.history.clear(), this.options.placeholder && this.root.setAttribute("data-placeholder", this.options.placeholder), this.options.readOnly && this.disable() } return i(o, null, [{ key: "debug", value: function (t) { !0 === t && (t = "log"), _.default.level(t) } }, { key: "find", value: function (t) { return t.__quill || m.default.find(t) } }, { key: "import", value: function (t) { return null == this.imports[t] && x.error("Cannot import " + t + ". Are you sure it was registered?"), this.imports[t] } }, { key: "register", value: function (e, n) { var r = this, t = 2 < arguments.length && void 0 !== arguments[2] && arguments[2]; if ("string" != typeof e) { var i = e.attrName || e.blotName; "string" == typeof i ? this.register("formats/" + i, e, n) : Object.keys(e).forEach(function (t) { r.register(t, e[t], n) }) } else null == this.imports[e] || t || x.warn("Overwriting " + e + " with", n), this.imports[e] = n, (e.startsWith("blots/") || e.startsWith("formats/")) && "abstract" !== n.blotName ? m.default.register(n) : e.startsWith("modules") && "function" == typeof n.register && n.register() } }]), i(o, [{ key: "addContainer", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : null; if ("string" == typeof t) { var n = t; (t = document.createElement("div")).classList.add(n) } return this.container.insertBefore(t, e), t } }, { key: "blur", value: function () { this.selection.setRange(null) } }, { key: "deleteText", value: function (t, e, n) { var r = this, i = c(t, e, n), o = h(i, 4); return t = o[0], e = o[1], n = o[3], u.call(this, function () { return r.editor.deleteText(t, e) }, n, t, -1 * e) } }, { key: "disable", value: function () { this.enable(!1) } }, { key: "enable", value: function () { var t = !(0 < arguments.length && void 0 !== arguments[0]) || arguments[0]; this.scroll.enable(t), this.container.classList.toggle("ql-disabled", !t) } }, { key: "focus", value: function () { var t = this.scrollingContainer.scrollTop; this.selection.focus(), this.scrollingContainer.scrollTop = t, this.scrollIntoView() } }, { key: "format", value: function (n, r) { var i = this, t = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : g.default.sources.API; return u.call(this, function () { var t = i.getSelection(!0), e = new d.default; if (null == t) return e; if (m.default.query(n, m.default.Scope.BLOCK)) e = i.editor.formatLine(t.index, t.length, s({}, n, r)); else { if (0 === t.length) return i.selection.format(n, r), e; e = i.editor.formatText(t.index, t.length, s({}, n, r)) } return i.setSelection(t, g.default.sources.SILENT), e }, t) } }, { key: "formatLine", value: function (t, e, n, r, i) { var o, s = this, a = c(t, e, n, r, i), l = h(a, 4); return t = l[0], e = l[1], o = l[2], i = l[3], u.call(this, function () { return s.editor.formatLine(t, e, o) }, i, t, 0) } }, { key: "formatText", value: function (t, e, n, r, i) { var o, s = this, a = c(t, e, n, r, i), l = h(a, 4); return t = l[0], e = l[1], o = l[2], i = l[3], u.call(this, function () { return s.editor.formatText(t, e, o) }, i, t, 0) } }, { key: "getBounds", value: function (t) { var e, n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0; e = "number" == typeof t ? this.selection.getBounds(t, n) : this.selection.getBounds(t.index, t.length); var r = this.container.getBoundingClientRect(); return { bottom: e.bottom - r.top, height: e.height, left: e.left - r.left, right: e.right - r.left, top: e.top - r.top, width: e.width } } }, { key: "getContents", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0, e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : this.getLength() - t, n = c(t, e), r = h(n, 2); return t = r[0], e = r[1], this.editor.getContents(t, e) } }, { key: "getFormat", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : this.getSelection(!0), e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0; return "number" == typeof t ? this.editor.getFormat(t, e) : this.editor.getFormat(t.index, t.length) } }, { key: "getIndex", value: function (t) { return t.offset(this.scroll) } }, { key: "getLength", value: function () { return this.scroll.length() } }, { key: "getLeaf", value: function (t) { return this.scroll.leaf(t) } }, { key: "getLine", value: function (t) { return this.scroll.line(t) } }, { key: "getLines", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0, e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : Number.MAX_VALUE; return "number" != typeof t ? this.scroll.lines(t.index, t.length) : this.scroll.lines(t, e) } }, { key: "getModule", value: function (t) { return this.theme.modules[t] } }, { key: "getSelection", value: function () { return 0 < arguments.length && void 0 !== arguments[0] && arguments[0] && this.focus(), this.update(), this.selection.getRange()[0] } }, { key: "getText", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0, e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : this.getLength() - t, n = c(t, e), r = h(n, 2); return t = r[0], e = r[1], this.editor.getText(t, e) } }, { key: "hasFocus", value: function () { return this.selection.hasFocus() } }, { key: "insertEmbed", value: function (t, e, n) { var r = this, i = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : o.sources.API; return u.call(this, function () { return r.editor.insertEmbed(t, e, n) }, i, t) } }, { key: "insertText", value: function (t, e, n, r, i) { var o, s = this, a = c(t, 0, n, r, i), l = h(a, 4); return t = l[0], o = l[2], i = l[3], u.call(this, function () { return s.editor.insertText(t, e, o) }, i, t, e.length) } }, { key: "isEnabled", value: function () { return !this.container.classList.contains("ql-disabled") } }, { key: "off", value: function () { return this.emitter.off.apply(this.emitter, arguments) } }, { key: "on", value: function () { return this.emitter.on.apply(this.emitter, arguments) } }, { key: "once", value: function () { return this.emitter.once.apply(this.emitter, arguments) } }, { key: "pasteHTML", value: function (t, e, n) { this.clipboard.dangerouslyPasteHTML(t, e, n) } }, { key: "removeFormat", value: function (t, e, n) { var r = this, i = c(t, e, n), o = h(i, 4); return t = o[0], e = o[1], n = o[3], u.call(this, function () { return r.editor.removeFormat(t, e) }, n, t) } }, { key: "scrollIntoView", value: function () { this.selection.scrollIntoView(this.scrollingContainer) } }, { key: "setContents", value: function (i) { var o = this, t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : g.default.sources.API; return u.call(this, function () { i = new d.default(i); var t = o.getLength(), e = o.editor.deleteText(0, t), n = o.editor.applyDelta(i), r = n.ops[n.ops.length - 1]; return null != r && "string" == typeof r.insert && "\n" === r.insert[r.insert.length - 1] && (o.editor.deleteText(o.getLength() - 1, 1), n.delete(1)), e.compose(n) }, t) } }, { key: "setSelection", value: function (t, e, n) { if (null == t) this.selection.setRange(null, e || o.sources.API); else { var r = c(t, e, n), i = h(r, 4); t = i[0], e = i[1], n = i[3], this.selection.setRange(new y.Range(t, e), n), n !== g.default.sources.SILENT && this.selection.scrollIntoView(this.scrollingContainer) } } }, { key: "setText", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : g.default.sources.API, n = (new d.default).insert(t); return this.setContents(n, e) } }, { key: "update", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : g.default.sources.USER, e = this.scroll.update(t); return this.selection.update(t), e } }, { key: "updateContents", value: function (t) { var e = this, n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : g.default.sources.API; return u.call(this, function () { return t = new d.default(t), e.editor.applyDelta(t, n) }, n, !0) } }]), o }(); E.DEFAULTS = { bounds: null, formats: null, modules: {}, placeholder: "", readOnly: !1, scrollingContainer: null, strict: !0, theme: "default" }, E.events = g.default.events, E.sources = g.default.sources, E.version = "1.3.6", E.imports = { delta: d.default, parchment: m.default, "core/module": o.default, "core/theme": w.default }, e.expandConfig = a, e.overload = c, e.default = E }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r = function t(e) { var n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") })(this, t), this.quill = e, this.options = n }; r.DEFAULTS = {}, e.default = r }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = n(0), o = (r = i) && r.__esModule ? r : { default: r }, s = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, o.default.Text), e }(); e.default = s }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(e, "__esModule", { value: !0 }); var i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = r(n(58)), s = (0, r(n(10)).default)("quill:events");["selectionchange", "mousedown", "mouseup", "click"].forEach(function (t) { document.addEventListener(t, function () { for (var t = arguments.length, n = Array(t), e = 0; e < t; e++)n[e] = arguments[e];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function (t) { var e; t.__quill && t.__quill.emitter && (e = t.__quill.emitter).handleDOM.apply(e, n) }) }) }); var a = function (t) { function e() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var t = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this)); return t.listeners = {}, t.on("error", s.error), t } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, o.default), i(e, [{ key: "emit", value: function () { s.log.apply(s, arguments), function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "emit", this).apply(this, arguments) } }, { key: "handleDOM", value: function (r) { for (var t = arguments.length, i = Array(1 < t ? t - 1 : 0), e = 1; e < t; e++)i[e - 1] = arguments[e]; (this.listeners[r.type] || []).forEach(function (t) { var e = t.node, n = t.handler; (r.target === e || e.contains(r.target)) && n.apply(void 0, [r].concat(i)) }) } }, { key: "listenDOM", value: function (t, e, n) { this.listeners[t] || (this.listeners[t] = []), this.listeners[t].push({ node: e, handler: n }) } }]), e }(); a.events = { EDITOR_CHANGE: "editor-change", SCROLL_BEFORE_UPDATE: "scroll-before-update", SCROLL_OPTIMIZE: "scroll-optimize", SCROLL_UPDATE: "scroll-update", SELECTION_CHANGE: "selection-change", TEXT_CHANGE: "text-change" }, a.sources = { API: "api", SILENT: "silent", USER: "user" }, e.default = a }, function (t, e, n) { "use strict"; function r(t) { if (o.indexOf(t) <= o.indexOf(s)) { for (var e, n = arguments.length, r = Array(1 < n ? n - 1 : 0), i = 1; i < n; i++)r[i - 1] = arguments[i]; (e = console)[t].apply(e, r) } } function i(n) { return o.reduce(function (t, e) { return t[e] = r.bind(console, e, n), t }, {}) } Object.defineProperty(e, "__esModule", { value: !0 }); var o = ["error", "warn", "log", "info"], s = "warn"; r.level = i.level = function (t) { s = t }, e.default = i }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var i = n(1), r = function () { function t(t, e, n) { void 0 === n && (n = {}), this.attrName = t, this.keyName = e; var r = i.Scope.TYPE & i.Scope.ATTRIBUTE; null != n.scope ? this.scope = n.scope & i.Scope.LEVEL | r : this.scope = i.Scope.ATTRIBUTE, null != n.whitelist && (this.whitelist = n.whitelist) } return t.keys = function (t) { return [].map.call(t.attributes, function (t) { return t.name }) }, t.prototype.add = function (t, e) { return !!this.canAdd(t, e) && (t.setAttribute(this.keyName, e), !0) }, t.prototype.canAdd = function (t, e) { return null != i.query(t, i.Scope.BLOT & (this.scope | i.Scope.TYPE)) && (null == this.whitelist || ("string" == typeof e ? -1 < this.whitelist.indexOf(e.replace(/["']/g, "")) : -1 < this.whitelist.indexOf(e))) }, t.prototype.remove = function (t) { t.removeAttribute(this.keyName) }, t.prototype.value = function (t) { var e = t.getAttribute(this.keyName); return this.canAdd(t, e) && e ? e : "" }, t }(); e.default = r }, function (t, e, n) { function a(t) { return null == t } function l(t) { return !(!t || "object" != typeof t || "number" != typeof t.length || "function" != typeof t.copy || "function" != typeof t.slice || 0 < t.length && "number" != typeof t[0]) } var u = Array.prototype.slice, c = n(55), f = n(56), h = t.exports = function (t, e, n) { return n || (n = {}), t === e || (t instanceof Date && e instanceof Date ? t.getTime() === e.getTime() : !t || !e || "object" != typeof t && "object" != typeof e ? n.strict ? t === e : t == e : function (t, e, n) { var r, i; if (a(t) || a(e)) return !1; if (t.prototype !== e.prototype) return !1; if (f(t)) return !!f(e) && (t = u.call(t), e = u.call(e), h(t, e, n)); if (l(t)) { if (!l(e)) return !1; if (t.length !== e.length) return !1; for (r = 0; r < t.length; r++)if (t[r] !== e[r]) return !1; return !0 } try { var o = c(t), s = c(e) } catch (t) { return !1 } if (o.length != s.length) return !1; for (o.sort(), s.sort(), r = o.length - 1; 0 <= r; r--)if (o[r] != s[r]) return !1; for (r = o.length - 1; 0 <= r; r--)if (i = o[r], !h(t[i], e[i], n)) return !1; return typeof t == typeof e }(t, e, n)) } }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function i(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.Code = void 0; var a = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, l = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), c = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, f = r(n(4)), h = r(n(0)), d = r(n(3)), u = r(n(5)), p = r(n(8)), g = function (t) { function e() { return i(this, e), o(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return s(e, u.default), e }(); g.blotName = "code", g.tagName = "CODE"; var m = function (t) { function u() { return i(this, u), o(this, (u.__proto__ || Object.getPrototypeOf(u)).apply(this, arguments)) } return s(u, d.default), l(u, [{ key: "delta", value: function () { var n = this, t = this.domNode.textContent; return t.endsWith("\n") && (t = t.slice(0, -1)), t.split("\n").reduce(function (t, e) { return t.insert(e).insert("\n", n.formats()) }, new f.default) } }, { key: "format", value: function (t, e) { if (t !== this.statics.blotName || !e) { var n = this.descendant(p.default, this.length() - 1), r = a(n, 1)[0]; null != r && r.deleteAt(r.length() - 1, 1), c(u.prototype.__proto__ || Object.getPrototypeOf(u.prototype), "format", this).call(this, t, e) } } }, { key: "formatAt", value: function (t, e, n, r) { if (0 !== e && null != h.default.query(n, h.default.Scope.BLOCK) && (n !== this.statics.blotName || r !== this.statics.formats(this.domNode))) { var i = this.newlineIndex(t); if (!(i < 0 || t + e <= i)) { var o = this.newlineIndex(t, !0) + 1, s = i - o + 1, a = this.isolate(o, s), l = a.next; a.format(n, r), l instanceof u && l.formatAt(0, t - o + e - s, n, r) } } } }, { key: "insertAt", value: function (t, e, n) { if (null == n) { var r = this.descendant(p.default, t), i = a(r, 2), o = i[0], s = i[1]; o.insertAt(s, e) } } }, { key: "length", value: function () { var t = this.domNode.textContent.length; return this.domNode.textContent.endsWith("\n") ? t : t + 1 } }, { key: "newlineIndex", value: function (t) { if (1 < arguments.length && void 0 !== arguments[1] && arguments[1]) return this.domNode.textContent.slice(0, t).lastIndexOf("\n"); var e = this.domNode.textContent.slice(t).indexOf("\n"); return -1 < e ? t + e : -1 } }, { key: "optimize", value: function (t) { this.domNode.textContent.endsWith("\n") || this.appendChild(h.default.create("text", "\n")), c(u.prototype.__proto__ || Object.getPrototypeOf(u.prototype), "optimize", this).call(this, t); var e = this.next; null != e && e.prev === this && e.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === e.statics.formats(e.domNode) && (e.optimize(t), e.moveChildren(this), e.remove()) } }, { key: "replace", value: function (t) { c(u.prototype.__proto__ || Object.getPrototypeOf(u.prototype), "replace", this).call(this, t), [].slice.call(this.domNode.querySelectorAll("*")).forEach(function (t) { var e = h.default.find(t); null == e ? t.parentNode.removeChild(t) : e instanceof h.default.Embed ? e.remove() : e.unwrap() }) } }], [{ key: "create", value: function (t) { var e = c(u.__proto__ || Object.getPrototypeOf(u), "create", this).call(this, t); return e.setAttribute("spellcheck", !1), e } }, { key: "formats", value: function () { return !0 } }]), u }(); m.blotName = "code-block", m.tagName = "PRE", m.TAB = "  ", e.Code = g, e.default = m }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = n(0), s = (r = o) && r.__esModule ? r : { default: r }, a = function (t) { function n() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, n), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(n, s.default.Embed), i(n, [{ key: "insertInto", value: function (t, e) { 0 === t.children.length ? function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "insertInto", this).call(this, t, e) : this.remove() } }, { key: "length", value: function () { return 0 } }, { key: "value", value: function () { return "" } }], [{ key: "value", value: function () { } }]), n }(); a.blotName = "break", a.tagName = "BR", e.default = a }, function (t, e, n) { "use strict"; function r(t, e) { var n = document.createElement("a"); n.href = t; var r = n.href.slice(0, n.href.indexOf(":")); return -1 < e.indexOf(r) } Object.defineProperty(e, "__esModule", { value: !0 }), e.sanitize = e.default = void 0; var i, o = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), s = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, a = n(5), l = (i = a) && i.__esModule ? i : { default: i }, u = function (t) { function n() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, n), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(n, l.default), o(n, [{ key: "format", value: function (t, e) { if (t !== this.statics.blotName || !e) return s(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "format", this).call(this, t, e); e = this.constructor.sanitize(e), this.domNode.setAttribute("href", e) } }], [{ key: "create", value: function (t) { var e = s(n.__proto__ || Object.getPrototypeOf(n), "create", this).call(this, t); return t = this.sanitize(t), e.setAttribute("href", t), e.setAttribute("target", "_blank"), e } }, { key: "formats", value: function (t) { return t.getAttribute("href") } }, { key: "sanitize", value: function (t) { return r(t, this.PROTOCOL_WHITELIST) ? t : this.SANITIZED_URL } }]), n }(); u.blotName = "link", u.tagName = "A", u.SANITIZED_URL = "about:blank", u.PROTOCOL_WHITELIST = ["http", "https", "mailto", "tel"], e.default = u, e.sanitize = r }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function i(t, e) { t.setAttribute(e, !("true" === t.getAttribute(e))) } Object.defineProperty(e, "__esModule", { value: !0 }); var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, s = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), a = r(n(25)), l = r(n(106)), u = 0, c = function () { function n(t) { var e = this; (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") })(this, n), this.select = t, this.container = document.createElement("span"), this.buildPicker(), this.select.style.display = "none", this.select.parentNode.insertBefore(this.container, this.select), this.label.addEventListener("mousedown", function () { e.togglePicker() }), this.label.addEventListener("keydown", function (t) { switch (t.keyCode) { case a.default.keys.ENTER: e.togglePicker(); break; case a.default.keys.ESCAPE: e.escape(), t.preventDefault() } }), this.select.addEventListener("change", this.update.bind(this)) } return s(n, [{ key: "togglePicker", value: function () { this.container.classList.toggle("ql-expanded"), i(this.label, "aria-expanded"), i(this.options, "aria-hidden") } }, { key: "buildItem", value: function (t) { var e = this, n = document.createElement("span"); return n.tabIndex = "0", n.setAttribute("role", "button"), n.classList.add("ql-picker-item"), t.hasAttribute("value") && n.setAttribute("data-value", t.getAttribute("value")), t.textContent && n.setAttribute("data-label", t.textContent), n.addEventListener("click", function () { e.selectItem(n, !0) }), n.addEventListener("keydown", function (t) { switch (t.keyCode) { case a.default.keys.ENTER: e.selectItem(n, !0), t.preventDefault(); break; case a.default.keys.ESCAPE: e.escape(), t.preventDefault() } }), n } }, { key: "buildLabel", value: function () { var t = document.createElement("span"); return t.classList.add("ql-picker-label"), t.innerHTML = l.default, t.tabIndex = "0", t.setAttribute("role", "button"), t.setAttribute("aria-expanded", "false"), this.container.appendChild(t), t } }, { key: "buildOptions", value: function () { var n = this, r = document.createElement("span"); r.classList.add("ql-picker-options"), r.setAttribute("aria-hidden", "true"), r.tabIndex = "-1", r.id = "ql-picker-options-" + u, u += 1, this.label.setAttribute("aria-controls", r.id), this.options = r, [].slice.call(this.select.options).forEach(function (t) { var e = n.buildItem(t); r.appendChild(e), !0 === t.selected && n.selectItem(e) }), this.container.appendChild(r) } }, { key: "buildPicker", value: function () { var e = this;[].slice.call(this.select.attributes).forEach(function (t) { e.container.setAttribute(t.name, t.value) }), this.container.classList.add("ql-picker"), this.label = this.buildLabel(), this.buildOptions() } }, { key: "escape", value: function () { var t = this; this.close(), setTimeout(function () { return t.label.focus() }, 1) } }, { key: "close", value: function () { this.container.classList.remove("ql-expanded"), this.label.setAttribute("aria-expanded", "false"), this.options.setAttribute("aria-hidden", "true") } }, { key: "selectItem", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], n = this.container.querySelector(".ql-selected"); if (t !== n && (null != n && n.classList.remove("ql-selected"), null != t && (t.classList.add("ql-selected"), this.select.selectedIndex = [].indexOf.call(t.parentNode.children, t), t.hasAttribute("data-value") ? this.label.setAttribute("data-value", t.getAttribute("data-value")) : this.label.removeAttribute("data-value"), t.hasAttribute("data-label") ? this.label.setAttribute("data-label", t.getAttribute("data-label")) : this.label.removeAttribute("data-label"), e))) { if ("function" == typeof Event) this.select.dispatchEvent(new Event("change")); else if ("object" === ("undefined" == typeof Event ? "undefined" : o(Event))) { var r = document.createEvent("Event"); r.initEvent("change", !0, !0), this.select.dispatchEvent(r) } this.close() } } }, { key: "update", value: function () { var t = void 0; if (-1 < this.select.selectedIndex) { var e = this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex]; t = this.select.options[this.select.selectedIndex], this.selectItem(e) } else this.selectItem(null); var n = null != t && t !== this.select.querySelector("option[selected]"); this.label.classList.toggle("ql-active", n) } }]), n }(); e.default = c }, function (t, e, n) { "use strict"; function o(e) { var n = l.find(e); if (null == n) try { n = l.create(e) } catch (t) { n = l.create(l.Scope.INLINE), [].slice.call(e.childNodes).forEach(function (t) { n.domNode.appendChild(t) }), e.parentNode && e.parentNode.replaceChild(n.domNode, e), n.attach() } return n } var r, i = this && this.__extends || (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var a = n(47), s = n(27), l = n(1), u = function (n) { function s(t) { var e = n.call(this, t) || this; return e.build(), e } return i(s, n), s.prototype.appendChild = function (t) { this.insertBefore(t) }, s.prototype.attach = function () { n.prototype.attach.call(this), this.children.forEach(function (t) { t.attach() }) }, s.prototype.build = function () { var n = this; this.children = new a.default, [].slice.call(this.domNode.childNodes).reverse().forEach(function (t) { try { var e = o(t); n.insertBefore(e, n.children.head || void 0) } catch (t) { if (t instanceof l.ParchmentError) return; throw t } }) }, s.prototype.deleteAt = function (t, e) { if (0 === t && e === this.length()) return this.remove(); this.children.forEachAt(t, e, function (t, e, n) { t.deleteAt(e, n) }) }, s.prototype.descendant = function (t, e) { var n = this.children.find(e), r = n[0], i = n[1]; return null == t.blotName && t(r) || null != t.blotName && r instanceof t ? [r, i] : r instanceof s ? r.descendant(t, i) : [null, -1] }, s.prototype.descendants = function (r, t, e) { void 0 === t && (t = 0), void 0 === e && (e = Number.MAX_VALUE); var i = [], o = e; return this.children.forEachAt(t, e, function (t, e, n) { (null == r.blotName && r(t) || null != r.blotName && t instanceof r) && i.push(t), t instanceof s && (i = i.concat(t.descendants(r, e, o))), o -= n }), i }, s.prototype.detach = function () { this.children.forEach(function (t) { t.detach() }), n.prototype.detach.call(this) }, s.prototype.formatAt = function (t, e, r, i) { this.children.forEachAt(t, e, function (t, e, n) { t.formatAt(e, n, r, i) }) }, s.prototype.insertAt = function (t, e, n) { var r = this.children.find(t), i = r[0], o = r[1]; if (i) i.insertAt(o, e, n); else { var s = null == n ? l.create("text", e) : l.create(e, n); this.appendChild(s) } }, s.prototype.insertBefore = function (e, t) { if (null != this.statics.allowedChildren && !this.statics.allowedChildren.some(function (t) { return e instanceof t })) throw new l.ParchmentError("Cannot insert " + e.statics.blotName + " into " + this.statics.blotName); e.insertInto(this, t) }, s.prototype.length = function () { return this.children.reduce(function (t, e) { return t + e.length() }, 0) }, s.prototype.moveChildren = function (e, n) { this.children.forEach(function (t) { e.insertBefore(t, n) }) }, s.prototype.optimize = function (t) { if (n.prototype.optimize.call(this, t), 0 === this.children.length) if (null != this.statics.defaultChild) { var e = l.create(this.statics.defaultChild); this.appendChild(e), e.optimize(t) } else this.remove() }, s.prototype.path = function (t, e) { void 0 === e && (e = !1); var n = this.children.find(t, e), r = n[0], i = n[1], o = [[this, t]]; return r instanceof s ? o.concat(r.path(i, e)) : (null != r && o.push([r, i]), o) }, s.prototype.removeChild = function (t) { this.children.remove(t) }, s.prototype.replace = function (t) { t instanceof s && t.moveChildren(this), n.prototype.replace.call(this, t) }, s.prototype.split = function (t, r) { if (void 0 === r && (r = !1), !r) { if (0 === t) return this; if (t === this.length()) return this.next } var i = this.clone(); return this.parent.insertBefore(i, this.next), this.children.forEachAt(t, this.length(), function (t, e, n) { t = t.split(e, r), i.appendChild(t) }), i }, s.prototype.unwrap = function () { this.moveChildren(this.parent, this.next), this.remove() }, s.prototype.update = function (t, e) { var r = this, n = [], i = []; t.forEach(function (t) { t.target === r.domNode && "childList" === t.type && (n.push.apply(n, t.addedNodes), i.push.apply(i, t.removedNodes)) }), i.forEach(function (t) { if (!(null != t.parentNode && "IFRAME" !== t.tagName && document.body.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_CONTAINED_BY)) { var e = l.find(t); null != e && (null != e.domNode.parentNode && e.domNode.parentNode !== r.domNode || e.detach()) } }), n.filter(function (t) { return t.parentNode == r.domNode }).sort(function (t, e) { return t === e ? 0 : t.compareDocumentPosition(e) & Node.DOCUMENT_POSITION_FOLLOWING ? 1 : -1 }).forEach(function (t) { var e = null; null != t.nextSibling && (e = l.find(t.nextSibling)); var n = o(t); n.next == e && null != n.next || (null != n.parent && n.parent.removeChild(r), r.insertBefore(n, e || void 0)) }) }, s }(s.default); e.default = u }, function (t, e, n) { "use strict"; var r, o = this && this.__extends || (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var s = n(11), a = n(28), i = n(17), l = n(1), u = function (r) { function i(t) { var e = r.call(this, t) || this; return e.attributes = new a.default(e.domNode), e } return o(i, r), i.formats = function (t) { return "string" == typeof this.tagName || (Array.isArray(this.tagName) ? t.tagName.toLowerCase() : void 0) }, i.prototype.format = function (t, e) { var n = l.query(t); n instanceof s.default ? this.attributes.attribute(n, e) : e && (null == n || t === this.statics.blotName && this.formats()[t] === e || this.replaceWith(t, e)) }, i.prototype.formats = function () { var t = this.attributes.values(), e = this.statics.formats(this.domNode); return null != e && (t[this.statics.blotName] = e), t }, i.prototype.replaceWith = function (t, e) { var n = r.prototype.replaceWith.call(this, t, e); return this.attributes.copy(n), n }, i.prototype.update = function (t, e) { var n = this; r.prototype.update.call(this, t, e), t.some(function (t) { return t.target === n.domNode && "attributes" === t.type }) && this.attributes.build() }, i.prototype.wrap = function (t, e) { var n = r.prototype.wrap.call(this, t, e); return n instanceof i && n.statics.scope === this.statics.scope && this.attributes.move(n), n }, i }(i.default); e.default = u }, function (t, e, n) { "use strict"; var r, i = this && this.__extends || (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var o = n(27), s = n(1), a = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return i(e, t), e.value = function (t) { return !0 }, e.prototype.index = function (t, e) { return this.domNode === t || this.domNode.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_CONTAINED_BY ? Math.min(e, 1) : -1 }, e.prototype.position = function (t, e) { var n = [].indexOf.call(this.parent.domNode.childNodes, this.domNode); return 0 < t && (n += 1), [this.parent.domNode, n] }, e.prototype.value = function () { return (t = {})[this.statics.blotName] = this.statics.value(this.domNode) || !0, t; var t }, e.scope = s.Scope.INLINE_BLOT, e }(o.default); e.default = a }, function (t, e, n) { function r(t) { this.ops = t, this.index = 0, this.offset = 0 } var i = n(12), o = n(2), s = { attributes: { compose: function (t, e, n) { "object" != typeof t && (t = {}), "object" != typeof e && (e = {}); var r = o(!0, {}, e); for (var i in n || (r = Object.keys(r).reduce(function (t, e) { return null != r[e] && (t[e] = r[e]), t }, {})), t) void 0 !== t[i] && void 0 === e[i] && (r[i] = t[i]); return 0 < Object.keys(r).length ? r : void 0 }, diff: function (n, r) { "object" != typeof n && (n = {}), "object" != typeof r && (r = {}); var t = Object.keys(n).concat(Object.keys(r)).reduce(function (t, e) { return i(n[e], r[e]) || (t[e] = void 0 === r[e] ? null : r[e]), t }, {}); return 0 < Object.keys(t).length ? t : void 0 }, transform: function (n, r, t) { if ("object" != typeof n) return r; if ("object" == typeof r) { if (!t) return r; var e = Object.keys(r).reduce(function (t, e) { return void 0 === n[e] && (t[e] = r[e]), t }, {}); return 0 < Object.keys(e).length ? e : void 0 } } }, iterator: function (t) { return new r(t) }, length: function (t) { return "number" == typeof t.delete ? t.delete : "number" == typeof t.retain ? t.retain : "string" == typeof t.insert ? t.insert.length : 1 } }; r.prototype.hasNext = function () { return this.peekLength() < 1 / 0 }, r.prototype.next = function (t) { t || (t = 1 / 0); var e = this.ops[this.index]; if (e) { var n = this.offset, r = s.length(e); if (r - n <= t ? (t = r - n, this.index += 1, this.offset = 0) : this.offset += t, "number" == typeof e.delete) return { delete: t }; var i = {}; return e.attributes && (i.attributes = e.attributes), "number" == typeof e.retain ? i.retain = t : "string" == typeof e.insert ? i.insert = e.insert.substr(n, t) : i.insert = e.insert, i } return { retain: 1 / 0 } }, r.prototype.peek = function () { return this.ops[this.index] }, r.prototype.peekLength = function () { return this.ops[this.index] ? s.length(this.ops[this.index]) - this.offset : 1 / 0 }, r.prototype.peekType = function () { return this.ops[this.index] ? "number" == typeof this.ops[this.index].delete ? "delete" : "number" == typeof this.ops[this.index].retain ? "retain" : "insert" : "retain" }, t.exports = s }, function (t, e) { var n = function () { "use strict"; function b(t, e) { return null != e && t instanceof e } function _(t, d, e, p, g) { "object" == typeof d && (e = d.depth, p = d.prototype, g = d.includeNonEnumerable, d = d.circular); var m = [], y = [], v = "undefined" != typeof Buffer; return void 0 === d && (d = !0), void 0 === e && (e = 1 / 0), function i(t, o) { if (null === t) return null; if (0 === o) return t; var s, e; if ("object" != typeof t) return t; if (b(t, x)) s = new x; else if (b(t, E)) s = new E; else if (b(t, T)) s = new T(function (e, n) { t.then(function (t) { e(i(t, o - 1)) }, function (t) { n(i(t, o - 1)) }) }); else if (_.__isArray(t)) s = []; else if (_.__isRegExp(t)) s = new RegExp(t.source, w(t)), t.lastIndex && (s.lastIndex = t.lastIndex); else if (_.__isDate(t)) s = new Date(t.getTime()); else { if (v && Buffer.isBuffer(t)) return s = new Buffer(t.length), t.copy(s), s; b(t, Error) ? s = Object.create(t) : void 0 === p ? (e = Object.getPrototypeOf(t), s = Object.create(e)) : (s = Object.create(p), e = p) } if (d) { var n = m.indexOf(t); if (-1 != n) return y[n]; m.push(t), y.push(s) } for (var r in b(t, x) && t.forEach(function (t, e) { var n = i(e, o - 1), r = i(t, o - 1); s.set(n, r) }), b(t, E) && t.forEach(function (t) { var e = i(t, o - 1); s.add(e) }), t) { var a; e && (a = Object.getOwnPropertyDescriptor(e, r)), a && null == a.set || (s[r] = i(t[r], o - 1)) } if (Object.getOwnPropertySymbols) { var l = Object.getOwnPropertySymbols(t); for (r = 0; r < l.length; r++) { var u = l[r]; (!(f = Object.getOwnPropertyDescriptor(t, u)) || f.enumerable || g) && (s[u] = i(t[u], o - 1), f.enumerable || Object.defineProperty(s, u, { enumerable: !1 })) } } if (g) { var c = Object.getOwnPropertyNames(t); for (r = 0; r < c.length; r++) { var f, h = c[r]; (f = Object.getOwnPropertyDescriptor(t, h)) && f.enumerable || (s[h] = i(t[h], o - 1), Object.defineProperty(s, h, { enumerable: !1 })) } } return s }(t, e) } function e(t) { return Object.prototype.toString.call(t) } function w(t) { var e = ""; return t.global && (e += "g"), t.ignoreCase && (e += "i"), t.multiline && (e += "m"), e } var x, E, T; try { x = Map } catch (b) { x = function () { } } try { E = Set } catch (b) { E = function () { } } try { T = Promise } catch (b) { T = function () { } } return _.clonePrototype = function (t) { if (null === t) return null; var e = function () { }; return e.prototype = t, new e }, _.__objToStr = e, _.__isDate = function (t) { return "object" == typeof t && "[object Date]" === e(t) }, _.__isArray = function (t) { return "object" == typeof t && "[object Array]" === e(t) }, _.__isRegExp = function (t) { return "object" == typeof t && "[object RegExp]" === e(t) }, _.__getRegExpFlags = w, _ }(); "object" == typeof t && t.exports && (t.exports = n) }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function o(t) { if (Array.isArray(t)) { for (var e = 0, n = Array(t.length); e < t.length; e++)n[e] = t[e]; return n } return Array.from(t) } function i(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function s(t, e) { try { e.parentNode } catch (t) { return !1 } return e instanceof Text && (e = e.parentNode), t.contains(e) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.Range = void 0; var y = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, a = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), l = r(n(0)), u = r(n(21)), c = r(n(12)), f = r(n(9)), h = (0, r(n(10)).default)("quill:selection"), d = function t(e) { var n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0; i(this, t), this.index = e, this.length = n }, p = function () { function n(t, e) { var a = this; i(this, n), this.emitter = e, this.scroll = t, this.composing = !1, this.mouseDown = !1, this.root = this.scroll.domNode, this.cursor = l.default.create("cursor", this), this.lastRange = this.savedRange = new d(0, 0), this.handleComposition(), this.handleDragging(), this.emitter.listenDOM("selectionchange", document, function () { a.mouseDown || setTimeout(a.update.bind(a, f.default.sources.USER), 1) }), this.emitter.on(f.default.events.EDITOR_CHANGE, function (t, e) { t === f.default.events.TEXT_CHANGE && 0 < e.length() && a.update(f.default.sources.SILENT) }), this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE, function () { if (a.hasFocus()) { var t = a.getNativeRange(); null != t && t.start.node !== a.cursor.textNode && a.emitter.once(f.default.events.SCROLL_UPDATE, function () { try { a.setNativeRange(t.start.node, t.start.offset, t.end.node, t.end.offset) } catch (t) { } }) } }), this.emitter.on(f.default.events.SCROLL_OPTIMIZE, function (t, e) { if (e.range) { var n = e.range, r = n.startNode, i = n.startOffset, o = n.endNode, s = n.endOffset; a.setNativeRange(r, i, o, s) } }), this.update(f.default.sources.SILENT) } return a(n, [{ key: "handleComposition", value: function () { var e = this; this.root.addEventListener("compositionstart", function () { e.composing = !0 }), this.root.addEventListener("compositionend", function () { if (e.composing = !1, e.cursor.parent) { var t = e.cursor.restore(); if (!t) return; setTimeout(function () { e.setNativeRange(t.startNode, t.startOffset, t.endNode, t.endOffset) }, 1) } }) } }, { key: "handleDragging", value: function () { var t = this; this.emitter.listenDOM("mousedown", document.body, function () { t.mouseDown = !0 }), this.emitter.listenDOM("mouseup", document.body, function () { t.mouseDown = !1, t.update(f.default.sources.USER) }) } }, { key: "focus", value: function () { this.hasFocus() || (this.root.focus(), this.setRange(this.savedRange)) } }, { key: "format", value: function (t, e) { if (null == this.scroll.whitelist || this.scroll.whitelist[t]) { this.scroll.update(); var n = this.getNativeRange(); if (null != n && n.native.collapsed && !l.default.query(t, l.default.Scope.BLOCK)) { if (n.start.node !== this.cursor.textNode) { var r = l.default.find(n.start.node, !1); if (null == r) return; if (r instanceof l.default.Leaf) { var i = r.split(n.start.offset); r.parent.insertBefore(this.cursor, i) } else r.insertBefore(this.cursor, n.start.node); this.cursor.attach() } this.cursor.format(t, e), this.scroll.optimize(), this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length), this.update() } } } }, { key: "getBounds", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0, n = this.scroll.length(); t = Math.min(t, n - 1), e = Math.min(t + e, n - 1) - t; var r = void 0, i = this.scroll.leaf(t), o = y(i, 2), s = o[0], a = o[1]; if (null == s) return null; var l = s.position(a, !0), u = y(l, 2); r = u[0], a = u[1]; var c = document.createRange(); if (0 < e) { c.setStart(r, a); var f = this.scroll.leaf(t + e), h = y(f, 2); if (s = h[0], a = h[1], null == s) return null; var d = s.position(a, !0), p = y(d, 2); return r = p[0], a = p[1], c.setEnd(r, a), c.getBoundingClientRect() } var g = "left", m = void 0; return r instanceof Text ? (a < r.data.length ? (c.setStart(r, a), c.setEnd(r, a + 1)) : (c.setStart(r, a - 1), c.setEnd(r, a), g = "right"), m = c.getBoundingClientRect()) : (m = s.domNode.getBoundingClientRect(), 0 < a && (g = "right")), { bottom: m.top + m.height, height: m.height, left: m[g], right: m[g], top: m.top, width: 0 } } }, { key: "getNativeRange", value: function () { var t = document.getSelection(); if (null == t || t.rangeCount <= 0) return null; var e = t.getRangeAt(0); if (null == e) return null; var n = this.normalizeNative(e); return h.info("getNativeRange", n), n } }, { key: "getRange", value: function () { var t = this.getNativeRange(); return null == t ? [null, null] : [this.normalizedToRange(t), t] } }, { key: "hasFocus", value: function () { return document.activeElement === this.root } }, { key: "normalizedToRange", value: function (t) { var s = this, e = [[t.start.node, t.start.offset]]; t.native.collapsed || e.push([t.end.node, t.end.offset]); var n = e.map(function (t) { var e = y(t, 2), n = e[0], r = e[1], i = l.default.find(n, !0), o = i.offset(s.scroll); return 0 === r ? o : i instanceof l.default.Container ? o + i.length() : o + i.index(n, r) }), r = Math.min(Math.max.apply(Math, o(n)), this.scroll.length() - 1), i = Math.min.apply(Math, [r].concat(o(n))); return new d(i, r - i) } }, { key: "normalizeNative", value: function (t) { if (!s(this.root, t.startContainer) || !t.collapsed && !s(this.root, t.endContainer)) return null; var e = { start: { node: t.startContainer, offset: t.startOffset }, end: { node: t.endContainer, offset: t.endOffset }, native: t }; return [e.start, e.end].forEach(function (t) { for (var e = t.node, n = t.offset; !(e instanceof Text) && 0 < e.childNodes.length;)if (e.childNodes.length > n) e = e.childNodes[n], n = 0; else { if (e.childNodes.length !== n) break; n = (e = e.lastChild) instanceof Text ? e.data.length : e.childNodes.length + 1 } t.node = e, t.offset = n }), e } }, { key: "rangeToNative", value: function (t) { var u = this, e = t.collapsed ? [t.index] : [t.index, t.index + t.length], c = [], f = this.scroll.length(); return e.forEach(function (t, e) { t = Math.min(f - 1, t); var n, r = u.scroll.leaf(t), i = y(r, 2), o = i[0], s = i[1], a = o.position(s, 0 !== e), l = y(a, 2); n = l[0], s = l[1], c.push(n, s) }), c.length < 2 && (c = c.concat(c)), c } }, { key: "scrollIntoView", value: function (t) { var e = this.lastRange; if (null != e) { var n = this.getBounds(e.index, e.length); if (null != n) { var r = this.scroll.length() - 1, i = this.scroll.line(Math.min(e.index, r)), o = y(i, 1)[0], s = o; if (0 < e.length) { var a = this.scroll.line(Math.min(e.index + e.length, r)); s = y(a, 1)[0] } if (null != o && null != s) { var l = t.getBoundingClientRect(); n.top < l.top ? t.scrollTop -= l.top - n.top : n.bottom > l.bottom && (t.scrollTop += n.bottom - l.bottom) } } } } }, { key: "setNativeRange", value: function (t, e) { var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : t, r = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : e, i = 4 < arguments.length && void 0 !== arguments[4] && arguments[4]; if (h.info("setNativeRange", t, e, n, r), null == t || null != this.root.parentNode && null != t.parentNode && null != n.parentNode) { var o = document.getSelection(); if (null != o) if (null != t) { this.hasFocus() || this.root.focus(); var s = (this.getNativeRange() || {}).native; if (null == s || i || t !== s.startContainer || e !== s.startOffset || n !== s.endContainer || r !== s.endOffset) { "BR" == t.tagName && (e = [].indexOf.call(t.parentNode.childNodes, t), t = t.parentNode), "BR" == n.tagName && (r = [].indexOf.call(n.parentNode.childNodes, n), n = n.parentNode); var a = document.createRange(); a.setStart(t, e), a.setEnd(n, r), o.removeAllRanges(), o.addRange(a) } } else o.removeAllRanges(), this.root.blur(), document.body.focus() } } }, { key: "setRange", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : f.default.sources.API; if ("string" == typeof e && (n = e, e = !1), h.info("setRange", t), null != t) { var r = this.rangeToNative(t); this.setNativeRange.apply(this, o(r).concat([e])) } else this.setNativeRange(null); this.update(n) } }, { key: "update", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : f.default.sources.USER, e = this.lastRange, n = this.getRange(), r = y(n, 2), i = r[0], o = r[1]; if (this.lastRange = i, null != this.lastRange && (this.savedRange = this.lastRange), !(0, c.default)(e, this.lastRange)) { var s; !this.composing && null != o && o.native.collapsed && o.start.node !== this.cursor.textNode && this.cursor.restore(); var a, l = [f.default.events.SELECTION_CHANGE, (0, u.default)(this.lastRange), (0, u.default)(e), t]; if ((s = this.emitter).emit.apply(s, [f.default.events.EDITOR_CHANGE].concat(l)), t !== f.default.sources.SILENT) (a = this.emitter).emit.apply(a, l) } } }]), n }(); e.Range = d, e.default = p }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(e, "__esModule", { value: !0 }); var i = r(n(0)), o = n(3), s = r(o), a = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, i.default.Container), e }(); a.allowedChildren = [s.default, o.BlockEmbed, a], e.default = a }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.ColorStyle = e.ColorClass = e.ColorAttributor = void 0; var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = n(0), s = (r = o) && r.__esModule ? r : { default: r }, a = function (t) { function n() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, n), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(n, s.default.Attributor.Style), i(n, [{ key: "value", value: function (t) { var e = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "value", this).call(this, t); return e.startsWith("rgb(") ? "#" + (e = e.replace(/^[^\d]+/, "").replace(/[^\d]+$/, "")).split(",").map(function (t) { return ("00" + parseInt(t).toString(16)).slice(-2) }).join("") : e } }]), n }(), l = new s.default.Attributor.Class("color", "ql-color", { scope: s.default.Scope.INLINE }), u = new a("color", "color", { scope: s.default.Scope.INLINE }); e.ColorAttributor = a, e.ColorClass = l, e.ColorStyle = u }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function o(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function i(r, i) { var t, e = r === S.keys.LEFT ? "prefix" : "suffix"; return o(t = { key: r, shiftKey: i, altKey: null }, e, /^$/), o(t, "handler", function (t) { var e = t.index; r === S.keys.RIGHT && (e += t.length + 1); var n = this.quill.getLeaf(e); return !(x(n, 1)[0] instanceof T.default.Embed && (r === S.keys.LEFT ? i ? this.quill.setSelection(t.index - 1, t.length + 1, v.default.sources.USER) : this.quill.setSelection(t.index - 1, v.default.sources.USER) : i ? this.quill.setSelection(t.index, t.length + 1, v.default.sources.USER) : this.quill.setSelection(t.index + t.length + 1, v.default.sources.USER), 1)) }), t } function s(t, e) { if (!(0 === t.index || this.quill.getLength() <= 1)) { var n = this.quill.getLine(t.index), r = x(n, 1)[0], i = {}; if (0 === e.offset) { var o = this.quill.getLine(t.index - 1), s = x(o, 1)[0]; if (null != s && 1 < s.length()) { var a = r.formats(), l = this.quill.getFormat(t.index - 1, 1); i = y.default.attributes.diff(a, l) || {} } } var u = /[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix) ? 2 : 1; this.quill.deleteText(t.index - u, u, v.default.sources.USER), 0 < Object.keys(i).length && this.quill.formatLine(t.index - u, u, i, v.default.sources.USER), this.quill.focus() } } function a(t, e) { var n = /^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix) ? 2 : 1; if (!(t.index >= this.quill.getLength() - n)) { var r = {}, i = 0, o = this.quill.getLine(t.index), s = x(o, 1)[0]; if (e.offset >= s.length() - 1) { var a = this.quill.getLine(t.index + 1), l = x(a, 1)[0]; if (l) { var u = s.formats(), c = this.quill.getFormat(t.index, 1); r = y.default.attributes.diff(u, c) || {}, i = l.length() } } this.quill.deleteText(t.index, n, v.default.sources.USER), 0 < Object.keys(r).length && this.quill.formatLine(t.index + i - 1, n, r, v.default.sources.USER) } } function l(t) { var e = this.quill.getLines(t), n = {}; if (1 < e.length) { var r = e[0].formats(), i = e[e.length - 1].formats(); n = y.default.attributes.diff(i, r) || {} } this.quill.deleteText(t, v.default.sources.USER), 0 < Object.keys(n).length && this.quill.formatLine(t.index, 1, n, v.default.sources.USER), this.quill.setSelection(t.index, v.default.sources.SILENT), this.quill.focus() } function u(t, n) { var e = this; 0 < t.length && this.quill.scroll.deleteAt(t.index, t.length); var r = Object.keys(n.format).reduce(function (t, e) { return T.default.query(e, T.default.Scope.BLOCK) && !Array.isArray(n.format[e]) && (t[e] = n.format[e]), t }, {}); this.quill.insertText(t.index, "\n", r, v.default.sources.USER), this.quill.setSelection(t.index + 1, v.default.sources.SILENT), this.quill.focus(), Object.keys(n.format).forEach(function (t) { null == r[t] && (Array.isArray(n.format[t]) || "link" !== t && e.quill.format(t, n.format[t], v.default.sources.USER)) }) } function c(h) { return { key: S.keys.TAB, shiftKey: !h, format: { "code-block": !0 }, handler: function (t) { var n = T.default.query("code-block"), r = t.index, i = t.length, e = this.quill.scroll.descendant(n, r), o = x(e, 2), s = o[0], a = o[1]; if (null != s) { var l = this.quill.getIndex(s), u = s.newlineIndex(a, !0) + 1, c = s.newlineIndex(l + a + i), f = s.domNode.textContent.slice(u, c).split("\n"); a = 0, f.forEach(function (t, e) { h ? (s.insertAt(u + a, n.TAB), a += n.TAB.length, 0 === e ? r += n.TAB.length : i += n.TAB.length) : t.startsWith(n.TAB) && (s.deleteAt(u + a, n.TAB.length), a -= n.TAB.length, 0 === e ? r -= n.TAB.length : i -= n.TAB.length), a += t.length + 1 }), this.quill.update(v.default.sources.USER), this.quill.setSelection(r, i, v.default.sources.SILENT) } } } } function f(n) { return { key: n[0].toUpperCase(), shortKey: !0, handler: function (t, e) { this.quill.format(n, !e.format[n], v.default.sources.USER) } } } function h(t) { if ("string" == typeof t || "number" == typeof t) return h({ key: t }); if ("object" === (void 0 === t ? "undefined" : w(t)) && (t = (0, p.default)(t, !1)), "string" == typeof t.key) if (null != S.keys[t.key.toUpperCase()]) t.key = S.keys[t.key.toUpperCase()]; else { if (1 !== t.key.length) return null; t.key = t.key.toUpperCase().charCodeAt(0) } return t.shortKey && (t[_] = t.shortKey, delete t.shortKey), t } Object.defineProperty(e, "__esModule", { value: !0 }), e.SHORTKEY = e.default = void 0; var w = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, x = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, d = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), p = r(n(21)), E = r(n(12)), g = r(n(2)), m = r(n(4)), y = r(n(20)), T = r(n(0)), v = r(n(6)), b = r(n(10)), k = r(n(7)), j = (0, b.default)("quill:keyboard"), _ = /Mac/i.test(navigator.platform) ? "metaKey" : "ctrlKey", S = function (t) { function _(e, t) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, _); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (_.__proto__ || Object.getPrototypeOf(_)).call(this, e, t)); return n.bindings = {}, Object.keys(n.options.bindings).forEach(function (t) { ("list autofill" !== t || null == e.scroll.whitelist || e.scroll.whitelist.list) && n.options.bindings[t] && n.addBinding(n.options.bindings[t]) }), n.addBinding({ key: _.keys.ENTER, shiftKey: null }, u), n.addBinding({ key: _.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () { }), /Firefox/i.test(navigator.userAgent) ? (n.addBinding({ key: _.keys.BACKSPACE }, { collapsed: !0 }, s), n.addBinding({ key: _.keys.DELETE }, { collapsed: !0 }, a)) : (n.addBinding({ key: _.keys.BACKSPACE }, { collapsed: !0, prefix: /^.?$/ }, s), n.addBinding({ key: _.keys.DELETE }, { collapsed: !0, suffix: /^.?$/ }, a)), n.addBinding({ key: _.keys.BACKSPACE }, { collapsed: !1 }, l), n.addBinding({ key: _.keys.DELETE }, { collapsed: !1 }, l), n.addBinding({ key: _.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: !0, offset: 0 }, s), n.listen(), n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(_, k.default), d(_, null, [{ key: "match", value: function (e, n) { return n = h(n), !["altKey", "ctrlKey", "metaKey", "shiftKey"].some(function (t) { return !!n[t] !== e[t] && null !== n[t] }) && n.key === (e.which || e.keyCode) } }]), d(_, [{ key: "addBinding", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}, n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}, r = h(t); if (null == r || null == r.key) return j.warn("Attempted to add invalid keyboard binding", r); "function" == typeof e && (e = { handler: e }), "function" == typeof n && (n = { handler: n }), r = (0, g.default)(r, e, n), this.bindings[r.key] = this.bindings[r.key] || [], this.bindings[r.key].push(r) } }, { key: "listen", value: function () { var b = this; this.quill.root.addEventListener("keydown", function (e) { if (!e.defaultPrevented) { var t = e.which || e.keyCode, n = (b.bindings[t] || []).filter(function (t) { return _.match(e, t) }); if (0 !== n.length) { var r = b.quill.getSelection(); if (null != r && b.quill.hasFocus()) { var i = b.quill.getLine(r.index), o = x(i, 2), s = o[0], a = o[1], l = b.quill.getLeaf(r.index), u = x(l, 2), c = u[0], f = u[1], h = 0 === r.length ? [c, f] : b.quill.getLeaf(r.index + r.length), d = x(h, 2), p = d[0], g = d[1], m = c instanceof T.default.Text ? c.value().slice(0, f) : "", y = p instanceof T.default.Text ? p.value().slice(g) : "", v = { collapsed: 0 === r.length, empty: 0 === r.length && s.length() <= 1, format: b.quill.getFormat(r), offset: a, prefix: m, suffix: y }; n.some(function (e) { if (null != e.collapsed && e.collapsed !== v.collapsed) return !1; if (null != e.empty && e.empty !== v.empty) return !1; if (null != e.offset && e.offset !== v.offset) return !1; if (Array.isArray(e.format)) { if (e.format.every(function (t) { return null == v.format[t] })) return !1 } else if ("object" === w(e.format) && !Object.keys(e.format).every(function (t) { return !0 === e.format[t] ? null != v.format[t] : !1 === e.format[t] ? null == v.format[t] : (0, E.default)(e.format[t], v.format[t]) })) return !1; return !(null != e.prefix && !e.prefix.test(v.prefix) || null != e.suffix && !e.suffix.test(v.suffix) || !0 === e.handler.call(b, r, v)) }) && e.preventDefault() } } } }) } }]), _ }(); S.keys = { BACKSPACE: 8, TAB: 9, ENTER: 13, ESCAPE: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46 }, S.DEFAULTS = { bindings: { bold: f("bold"), italic: f("italic"), underline: f("underline"), indent: { key: S.keys.TAB, format: ["blockquote", "indent", "list"], handler: function (t, e) { if (e.collapsed && 0 !== e.offset) return !0; this.quill.format("indent", "+1", v.default.sources.USER) } }, outdent: { key: S.keys.TAB, shiftKey: !0, format: ["blockquote", "indent", "list"], handler: function (t, e) { if (e.collapsed && 0 !== e.offset) return !0; this.quill.format("indent", "-1", v.default.sources.USER) } }, "outdent backspace": { key: S.keys.BACKSPACE, collapsed: !0, shiftKey: null, metaKey: null, ctrlKey: null, altKey: null, format: ["indent", "list"], offset: 0, handler: function (t, e) { null != e.format.indent ? this.quill.format("indent", "-1", v.default.sources.USER) : null != e.format.list && this.quill.format("list", !1, v.default.sources.USER) } }, "indent code-block": c(!0), "outdent code-block": c(!1), "remove tab": { key: S.keys.TAB, shiftKey: !0, collapsed: !0, prefix: /\t$/, handler: function (t) { this.quill.deleteText(t.index - 1, 1, v.default.sources.USER) } }, tab: { key: S.keys.TAB, handler: function (t) { this.quill.history.cutoff(); var e = (new m.default).retain(t.index).delete(t.length).insert("\t"); this.quill.updateContents(e, v.default.sources.USER), this.quill.history.cutoff(), this.quill.setSelection(t.index + 1, v.default.sources.SILENT) } }, "list empty enter": { key: S.keys.ENTER, collapsed: !0, format: ["list"], empty: !0, handler: function (t, e) { this.quill.format("list", !1, v.default.sources.USER), e.format.indent && this.quill.format("indent", !1, v.default.sources.USER) } }, "checklist enter": { key: S.keys.ENTER, collapsed: !0, format: { list: "checked" }, handler: function (t) { var e = this.quill.getLine(t.index), n = x(e, 2), r = n[0], i = n[1], o = (0, g.default)({}, r.formats(), { list: "checked" }), s = (new m.default).retain(t.index).insert("\n", o).retain(r.length() - i - 1).retain(1, { list: "unchecked" }); this.quill.updateContents(s, v.default.sources.USER), this.quill.setSelection(t.index + 1, v.default.sources.SILENT), this.quill.scrollIntoView() } }, "header enter": { key: S.keys.ENTER, collapsed: !0, format: ["header"], suffix: /^$/, handler: function (t, e) { var n = this.quill.getLine(t.index), r = x(n, 2), i = r[0], o = r[1], s = (new m.default).retain(t.index).insert("\n", e.format).retain(i.length() - o - 1).retain(1, { header: null }); this.quill.updateContents(s, v.default.sources.USER), this.quill.setSelection(t.index + 1, v.default.sources.SILENT), this.quill.scrollIntoView() } }, "list autofill": { key: " ", collapsed: !0, format: { list: !1 }, prefix: /^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/, handler: function (t, e) { var n = e.prefix.length, r = this.quill.getLine(t.index), i = x(r, 2), o = i[0], s = i[1]; if (n < s) return !0; var a = void 0; switch (e.prefix.trim()) { case "[]": case "[ ]": a = "unchecked"; break; case "[x]": a = "checked"; break; case "-": case "*": a = "bullet"; break; default: a = "ordered" }this.quill.insertText(t.index, " ", v.default.sources.USER), this.quill.history.cutoff(); var l = (new m.default).retain(t.index - s).delete(n + 1).retain(o.length() - 2 - s).retain(1, { list: a }); this.quill.updateContents(l, v.default.sources.USER), this.quill.history.cutoff(), this.quill.setSelection(t.index - n, v.default.sources.SILENT) } }, "code exit": { key: S.keys.ENTER, collapsed: !0, format: ["code-block"], prefix: /\n\n$/, suffix: /^\s+$/, handler: function (t) { var e = this.quill.getLine(t.index), n = x(e, 2), r = n[0], i = n[1], o = (new m.default).retain(t.index + r.length() - i - 2).retain(1, { "code-block": null }).delete(1); this.quill.updateContents(o, v.default.sources.USER) } }, "embed left": i(S.keys.LEFT, !1), "embed left shift": i(S.keys.LEFT, !0), "embed right": i(S.keys.RIGHT, !1), "embed right shift": i(S.keys.RIGHT, !0) } }, e.default = S, e.SHORTKEY = _ }, function (t, e, n) { "use strict"; t.exports = { align: { "": n(75), center: n(76), right: n(77), justify: n(78) }, background: n(79), blockquote: n(80), bold: n(81), clean: n(82), code: n(40), "code-block": n(40), color: n(83), direction: { "": n(84), rtl: n(85) }, float: { center: n(86), full: n(87), left: n(88), right: n(89) }, formula: n(90), header: { 1: n(91), 2: n(92) }, italic: n(93), image: n(94), indent: { "+1": n(95), "-1": n(96) }, link: n(97), list: { ordered: n(98), bullet: n(99), check: n(100) }, script: { sub: n(101), super: n(102) }, strike: n(103), underline: n(104), video: n(105) } }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var s = n(1), r = function () { function t(t) { this.domNode = t, this.domNode[s.DATA_KEY] = { blot: this } } return Object.defineProperty(t.prototype, "statics", { get: function () { return this.constructor }, enumerable: !0, configurable: !0 }), t.create = function (t) { if (null == this.tagName) throw new s.ParchmentError("Blot definition missing tagName"); var e; return Array.isArray(this.tagName) ? ("string" == typeof t && (t = t.toUpperCase(), parseInt(t).toString() === t && (t = parseInt(t))), e = "number" == typeof t ? document.createElement(this.tagName[t - 1]) : -1 < this.tagName.indexOf(t) ? document.createElement(t) : document.createElement(this.tagName[0])) : e = document.createElement(this.tagName), this.className && e.classList.add(this.className), e }, t.prototype.attach = function () { null != this.parent && (this.scroll = this.parent.scroll) }, t.prototype.clone = function () { var t = this.domNode.cloneNode(!1); return s.create(t) }, t.prototype.detach = function () { null != this.parent && this.parent.removeChild(this), delete this.domNode[s.DATA_KEY] }, t.prototype.deleteAt = function (t, e) { this.isolate(t, e).remove() }, t.prototype.formatAt = function (t, e, n, r) { var i = this.isolate(t, e); if (null != s.query(n, s.Scope.BLOT) && r) i.wrap(n, r); else if (null != s.query(n, s.Scope.ATTRIBUTE)) { var o = s.create(this.statics.scope); i.wrap(o), o.format(n, r) } }, t.prototype.insertAt = function (t, e, n) { var r = null == n ? s.create("text", e) : s.create(e, n), i = this.split(t); this.parent.insertBefore(r, i) }, t.prototype.insertInto = function (t, e) { void 0 === e && (e = null), null != this.parent && this.parent.children.remove(this); var n = null; t.children.insertBefore(this, e), null != e && (n = e.domNode), this.domNode.parentNode == t.domNode && this.domNode.nextSibling == n || t.domNode.insertBefore(this.domNode, n), this.parent = t, this.attach() }, t.prototype.isolate = function (t, e) { var n = this.split(t); return n.split(e), n }, t.prototype.length = function () { return 1 }, t.prototype.offset = function (t) { return void 0 === t && (t = this.parent), null == this.parent || this == t ? 0 : this.parent.children.offset(this) + this.parent.offset(t) }, t.prototype.optimize = function (t) { null != this.domNode[s.DATA_KEY] && delete this.domNode[s.DATA_KEY].mutations }, t.prototype.remove = function () { null != this.domNode.parentNode && this.domNode.parentNode.removeChild(this.domNode), this.detach() }, t.prototype.replace = function (t) { null != t.parent && (t.parent.insertBefore(this, t.next), t.remove()) }, t.prototype.replaceWith = function (t, e) { var n = "string" == typeof t ? s.create(t, e) : t; return n.replace(this), n }, t.prototype.split = function (t, e) { return 0 === t ? this : this.next }, t.prototype.update = function (t, e) { }, t.prototype.wrap = function (t, e) { var n = "string" == typeof t ? s.create(t, e) : t; return null != this.parent && this.parent.insertBefore(n, this.next), n.appendChild(this), n }, t.blotName = "abstract", t }(); e.default = r }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var i = n(11), o = n(29), s = n(30), a = n(1), r = function () { function t(t) { this.attributes = {}, this.domNode = t, this.build() } return t.prototype.attribute = function (t, e) { e ? t.add(this.domNode, e) && (null != t.value(this.domNode) ? this.attributes[t.attrName] = t : delete this.attributes[t.attrName]) : (t.remove(this.domNode), delete this.attributes[t.attrName]) }, t.prototype.build = function () { var n = this; this.attributes = {}; var t = i.default.keys(this.domNode), e = o.default.keys(this.domNode), r = s.default.keys(this.domNode); t.concat(e).concat(r).forEach(function (t) { var e = a.query(t, a.Scope.ATTRIBUTE); e instanceof i.default && (n.attributes[e.attrName] = e) }) }, t.prototype.copy = function (n) { var r = this; Object.keys(this.attributes).forEach(function (t) { var e = r.attributes[t].value(r.domNode); n.format(t, e) }) }, t.prototype.move = function (t) { var e = this; this.copy(t), Object.keys(this.attributes).forEach(function (t) { e.attributes[t].remove(e.domNode) }), this.attributes = {} }, t.prototype.values = function () { var n = this; return Object.keys(this.attributes).reduce(function (t, e) { return t[e] = n.attributes[e].value(n.domNode), t }, {}) }, t }(); e.default = r }, function (t, e, n) { "use strict"; function r(t, e) { return (t.getAttribute("class") || "").split(/\s+/).filter(function (t) { return 0 === t.indexOf(e + "-") }) } var i, o = this && this.__extends || (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var s = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.keys = function (t) { return (t.getAttribute("class") || "").split(/\s+/).map(function (t) { return t.split("-").slice(0, -1).join("-") }) }, e.prototype.add = function (t, e) { return !!this.canAdd(t, e) && (this.remove(t), t.classList.add(this.keyName + "-" + e), !0) }, e.prototype.remove = function (e) { r(e, this.keyName).forEach(function (t) { e.classList.remove(t) }), 0 === e.classList.length && e.removeAttribute("class") }, e.prototype.value = function (t) { var e = (r(t, this.keyName)[0] || "").slice(this.keyName.length + 1); return this.canAdd(t, e) ? e : "" }, e }(n(11).default); e.default = s }, function (t, e, n) { "use strict"; function r(t) { var e = t.split("-"), n = e.slice(1).map(function (t) { return t[0].toUpperCase() + t.slice(1) }).join(""); return e[0] + n } var i, o = this && this.__extends || (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var s = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.keys = function (t) { return (t.getAttribute("style") || "").split(";").map(function (t) { return t.split(":")[0].trim() }) }, e.prototype.add = function (t, e) { return !!this.canAdd(t, e) && (t.style[r(this.keyName)] = e, !0) }, e.prototype.remove = function (t) { t.style[r(this.keyName)] = "", t.getAttribute("style") || t.removeAttribute("style") }, e.prototype.value = function (t) { var e = t.style[r(this.keyName)]; return this.canAdd(t, e) ? e : "" }, e }(n(11).default); e.default = s }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(e, "__esModule", { value: !0 }); var c = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, i = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, o = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), f = r(n(0)), h = r(n(8)), s = function (t) { function u(t, e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, u); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (u.__proto__ || Object.getPrototypeOf(u)).call(this, t)); return n.selection = e, n.textNode = document.createTextNode(u.CONTENTS), n.domNode.appendChild(n.textNode), n._length = 0, n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(u, f.default.Embed), o(u, null, [{ key: "value", value: function () { } }]), o(u, [{ key: "detach", value: function () { null != this.parent && this.parent.removeChild(this) } }, { key: "format", value: function (t, e) { if (0 !== this._length) return i(u.prototype.__proto__ || Object.getPrototypeOf(u.prototype), "format", this).call(this, t, e); for (var n = this, r = 0; null != n && n.statics.scope !== f.default.Scope.BLOCK_BLOT;)r += n.offset(n.parent), n = n.parent; null != n && (this._length = u.CONTENTS.length, n.optimize(), n.formatAt(r, u.CONTENTS.length, t, e), this._length = 0) } }, { key: "index", value: function (t, e) { return t === this.textNode ? 0 : i(u.prototype.__proto__ || Object.getPrototypeOf(u.prototype), "index", this).call(this, t, e) } }, { key: "length", value: function () { return this._length } }, { key: "position", value: function () { return [this.textNode, this.textNode.data.length] } }, { key: "remove", value: function () { i(u.prototype.__proto__ || Object.getPrototypeOf(u.prototype), "remove", this).call(this), this.parent = null } }, { key: "restore", value: function () { if (!this.selection.composing && null != this.parent) { var t = this.textNode, e = this.selection.getNativeRange(), n = void 0, r = void 0, i = void 0; if (null != e && e.start.node === t && e.end.node === t) { var o = [t, e.start.offset, e.end.offset]; n = o[0], r = o[1], i = o[2] } for (; null != this.domNode.lastChild && this.domNode.lastChild !== this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode); if (this.textNode.data !== u.CONTENTS) { var s = this.textNode.data.split(u.CONTENTS).join(""); this.next instanceof h.default ? (n = this.next.domNode, this.next.insertAt(0, s), this.textNode.data = u.CONTENTS) : (this.textNode.data = s, this.parent.insertBefore(f.default.create(this.textNode), this), this.textNode = document.createTextNode(u.CONTENTS), this.domNode.appendChild(this.textNode)) } if (this.remove(), null != r) { var a = [r, i].map(function (t) { return Math.max(0, Math.min(n.data.length, t - 1)) }), l = c(a, 2); return r = l[0], i = l[1], { startNode: n, startOffset: r, endNode: n, endOffset: i } } } } }, { key: "update", value: function (t, e) { var n = this; if (t.some(function (t) { return "characterData" === t.type && t.target === n.textNode })) { var r = this.restore(); r && (e.range = r) } } }, { key: "value", value: function () { return "" } }]), u }(); s.blotName = "cursor", s.className = "ql-cursor", s.tagName = "span", s.CONTENTS = "\ufeff", e.default = s }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), i = function () { function n(t, e) { (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") })(this, n), this.quill = t, this.options = e, this.modules = {} } return r(n, [{ key: "init", value: function () { var e = this; Object.keys(this.options.modules).forEach(function (t) { null == e.modules[t] && e.addModule(t) }) } }, { key: "addModule", value: function (t) { var e = this.quill.constructor.import("modules/" + t); return this.modules[t] = new e(this.quill, this.options.modules[t] || {}), this.modules[t] } }]), n }(); i.DEFAULTS = { modules: {} }, i.themes = { default: i }, e.default = i }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(e, "__esModule", { value: !0 }); var i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = r(n(0)), s = r(n(8)), a = "\ufeff", l = function (t) { function n(t) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, n); var e = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this, t)); return e.contentNode = document.createElement("span"), e.contentNode.setAttribute("contenteditable", !1), [].slice.call(e.domNode.childNodes).forEach(function (t) { e.contentNode.appendChild(t) }), e.leftGuard = document.createTextNode(a), e.rightGuard = document.createTextNode(a), e.domNode.appendChild(e.leftGuard), e.domNode.appendChild(e.contentNode), e.domNode.appendChild(e.rightGuard), e } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(n, o.default.Embed), i(n, [{ key: "index", value: function (t, e) { return t === this.leftGuard ? 0 : t === this.rightGuard ? 1 : function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "index", this).call(this, t, e) } }, { key: "restore", value: function (t) { var e = void 0, n = void 0, r = t.data.split(a).join(""); if (t === this.leftGuard) if (this.prev instanceof s.default) { var i = this.prev.length(); this.prev.insertAt(i, r), e = { startNode: this.prev.domNode, startOffset: i + r.length } } else n = document.createTextNode(r), this.parent.insertBefore(o.default.create(n), this), e = { startNode: n, startOffset: r.length }; else t === this.rightGuard && (this.next instanceof s.default ? (this.next.insertAt(0, r), e = { startNode: this.next.domNode, startOffset: r.length }) : (n = document.createTextNode(r), this.parent.insertBefore(o.default.create(n), this.next), e = { startNode: n, startOffset: r.length })); return t.data = a, e } }, { key: "update", value: function (t, n) { var r = this; t.forEach(function (t) { if ("characterData" === t.type && (t.target === r.leftGuard || t.target === r.rightGuard)) { var e = r.restore(t.target); e && (n.range = e) } }) } }]), n }(); e.default = l }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.AlignStyle = e.AlignClass = e.AlignAttribute = void 0; var r, i = n(0), o = (r = i) && r.__esModule ? r : { default: r }, s = { scope: o.default.Scope.BLOCK, whitelist: ["right", "center", "justify"] }, a = new o.default.Attributor.Attribute("align", "align", s), l = new o.default.Attributor.Class("align", "ql-align", s), u = new o.default.Attributor.Style("align", "text-align", s); e.AlignAttribute = a, e.AlignClass = l, e.AlignStyle = u }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.BackgroundStyle = e.BackgroundClass = void 0; var r, i = n(0), o = (r = i) && r.__esModule ? r : { default: r }, s = n(24), a = new o.default.Attributor.Class("background", "ql-bg", { scope: o.default.Scope.INLINE }), l = new s.ColorAttributor("background", "background-color", { scope: o.default.Scope.INLINE }); e.BackgroundClass = a, e.BackgroundStyle = l }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.DirectionStyle = e.DirectionClass = e.DirectionAttribute = void 0; var r, i = n(0), o = (r = i) && r.__esModule ? r : { default: r }, s = { scope: o.default.Scope.BLOCK, whitelist: ["rtl"] }, a = new o.default.Attributor.Attribute("direction", "dir", s), l = new o.default.Attributor.Class("direction", "ql-direction", s), u = new o.default.Attributor.Style("direction", "direction", s); e.DirectionAttribute = a, e.DirectionClass = l, e.DirectionStyle = u }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.FontClass = e.FontStyle = void 0; var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = n(0), s = (r = o) && r.__esModule ? r : { default: r }, a = { scope: s.default.Scope.INLINE, whitelist: ["serif", "monospace"] }, l = new s.default.Attributor.Class("font", "ql-font", a), u = new (function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, s.default.Attributor.Style), i(e, [{ key: "value", value: function (t) { return function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "value", this).call(this, t).replace(/["']/g, "") } }]), e }())("font", "font-family", a); e.FontStyle = u, e.FontClass = l }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.SizeStyle = e.SizeClass = void 0; var r, i = n(0), o = (r = i) && r.__esModule ? r : { default: r }, s = new o.default.Attributor.Class("size", "ql-size", { scope: o.default.Scope.INLINE, whitelist: ["small", "large", "huge"] }), a = new o.default.Attributor.Style("size", "font-size", { scope: o.default.Scope.INLINE, whitelist: ["10px", "18px", "32px"] }); e.SizeClass = s, e.SizeStyle = a }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, s = n(5), a = (r = s) && r.__esModule ? r : { default: r }, l = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, a.default), i(e, [{ key: "optimize", value: function (t) { o(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "optimize", this).call(this, t), this.domNode.tagName !== this.statics.tagName[0] && this.replaceWith(this.statics.blotName) } }], [{ key: "create", value: function () { return o(e.__proto__ || Object.getPrototypeOf(e), "create", this).call(this) } }, { key: "formats", value: function () { return !0 } }]), e }(); l.blotName = "bold", l.tagName = ["STRONG", "B"], e.default = l }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>' }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, o = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), s = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, i = n(16), a = (r = i) && r.__esModule ? r : { default: r }, l = function (t) { function i(t, e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, i); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this, t)); return n.label.innerHTML = e, n.container.classList.add("ql-color-picker"), [].slice.call(n.container.querySelectorAll(".ql-picker-item"), 0, 7).forEach(function (t) { t.classList.add("ql-primary") }), n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(i, a.default), o(i, [{ key: "buildItem", value: function (t) { var e = s(i.prototype.__proto__ || Object.getPrototypeOf(i.prototype), "buildItem", this).call(this, t); return e.style.backgroundColor = t.getAttribute("value") || "", e } }, { key: "selectItem", value: function (t, e) { s(i.prototype.__proto__ || Object.getPrototypeOf(i.prototype), "selectItem", this).call(this, t, e); var n = this.label.querySelector(".ql-color-label"), r = t && t.getAttribute("data-value") || ""; n && ("line" === n.tagName ? n.style.stroke = r : n.style.fill = r) } }]), i }(); e.default = l }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = n(16), s = (r = o) && r.__esModule ? r : { default: r }, a = function (t) { function r(t, e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, r); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this, t)); return n.container.classList.add("ql-icon-picker"), [].forEach.call(n.container.querySelectorAll(".ql-picker-item"), function (t) { t.innerHTML = e[t.getAttribute("data-value") || ""] }), n.defaultItem = n.container.querySelector(".ql-selected"), n.selectItem(n.defaultItem), n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(r, s.default), i(r, [{ key: "selectItem", value: function (t, e) { (function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 })(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "selectItem", this).call(this, t, e), t = t || this.defaultItem, this.label.innerHTML = t.innerHTML } }]), r }(); e.default = a }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), r = function () { function r(t, e) { var n = this; (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") })(this, r), this.quill = t, this.boundsContainer = e || document.body, this.root = t.addContainer("ql-tooltip"), this.root.innerHTML = this.constructor.TEMPLATE, this.quill.root === this.quill.scrollingContainer && this.quill.root.addEventListener("scroll", function () { n.root.style.marginTop = -1 * n.quill.root.scrollTop + "px" }), this.hide() } return i(r, [{ key: "hide", value: function () { this.root.classList.add("ql-hidden") } }, { key: "position", value: function (t) { var e = t.left + t.width / 2 - this.root.offsetWidth / 2, n = t.bottom + this.quill.root.scrollTop; this.root.style.left = e + "px", this.root.style.top = n + "px", this.root.classList.remove("ql-flip"); var r = this.boundsContainer.getBoundingClientRect(), i = this.root.getBoundingClientRect(), o = 0; if (i.right > r.right && (o = r.right - i.right, this.root.style.left = e + o + "px"), i.left < r.left && (o = r.left - i.left, this.root.style.left = e + o + "px"), i.bottom > r.bottom) { var s = i.bottom - i.top, a = t.bottom - t.top + s; this.root.style.top = n - a + "px", this.root.classList.add("ql-flip") } return o } }, { key: "show", value: function () { this.root.classList.remove("ql-editing"), this.root.classList.remove("ql-hidden") } }]), r }(); e.default = r }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function s(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } function l(n, t) { var r = 2 < arguments.length && void 0 !== arguments[2] && arguments[2]; t.forEach(function (t) { var e = document.createElement("option"); t === r ? e.setAttribute("selected", "selected") : e.setAttribute("value", t), n.appendChild(e) }) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.BaseTooltip = void 0; var u = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), i = r(n(2)), c = r(n(4)), f = r(n(9)), h = r(n(25)), d = r(n(32)), p = r(n(41)), g = r(n(42)), m = r(n(16)), y = r(n(43)), v = [!1, "center", "right", "justify"], b = ["#000000", "#e60000", "#ff9900", "#ffff00", "#008a00", "#0066cc", "#9933ff", "#ffffff", "#facccc", "#ffebcc", "#ffffcc", "#cce8cc", "#cce0f5", "#ebd6ff", "#bbbbbb", "#f06666", "#ffc266", "#ffff66", "#66b966", "#66a3e0", "#c285ff", "#888888", "#a10000", "#b26b00", "#b2b200", "#006100", "#0047b2", "#6b24b2", "#444444", "#5c0000", "#663d00", "#666600", "#003700", "#002966", "#3d1466"], _ = [!1, "serif", "monospace"], w = ["1", "2", "3", !1], x = ["small", !1, "large", "huge"], E = function (t) { function i(n, t) { o(this, i); var r = s(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this, n, t)); return n.emitter.listenDOM("click", document.body, function t(e) { if (!document.body.contains(n.root)) return document.body.removeEventListener("click", t); null == r.tooltip || r.tooltip.root.contains(e.target) || document.activeElement === r.tooltip.textbox || r.quill.hasFocus() || r.tooltip.hide(), null != r.pickers && r.pickers.forEach(function (t) { t.container.contains(e.target) || t.close() }) }), r } return a(i, d.default), u(i, [{ key: "addModule", value: function (t) { var e = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(i.prototype.__proto__ || Object.getPrototypeOf(i.prototype), "addModule", this).call(this, t); return "toolbar" === t && this.extendToolbar(e), e } }, { key: "buildButtons", value: function (t, r) { t.forEach(function (n) { (n.getAttribute("class") || "").split(/\s+/).forEach(function (t) { if (t.startsWith("ql-") && (t = t.slice("ql-".length), null != r[t])) if ("direction" === t) n.innerHTML = r[t][""] + r[t].rtl; else if ("string" == typeof r[t]) n.innerHTML = r[t]; else { var e = n.value || ""; null != e && r[t][e] && (n.innerHTML = r[t][e]) } }) }) } }, { key: "buildPickers", value: function (t, n) { var e = this; this.pickers = t.map(function (t) { if (t.classList.contains("ql-align")) return null == t.querySelector("option") && l(t, v), new g.default(t, n.align); if (t.classList.contains("ql-background") || t.classList.contains("ql-color")) { var e = t.classList.contains("ql-background") ? "background" : "color"; return null == t.querySelector("option") && l(t, b, "background" === e ? "#ffffff" : "#000000"), new p.default(t, n[e]) } return null == t.querySelector("option") && (t.classList.contains("ql-font") ? l(t, _) : t.classList.contains("ql-header") ? l(t, w) : t.classList.contains("ql-size") && l(t, x)), new m.default(t) }); this.quill.on(f.default.events.EDITOR_CHANGE, function () { e.pickers.forEach(function (t) { t.update() }) }) } }]), i }(); E.DEFAULTS = (0, i.default)(!0, {}, d.default.DEFAULTS, { modules: { toolbar: { handlers: { formula: function () { this.quill.theme.tooltip.edit("formula") }, image: function () { var n = this, r = this.container.querySelector("input.ql-image[type=file]"); null == r && ((r = document.createElement("input")).setAttribute("type", "file"), r.setAttribute("accept", "image/png, image/gif, image/jpeg, image/bmp, image/x-icon"), r.classList.add("ql-image"), r.addEventListener("change", function () { if (null != r.files && null != r.files[0]) { var t = new FileReader; t.onload = function (t) { var e = n.quill.getSelection(!0); n.quill.updateContents((new c.default).retain(e.index).delete(e.length).insert({ image: t.target.result }), f.default.sources.USER), n.quill.setSelection(e.index + 1, f.default.sources.SILENT), r.value = "" }, t.readAsDataURL(r.files[0]) } }), this.container.appendChild(r)), r.click() }, video: function () { this.quill.theme.tooltip.edit("video") } } } } }); var T = function (t) { function r(t, e) { o(this, r); var n = s(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this, t, e)); return n.textbox = n.root.querySelector('input[type="text"]'), n.listen(), n } return a(r, y.default), u(r, [{ key: "listen", value: function () { var e = this; this.textbox.addEventListener("keydown", function (t) { h.default.match(t, "enter") ? (e.save(), t.preventDefault()) : h.default.match(t, "escape") && (e.cancel(), t.preventDefault()) }) } }, { key: "cancel", value: function () { this.hide() } }, { key: "edit", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "link", e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : null; this.root.classList.remove("ql-hidden"), this.root.classList.add("ql-editing"), null != e ? this.textbox.value = e : t !== this.root.getAttribute("data-mode") && (this.textbox.value = ""), this.position(this.quill.getBounds(this.quill.selection.savedRange)), this.textbox.select(), this.textbox.setAttribute("placeholder", this.textbox.getAttribute("data-" + t) || ""), this.root.setAttribute("data-mode", t) } }, { key: "restoreFocus", value: function () { var t = this.quill.scrollingContainer.scrollTop; this.quill.focus(), this.quill.scrollingContainer.scrollTop = t } }, { key: "save", value: function () { var t, e, n = this.textbox.value; switch (this.root.getAttribute("data-mode")) { case "link": var r = this.quill.root.scrollTop; this.linkRange ? (this.quill.formatText(this.linkRange, "link", n, f.default.sources.USER), delete this.linkRange) : (this.restoreFocus(), this.quill.format("link", n, f.default.sources.USER)), this.quill.root.scrollTop = r; break; case "video": n = (e = (t = n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/) || t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/)) ? (e[1] || "https") + "://www.youtube.com/embed/" + e[2] + "?showinfo=0" : (e = t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)) ? (e[1] || "https") + "://player.vimeo.com/video/" + e[2] + "/" : t; case "formula": if (!n) break; var i = this.quill.getSelection(!0); if (null != i) { var o = i.index + i.length; this.quill.insertEmbed(o, this.root.getAttribute("data-mode"), n, f.default.sources.USER), "formula" === this.root.getAttribute("data-mode") && this.quill.insertText(o + 1, " ", f.default.sources.USER), this.quill.setSelection(o + 2, f.default.sources.USER) } }this.textbox.value = "", this.hide() } }]), r }(); e.BaseTooltip = T, e.default = E }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(e, "__esModule", { value: !0 }); var i = r(n(46)), o = n(34), s = n(36), a = n(62), l = r(n(63)), u = r(n(64)), c = n(65), f = r(c), h = n(35), d = n(24), p = n(37), g = n(38), m = r(n(39)), y = r(n(66)), v = r(n(15)), b = r(n(67)), _ = r(n(68)), w = r(n(69)), x = r(n(70)), E = r(n(71)), T = n(13), k = r(T), j = r(n(72)), S = r(n(73)), O = r(n(74)), A = r(n(26)), L = r(n(16)), C = r(n(41)), P = r(n(42)), N = r(n(43)), M = r(n(107)), D = r(n(108)); i.default.register({ "attributors/attribute/direction": s.DirectionAttribute, "attributors/class/align": o.AlignClass, "attributors/class/background": h.BackgroundClass, "attributors/class/color": d.ColorClass, "attributors/class/direction": s.DirectionClass, "attributors/class/font": p.FontClass, "attributors/class/size": g.SizeClass, "attributors/style/align": o.AlignStyle, "attributors/style/background": h.BackgroundStyle, "attributors/style/color": d.ColorStyle, "attributors/style/direction": s.DirectionStyle, "attributors/style/font": p.FontStyle, "attributors/style/size": g.SizeStyle }, !0), i.default.register({ "formats/align": o.AlignClass, "formats/direction": s.DirectionClass, "formats/indent": a.IndentClass, "formats/background": h.BackgroundStyle, "formats/color": d.ColorStyle, "formats/font": p.FontClass, "formats/size": g.SizeClass, "formats/blockquote": l.default, "formats/code-block": k.default, "formats/header": u.default, "formats/list": f.default, "formats/bold": m.default, "formats/code": T.Code, "formats/italic": y.default, "formats/link": v.default, "formats/script": b.default, "formats/strike": _.default, "formats/underline": w.default, "formats/image": x.default, "formats/video": E.default, "formats/list/item": c.ListItem, "modules/formula": j.default, "modules/syntax": S.default, "modules/toolbar": O.default, "themes/bubble": M.default, "themes/snow": D.default, "ui/icons": A.default, "ui/picker": L.default, "ui/icon-picker": P.default, "ui/color-picker": C.default, "ui/tooltip": N.default }, !0), e.default = i.default }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(e, "__esModule", { value: !0 }); var i = r(n(0)), o = r(n(6)), s = n(3), a = r(s), l = r(n(14)), u = r(n(23)), c = r(n(31)), f = r(n(33)), h = r(n(5)), d = r(n(59)), p = r(n(8)), g = r(n(60)), m = r(n(61)), y = r(n(25)); o.default.register({ "blots/block": a.default, "blots/block/embed": s.BlockEmbed, "blots/break": l.default, "blots/container": u.default, "blots/cursor": c.default, "blots/embed": f.default, "blots/inline": h.default, "blots/scroll": d.default, "blots/text": p.default, "modules/clipboard": g.default, "modules/history": m.default, "modules/keyboard": y.default }), i.default.register(a.default, l.default, c.default, h.default, d.default, p.default), e.default = o.default }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r = function () { function t() { this.head = this.tail = null, this.length = 0 } return t.prototype.append = function () { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; this.insertBefore(t[0], null), 1 < t.length && this.append.apply(this, t.slice(1)) }, t.prototype.contains = function (t) { for (var e, n = this.iterator(); e = n();)if (e === t) return !0; return !1 }, t.prototype.insertBefore = function (t, e) { t && (null != (t.next = e) ? (t.prev = e.prev, null != e.prev && (e.prev.next = t), e.prev = t, e === this.head && (this.head = t)) : null != this.tail ? ((this.tail.next = t).prev = this.tail, this.tail = t) : (t.prev = null, this.head = this.tail = t), this.length += 1) }, t.prototype.offset = function (t) { for (var e = 0, n = this.head; null != n;) { if (n === t) return e; e += n.length(), n = n.next } return -1 }, t.prototype.remove = function (t) { this.contains(t) && (null != t.prev && (t.prev.next = t.next), null != t.next && (t.next.prev = t.prev), t === this.head && (this.head = t.next), t === this.tail && (this.tail = t.prev), this.length -= 1) }, t.prototype.iterator = function (e) { return void 0 === e && (e = this.head), function () { var t = e; return null != e && (e = e.next), t } }, t.prototype.find = function (t, e) { void 0 === e && (e = !1); for (var n, r = this.iterator(); n = r();) { var i = n.length(); if (t < i || e && t === i && (null == n.next || 0 !== n.next.length())) return [n, t]; t -= i } return [null, 0] }, t.prototype.forEach = function (t) { for (var e, n = this.iterator(); e = n();)t(e) }, t.prototype.forEachAt = function (t, e, n) { if (!(e <= 0)) for (var r, i = this.find(t), o = i[0], s = t - i[1], a = this.iterator(o); (r = a()) && s < t + e;) { var l = r.length(); s < t ? n(r, t - s, Math.min(e, s + l - t)) : n(r, 0, Math.min(l, t + e - s)), s += l } }, t.prototype.map = function (n) { return this.reduce(function (t, e) { return t.push(n(e)), t }, []) }, t.prototype.reduce = function (t, e) { for (var n, r = this.iterator(); n = r();)e = t(e, n); return e }, t }(); e.default = r }, function (t, e, n) { "use strict"; var r, i = this && this.__extends || (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var u = n(17), c = n(1), o = { attributes: !0, characterData: !0, characterDataOldValue: !0, childList: !0, subtree: !0 }, s = function (l) { function t(t) { var e = l.call(this, t) || this; return (e.scroll = e).observer = new MutationObserver(function (t) { e.update(t) }), e.observer.observe(e.domNode, o), e.attach(), e } return i(t, l), t.prototype.detach = function () { l.prototype.detach.call(this), this.observer.disconnect() }, t.prototype.deleteAt = function (t, e) { this.update(), 0 === t && e === this.length() ? this.children.forEach(function (t) { t.remove() }) : l.prototype.deleteAt.call(this, t, e) }, t.prototype.formatAt = function (t, e, n, r) { this.update(), l.prototype.formatAt.call(this, t, e, n, r) }, t.prototype.insertAt = function (t, e, n) { this.update(), l.prototype.insertAt.call(this, t, e, n) }, t.prototype.optimize = function (t, e) { var n = this; void 0 === t && (t = []), void 0 === e && (e = {}), l.prototype.optimize.call(this, e); for (var r = [].slice.call(this.observer.takeRecords()); 0 < r.length;)t.push(r.pop()); for (var i = function (t, e) { void 0 === e && (e = !0), null != t && t !== n && null != t.domNode.parentNode && (null == t.domNode[c.DATA_KEY].mutations && (t.domNode[c.DATA_KEY].mutations = []), e && i(t.parent)) }, o = function (t) { null != t.domNode[c.DATA_KEY] && null != t.domNode[c.DATA_KEY].mutations && (t instanceof u.default && t.children.forEach(o), t.optimize(e)) }, s = t, a = 0; 0 < s.length; a += 1) { if (100 <= a) throw new Error("[Parchment] Maximum optimize iterations reached"); for (s.forEach(function (t) { var e = c.find(t.target, !0); null != e && (e.domNode === t.target && ("childList" === t.type ? (i(c.find(t.previousSibling, !1)), [].forEach.call(t.addedNodes, function (t) { var e = c.find(t, !1); i(e, !1), e instanceof u.default && e.children.forEach(function (t) { i(t, !1) }) })) : "attributes" === t.type && i(e.prev)), i(e)) }), this.children.forEach(o), r = (s = [].slice.call(this.observer.takeRecords())).slice(); 0 < r.length;)t.push(r.pop()) } }, t.prototype.update = function (t, e) { var n = this; void 0 === e && (e = {}), (t = t || this.observer.takeRecords()).map(function (t) { var e = c.find(t.target, !0); return null == e ? null : null == e.domNode[c.DATA_KEY].mutations ? (e.domNode[c.DATA_KEY].mutations = [t], e) : (e.domNode[c.DATA_KEY].mutations.push(t), null) }).forEach(function (t) { null != t && t !== n && null != t.domNode[c.DATA_KEY] && t.update(t.domNode[c.DATA_KEY].mutations || [], e) }), null != this.domNode[c.DATA_KEY].mutations && l.prototype.update.call(this, this.domNode[c.DATA_KEY].mutations, e), this.optimize(t, e) }, t.blotName = "scroll", t.defaultChild = "block", t.scope = c.Scope.BLOCK_BLOT, t.tagName = "DIV", t }(u.default); e.default = s }, function (t, e, n) { "use strict"; var r, o = this && this.__extends || (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var s = n(18), a = n(1), i = function (i) { function r() { return null !== i && i.apply(this, arguments) || this } return o(r, i), r.formats = function (t) { if (t.tagName !== r.tagName) return i.formats.call(this, t) }, r.prototype.format = function (t, e) { var n = this; t !== this.statics.blotName || e ? i.prototype.format.call(this, t, e) : (this.children.forEach(function (t) { t instanceof s.default || (t = t.wrap(r.blotName, !0)), n.attributes.copy(t) }), this.unwrap()) }, r.prototype.formatAt = function (t, e, n, r) { null != this.formats()[n] || a.query(n, a.Scope.ATTRIBUTE) ? this.isolate(t, e).format(n, r) : i.prototype.formatAt.call(this, t, e, n, r) }, r.prototype.optimize = function (t) { i.prototype.optimize.call(this, t); var e = this.formats(); if (0 === Object.keys(e).length) return this.unwrap(); var n = this.next; n instanceof r && n.prev === this && function (t, e) { if (Object.keys(t).length !== Object.keys(e).length) return !1; for (var n in t) if (t[n] !== e[n]) return !1; return !0 }(e, n.formats()) && (n.moveChildren(this), n.remove()) }, r.blotName = "inline", r.scope = a.Scope.INLINE_BLOT, r.tagName = "SPAN", r }(s.default); e.default = i }, function (t, e, n) { "use strict"; var r, i = this && this.__extends || (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var o = n(18), s = n(1), a = function (o) { function n() { return null !== o && o.apply(this, arguments) || this } return i(n, o), n.formats = function (t) { var e = s.query(n.blotName).tagName; if (t.tagName !== e) return o.formats.call(this, t) }, n.prototype.format = function (t, e) { null != s.query(t, s.Scope.BLOCK) && (t !== this.statics.blotName || e ? o.prototype.format.call(this, t, e) : this.replaceWith(n.blotName)) }, n.prototype.formatAt = function (t, e, n, r) { null != s.query(n, s.Scope.BLOCK) ? this.format(n, r) : o.prototype.formatAt.call(this, t, e, n, r) }, n.prototype.insertAt = function (t, e, n) { if (null == n || null != s.query(e, s.Scope.INLINE)) o.prototype.insertAt.call(this, t, e, n); else { var r = this.split(t), i = s.create(e, n); r.parent.insertBefore(i, r) } }, n.prototype.update = function (t, e) { navigator.userAgent.match(/Trident/) ? this.build() : o.prototype.update.call(this, t, e) }, n.blotName = "block", n.scope = s.Scope.BLOCK_BLOT, n.tagName = "P", n }(o.default); e.default = a }, function (t, e, n) { "use strict"; var r, o = this && this.__extends || (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var i = function (i) { function t() { return null !== i && i.apply(this, arguments) || this } return o(t, i), t.formats = function (t) { }, t.prototype.format = function (t, e) { i.prototype.formatAt.call(this, 0, this.length(), t, e) }, t.prototype.formatAt = function (t, e, n, r) { 0 === t && e === this.length() ? this.format(n, r) : i.prototype.formatAt.call(this, t, e, n, r) }, t.prototype.formats = function () { return this.statics.formats(this.domNode) }, t }(n(19).default); e.default = i }, function (t, e, n) { "use strict"; var r, i = this && this.__extends || (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) }, function (t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) }); Object.defineProperty(e, "__esModule", { value: !0 }); var o = n(19), s = n(1), a = function (r) { function e(t) { var e = r.call(this, t) || this; return e.text = e.statics.value(e.domNode), e } return i(e, r), e.create = function (t) { return document.createTextNode(t) }, e.value = function (t) { var e = t.data; return e.normalize && (e = e.normalize()), e }, e.prototype.deleteAt = function (t, e) { this.domNode.data = this.text = this.text.slice(0, t) + this.text.slice(t + e) }, e.prototype.index = function (t, e) { return this.domNode === t ? e : -1 }, e.prototype.insertAt = function (t, e, n) { null == n ? (this.text = this.text.slice(0, t) + e + this.text.slice(t), this.domNode.data = this.text) : r.prototype.insertAt.call(this, t, e, n) }, e.prototype.length = function () { return this.text.length }, e.prototype.optimize = function (t) { r.prototype.optimize.call(this, t), this.text = this.statics.value(this.domNode), 0 === this.text.length ? this.remove() : this.next instanceof e && this.next.prev === this && (this.insertAt(this.length(), this.next.value()), this.next.remove()) }, e.prototype.position = function (t, e) { return void 0 === e && (e = !1), [this.domNode, t] }, e.prototype.split = function (t, e) { if (void 0 === e && (e = !1), !e) { if (0 === t) return this; if (t === this.length()) return this.next } var n = s.create(this.domNode.splitText(t)); return this.parent.insertBefore(n, this.next), this.text = this.statics.value(this.domNode), n }, e.prototype.update = function (t, e) { var n = this; t.some(function (t) { return "characterData" === t.type && t.target === n.domNode }) && (this.text = this.statics.value(this.domNode)) }, e.prototype.value = function () { return this.text }, e.blotName = "text", e.scope = s.Scope.INLINE_BLOT, e }(o.default); e.default = a }, function (t, e, n) { "use strict"; var r = document.createElement("div"); if (r.classList.toggle("test-class", !1), r.classList.contains("test-class")) { var i = DOMTokenList.prototype.toggle; DOMTokenList.prototype.toggle = function (t, e) { return 1 < arguments.length && !this.contains(t) == !e ? e : i.call(this, t) } } String.prototype.startsWith || (String.prototype.startsWith = function (t, e) { return e = e || 0, this.substr(e, t.length) === t }), String.prototype.endsWith || (String.prototype.endsWith = function (t, e) { var n = this.toString(); ("number" != typeof e || !isFinite(e) || Math.floor(e) !== e || e > n.length) && (e = n.length), e -= t.length; var r = n.indexOf(t, e); return -1 !== r && r === e }), Array.prototype.find || Object.defineProperty(Array.prototype, "find", { value: function (t) { if (null === this) throw new TypeError("Array.prototype.find called on null or undefined"); if ("function" != typeof t) throw new TypeError("predicate must be a function"); for (var e, n = Object(this), r = n.length >>> 0, i = arguments[1], o = 0; o < r; o++)if (e = n[o], t.call(i, e, o, n)) return e } }), document.addEventListener("DOMContentLoaded", function () { document.execCommand("enableObjectResizing", !1, !1), document.execCommand("autoUrlDetect", !1, !1) }) }, function (t, e) { function p(t, e, n) { if (t == e) return t ? [[y, t]] : []; (n < 0 || t.length < n) && (n = null); var r = g(t, e), i = t.substring(0, r); r = m(t = t.substring(r), e = e.substring(r)); var o = t.substring(t.length - r), s = function (t, e) { var n; if (!t) return [[S, e]]; if (!e) return [[j, t]]; var r = t.length > e.length ? t : e, i = t.length > e.length ? e : t, o = r.indexOf(i); if (-1 != o) return n = [[S, r.substring(0, o)], [y, i], [S, r.substring(o + i.length)]], t.length > e.length && (n[0][0] = n[2][0] = j), n; if (1 == i.length) return [[j, t], [S, e]]; var s = function (t, e) { function n(t, e, n) { for (var r, i, o, s, a = t.substring(n, n + Math.floor(t.length / 4)), l = -1, u = ""; -1 != (l = e.indexOf(a, l + 1));) { var c = g(t.substring(n), e.substring(l)), f = m(t.substring(0, n), e.substring(0, l)); u.length < f + c && (u = e.substring(l - f, l) + e.substring(l, l + c), r = t.substring(0, n - f), i = t.substring(n + c), o = e.substring(0, l - f), s = e.substring(l + c)) } return 2 * u.length >= t.length ? [r, i, o, s, u] : null } var r = t.length > e.length ? t : e, i = t.length > e.length ? e : t; if (r.length < 4 || 2 * i.length < r.length) return null; var o, s, a, l, u, c = n(r, i, Math.ceil(r.length / 4)), f = n(r, i, Math.ceil(r.length / 2)); return c || f ? (o = f ? c && c[4].length > f[4].length ? c : f : c, t.length > e.length ? (s = o[0], a = o[1], l = o[2], u = o[3]) : (l = o[0], u = o[1], s = o[2], a = o[3]), [s, a, l, u, o[4]]) : null }(t, e); if (s) { var a = s[0], l = s[1], u = s[2], c = s[3], f = s[4], h = p(a, u), d = p(l, c); return h.concat([[y, f]], d) } return function (t, e) { for (var n = t.length, r = e.length, i = Math.ceil((n + r) / 2), o = i, s = 2 * i, a = new Array(s), l = new Array(s), u = 0; u < s; u++)a[u] = -1, l[u] = -1; a[o + 1] = 0, l[o + 1] = 0; for (var c = n - r, f = c % 2 != 0, h = 0, d = 0, p = 0, g = 0, m = 0; m < i; m++) { for (var y = -m + h; y <= m - d; y += 2) { for (var v = o + y, b = (T = y == -m || y != m && a[v - 1] < a[v + 1] ? a[v + 1] : a[v - 1] + 1) - y; T < n && b < r && t.charAt(T) == e.charAt(b);)T++ , b++; if (a[v] = T, n < T) d += 2; else if (r < b) h += 2; else if (f) { var _ = o + c - y; if (0 <= _ && _ < s && -1 != l[_]) { var w = n - l[_]; if (w <= T) return k(t, e, T, b) } } } for (var x = -m + p; x <= m - g; x += 2) { for (var _ = o + x, E = (w = x == -m || x != m && l[_ - 1] < l[_ + 1] ? l[_ + 1] : l[_ - 1] + 1) - x; w < n && E < r && t.charAt(n - w - 1) == e.charAt(r - E - 1);)w++ , E++; if (l[_] = w, n < w) g += 2; else if (r < E) p += 2; else if (!f) { var v = o + c - x; if (0 <= v && v < s && -1 != a[v]) { var T = a[v], b = o + T - v; if ((w = n - w) <= T) return k(t, e, T, b) } } } } return [[j, t], [S, e]] }(t, e) }(t = t.substring(0, t.length - r), e = e.substring(0, e.length - r)); return i && s.unshift([y, i]), o && s.push([y, o]), function t(e) { e.push([y, ""]); for (var n, r = 0, i = 0, o = 0, s = "", a = ""; r < e.length;)switch (e[r][0]) { case S: o++ , a += e[r][1], r++; break; case j: i++ , s += e[r][1], r++; break; case y: 1 < i + o ? (0 !== i && 0 !== o && (0 !== (n = g(a, s)) && (0 < r - i - o && e[r - i - o - 1][0] == y ? e[r - i - o - 1][1] += a.substring(0, n) : (e.splice(0, 0, [y, a.substring(0, n)]), r++), a = a.substring(n), s = s.substring(n)), 0 !== (n = m(a, s)) && (e[r][1] = a.substring(a.length - n) + e[r][1], a = a.substring(0, a.length - n), s = s.substring(0, s.length - n))), 0 === i ? e.splice(r - o, i + o, [S, a]) : 0 === o ? e.splice(r - i, i + o, [j, s]) : e.splice(r - i - o, i + o, [j, s], [S, a]), r = r - i - o + (i ? 1 : 0) + (o ? 1 : 0) + 1) : 0 !== r && e[r - 1][0] == y ? (e[r - 1][1] += e[r][1], e.splice(r, 1)) : r++ , i = o = 0, a = s = "" }"" === e[e.length - 1][1] && e.pop(); var l = !1; for (r = 1; r < e.length - 1;)e[r - 1][0] == y && e[r + 1][0] == y && (e[r][1].substring(e[r][1].length - e[r - 1][1].length) == e[r - 1][1] ? (e[r][1] = e[r - 1][1] + e[r][1].substring(0, e[r][1].length - e[r - 1][1].length), e[r + 1][1] = e[r - 1][1] + e[r + 1][1], e.splice(r - 1, 1), l = !0) : e[r][1].substring(0, e[r + 1][1].length) == e[r + 1][1] && (e[r - 1][1] += e[r + 1][1], e[r][1] = e[r][1].substring(e[r + 1][1].length) + e[r + 1][1], e.splice(r + 1, 1), l = !0)), r++; l && t(e) }(s), null != n && (s = function (t, e) { var n = function (t, e) { if (0 === e) return [y, t]; for (var n = 0, r = 0; r < t.length; r++) { var i = t[r]; if (i[0] === j || i[0] === y) { var o = n + i[1].length; if (e === o) return [r + 1, t]; if (e < o) { t = t.slice(); var s = e - n, a = [i[0], i[1].slice(0, s)], l = [i[0], i[1].slice(s)]; return t.splice(r, 1, a, l), [r + 1, t] } n = o } } throw new Error("cursor_pos is out of bounds!") }(t, e), r = n[1], i = n[0], o = r[i], s = r[i + 1]; if (null == o) return t; if (o[0] !== y) return t; if (null != s && o[1] + s[1] === s[1] + o[1]) return r.splice(i, 2, s, o), l(r, i, 2); if (null != s && 0 === s[1].indexOf(o[1])) { r.splice(i, 2, [s[0], o[1]], [0, o[1]]); var a = s[1].slice(o[1].length); return 0 < a.length && r.splice(i + 2, 0, [s[0], a]), l(r, i, 3) } return t }(s, n)), function (t) { for (var e = !1, n = function (t) { return 56320 <= t.charCodeAt(0) && t.charCodeAt(0) <= 57343 }, r = 2; r < t.length; r += 1)t[r - 2][0] === y && (i = t[r - 2][1], 55296 <= i.charCodeAt(i.length - 1) && i.charCodeAt(i.length - 1) <= 56319) && t[r - 1][0] === j && n(t[r - 1][1]) && t[r][0] === S && n(t[r][1]) && (e = !0, t[r - 1][1] = t[r - 2][1].slice(-1) + t[r - 1][1], t[r][1] = t[r - 2][1].slice(-1) + t[r][1], t[r - 2][1] = t[r - 2][1].slice(0, -1)); var i; if (!e) return t; for (var o = [], r = 0; r < t.length; r += 1)0 < t[r][1].length && o.push(t[r]); return o }(s) } function k(t, e, n, r) { var i = t.substring(0, n), o = e.substring(0, r), s = t.substring(n), a = e.substring(r), l = p(i, o), u = p(s, a); return l.concat(u) } function g(t, e) { if (!t || !e || t.charAt(0) != e.charAt(0)) return 0; for (var n = 0, r = Math.min(t.length, e.length), i = r, o = 0; n < i;)t.substring(o, i) == e.substring(o, i) ? o = n = i : r = i, i = Math.floor((r - n) / 2 + n); return i } function m(t, e) { if (!t || !e || t.charAt(t.length - 1) != e.charAt(e.length - 1)) return 0; for (var n = 0, r = Math.min(t.length, e.length), i = r, o = 0; n < i;)t.substring(t.length - i, t.length - o) == e.substring(e.length - i, e.length - o) ? o = n = i : r = i, i = Math.floor((r - n) / 2 + n); return i } function l(t, e, n) { for (var r = e + n - 1; 0 <= r && e - 1 <= r; r--)if (r + 1 < t.length) { var i = t[r], o = t[r + 1]; i[0] === o[1] && t.splice(r, 2, [i[0], i[1] + o[1]]) } return t } var j = -1, S = 1, y = 0, n = p; n.INSERT = S, n.DELETE = j, n.EQUAL = y, t.exports = n }, function (t, e) { function n(t) { var e = []; for (var n in t) e.push(n); return e } (t.exports = "function" == typeof Object.keys ? Object.keys : n).shim = n }, function (t, e) { function n(t) { return "[object Arguments]" == Object.prototype.toString.call(t) } function r(t) { return t && "object" == typeof t && "number" == typeof t.length && Object.prototype.hasOwnProperty.call(t, "callee") && !Object.prototype.propertyIsEnumerable.call(t, "callee") || !1 } var i = "[object Arguments]" == function () { return Object.prototype.toString.call(arguments) }(); (e = t.exports = i ? n : r).supported = n, e.unsupported = r }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function o(n, r) { return Object.keys(r).reduce(function (t, e) { return null == n[e] || (r[e] === n[e] ? t[e] = r[e] : Array.isArray(r[e]) ? r[e].indexOf(n[e]) < 0 && (t[e] = r[e].concat([n[e]])) : t[e] = [r[e], n[e]]), t }, {}) } Object.defineProperty(e, "__esModule", { value: !0 }); var m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, y = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), f = r(n(4)), v = r(n(20)), b = r(n(0)), h = r(n(13)), c = r(n(31)), _ = n(3), w = r(_), s = r(n(14)), u = r(n(21)), d = r(n(12)), x = r(n(2)), p = /^[ -~]*$/, a = function () { function e(t) { (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") })(this, e), this.scroll = t, this.delta = this.getDelta() } return i(e, [{ key: "applyDelta", value: function (t) { var d = this, p = !1; this.scroll.update(); var g = this.scroll.length(); return this.scroll.batchStart(), (t = t.reduce(function (t, e) { if (1 === e.insert) { var n = (0, u.default)(e.attributes); return delete n.image, t.insert({ image: e.attributes.image }, n) } if (null == e.attributes || !0 !== e.attributes.list && !0 !== e.attributes.bullet || ((e = (0, u.default)(e)).attributes.list ? e.attributes.list = "ordered" : (e.attributes.list = "bullet", delete e.attributes.bullet)), "string" == typeof e.insert) { var r = e.insert.replace(/\r\n/g, "\n").replace(/\r/g, "\n"); return t.insert(r, e.attributes) } return t.push(e) }, new f.default)).reduce(function (e, t) { var n = t.retain || t.delete || t.insert.length || 1, r = t.attributes || {}; if (null != t.insert) { if ("string" == typeof t.insert) { var i = t.insert; i.endsWith("\n") && p && (p = !1, i = i.slice(0, -1)), g <= e && !i.endsWith("\n") && (p = !0), d.scroll.insertAt(e, i); var o = d.scroll.line(e), s = y(o, 2), a = s[0], l = s[1], u = (0, x.default)({}, (0, _.bubbleFormats)(a)); if (a instanceof w.default) { var c = a.descendant(b.default.Leaf, l), f = y(c, 1)[0]; u = (0, x.default)(u, (0, _.bubbleFormats)(f)) } r = v.default.attributes.diff(u, r) || {} } else if ("object" === m(t.insert)) { var h = Object.keys(t.insert)[0]; if (null == h) return e; d.scroll.insertAt(e, h, t.insert[h]) } g += n } return Object.keys(r).forEach(function (t) { d.scroll.formatAt(e, n, t, r[t]) }), e + n }, 0), t.reduce(function (t, e) { return "number" == typeof e.delete ? (d.scroll.deleteAt(t, e.delete), t) : t + (e.retain || e.insert.length || 1) }, 0), this.scroll.batchEnd(), this.update(t) } }, { key: "deleteText", value: function (t, e) { return this.scroll.deleteAt(t, e), this.update((new f.default).retain(t).delete(e)) } }, { key: "formatLine", value: function (s, e) { var a = this, l = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}; return this.scroll.update(), Object.keys(l).forEach(function (i) { if (null == a.scroll.whitelist || a.scroll.whitelist[i]) { var t = a.scroll.lines(s, Math.max(e, 1)), o = e; t.forEach(function (t) { var e = t.length(); if (t instanceof h.default) { var n = s - t.offset(a.scroll), r = t.newlineIndex(n + o) - n + 1; t.formatAt(n, r, i, l[i]) } else t.format(i, l[i]); o -= e }) } }), this.scroll.optimize(), this.update((new f.default).retain(s).retain(e, (0, u.default)(l))) } }, { key: "formatText", value: function (e, n) { var r = this, i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}; return Object.keys(i).forEach(function (t) { r.scroll.formatAt(e, n, t, i[t]) }), this.update((new f.default).retain(e).retain(n, (0, u.default)(i))) } }, { key: "getContents", value: function (t, e) { return this.delta.slice(t, t + e) } }, { key: "getDelta", value: function () { return this.scroll.lines().reduce(function (t, e) { return t.concat(e.delta()) }, new f.default) } }, { key: "getFormat", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0, n = [], r = []; 0 === e ? this.scroll.path(t).forEach(function (t) { var e = y(t, 1)[0]; e instanceof w.default ? n.push(e) : e instanceof b.default.Leaf && r.push(e) }) : (n = this.scroll.lines(t, e), r = this.scroll.descendants(b.default.Leaf, t, e)); var i = [n, r].map(function (t) { if (0 === t.length) return {}; for (var e = (0, _.bubbleFormats)(t.shift()); 0 < Object.keys(e).length;) { var n = t.shift(); if (null == n) return e; e = o((0, _.bubbleFormats)(n), e) } return e }); return x.default.apply(x.default, i) } }, { key: "getText", value: function (t, e) { return this.getContents(t, e).filter(function (t) { return "string" == typeof t.insert }).map(function (t) { return t.insert }).join("") } }, { key: "insertEmbed", value: function (t, e, n) { return this.scroll.insertAt(t, e, n), this.update((new f.default).retain(t).insert((o = n, (i = e) in (r = {}) ? Object.defineProperty(r, i, { value: o, enumerable: !0, configurable: !0, writable: !0 }) : r[i] = o, r))); var r, i, o } }, { key: "insertText", value: function (e, n) { var r = this, i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}; return n = n.replace(/\r\n/g, "\n").replace(/\r/g, "\n"), this.scroll.insertAt(e, n), Object.keys(i).forEach(function (t) { r.scroll.formatAt(e, n.length, t, i[t]) }), this.update((new f.default).retain(e).insert(n, (0, u.default)(i))) } }, { key: "isBlank", value: function () { if (0 == this.scroll.children.length) return !0; if (1 < this.scroll.children.length) return !1; var t = this.scroll.children.head; return t.statics.blotName === w.default.blotName && !(1 < t.children.length) && t.children.head instanceof s.default } }, { key: "removeFormat", value: function (t, e) { var n = this.getText(t, e), r = this.scroll.line(t + e), i = y(r, 2), o = i[0], s = i[1], a = 0, l = new f.default; null != o && (a = o instanceof h.default ? o.newlineIndex(s) - s + 1 : o.length() - s, l = o.delta().slice(s, s + a - 1).insert("\n")); var u = this.getContents(t, e + a).diff((new f.default).insert(n).concat(l)), c = (new f.default).retain(t).concat(u); return this.applyDelta(c) } }, { key: "update", value: function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : [], n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : void 0, r = this.delta; if (1 === e.length && "characterData" === e[0].type && e[0].target.data.match(p) && b.default.find(e[0].target)) { var i = b.default.find(e[0].target), o = (0, _.bubbleFormats)(i), s = i.offset(this.scroll), a = e[0].oldValue.replace(c.default.CONTENTS, ""), l = (new f.default).insert(a), u = (new f.default).insert(i.value()); t = (new f.default).retain(s).concat(l.diff(u, n)).reduce(function (t, e) { return e.insert ? t.insert(e.insert, o) : t.push(e) }, new f.default), this.delta = r.compose(t) } else this.delta = this.getDelta(), t && (0, d.default)(r.compose(t), this.delta) || (t = r.diff(this.delta, n)); return t } }]), e }(); e.default = a }, function (t, e) { "use strict"; function u() { } function o(t, e, n) { this.fn = t, this.context = e, this.once = n || !1 } function n() { this._events = new u, this._eventsCount = 0 } var r = Object.prototype.hasOwnProperty, d = "~"; Object.create && (u.prototype = Object.create(null), (new u).__proto__ || (d = !1)), n.prototype.eventNames = function () { var t, e, n = []; if (0 === this._eventsCount) return n; for (e in t = this._events) r.call(t, e) && n.push(d ? e.slice(1) : e); return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(t)) : n }, n.prototype.listeners = function (t, e) { var n = d ? d + t : t, r = this._events[n]; if (e) return !!r; if (!r) return []; if (r.fn) return [r.fn]; for (var i = 0, o = r.length, s = new Array(o); i < o; i++)s[i] = r[i].fn; return s }, n.prototype.emit = function (t, e, n, r, i, o) { var s = d ? d + t : t; if (!this._events[s]) return !1; var a, l, u = this._events[s], c = arguments.length; if (u.fn) { switch (u.once && this.removeListener(t, u.fn, void 0, !0), c) { case 1: return u.fn.call(u.context), !0; case 2: return u.fn.call(u.context, e), !0; case 3: return u.fn.call(u.context, e, n), !0; case 4: return u.fn.call(u.context, e, n, r), !0; case 5: return u.fn.call(u.context, e, n, r, i), !0; case 6: return u.fn.call(u.context, e, n, r, i, o), !0 }for (l = 1, a = new Array(c - 1); l < c; l++)a[l - 1] = arguments[l]; u.fn.apply(u.context, a) } else { var f, h = u.length; for (l = 0; l < h; l++)switch (u[l].once && this.removeListener(t, u[l].fn, void 0, !0), c) { case 1: u[l].fn.call(u[l].context); break; case 2: u[l].fn.call(u[l].context, e); break; case 3: u[l].fn.call(u[l].context, e, n); break; case 4: u[l].fn.call(u[l].context, e, n, r); break; default: if (!a) for (f = 1, a = new Array(c - 1); f < c; f++)a[f - 1] = arguments[f]; u[l].fn.apply(u[l].context, a) } } return !0 }, n.prototype.on = function (t, e, n) { var r = new o(e, n || this), i = d ? d + t : t; return this._events[i] ? this._events[i].fn ? this._events[i] = [this._events[i], r] : this._events[i].push(r) : (this._events[i] = r, this._eventsCount++), this }, n.prototype.once = function (t, e, n) { var r = new o(e, n || this, !0), i = d ? d + t : t; return this._events[i] ? this._events[i].fn ? this._events[i] = [this._events[i], r] : this._events[i].push(r) : (this._events[i] = r, this._eventsCount++), this }, n.prototype.removeListener = function (t, e, n, r) { var i = d ? d + t : t; if (!this._events[i]) return this; if (!e) return 0 == --this._eventsCount ? this._events = new u : delete this._events[i], this; var o = this._events[i]; if (o.fn) o.fn !== e || r && !o.once || n && o.context !== n || (0 == --this._eventsCount ? this._events = new u : delete this._events[i]); else { for (var s = 0, a = [], l = o.length; s < l; s++)(o[s].fn !== e || r && !o[s].once || n && o[s].context !== n) && a.push(o[s]); a.length ? this._events[i] = 1 === a.length ? a[0] : a : 0 == --this._eventsCount ? this._events = new u : delete this._events[i] } return this }, n.prototype.removeAllListeners = function (t) { var e; return t ? (e = d ? d + t : t, this._events[e] && (0 == --this._eventsCount ? this._events = new u : delete this._events[e])) : (this._events = new u, this._eventsCount = 0), this }, n.prototype.off = n.prototype.removeListener, n.prototype.addListener = n.prototype.on, n.prototype.setMaxListeners = function () { return this }, n.prefixed = d, n.EventEmitter = n, void 0 !== t && (t.exports = n) }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function s(t) { return t instanceof l.default || t instanceof p.BlockEmbed } Object.defineProperty(e, "__esModule", { value: !0 }); var h = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), d = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, a = r(n(0)), o = r(n(9)), p = n(3), l = r(p), g = r(n(14)), m = r(n(13)), u = r(n(23)), c = function (t) { function f(t, e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, f); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (f.__proto__ || Object.getPrototypeOf(f)).call(this, t)); return n.emitter = e.emitter, Array.isArray(e.whitelist) && (n.whitelist = e.whitelist.reduce(function (t, e) { return t[e] = !0, t }, {})), n.domNode.addEventListener("DOMNodeInserted", function () { }), n.optimize(), n.enable(), n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(f, a.default.Scroll), i(f, [{ key: "batchStart", value: function () { this.batch = !0 } }, { key: "batchEnd", value: function () { this.batch = !1, this.optimize() } }, { key: "deleteAt", value: function (t, e) { var n = this.line(t), r = h(n, 2), i = r[0], o = r[1], s = this.line(t + e), a = h(s, 1)[0]; if (d(f.prototype.__proto__ || Object.getPrototypeOf(f.prototype), "deleteAt", this).call(this, t, e), null != a && i !== a && 0 < o) { if (i instanceof p.BlockEmbed || a instanceof p.BlockEmbed) return void this.optimize(); if (i instanceof m.default) { var l = i.newlineIndex(i.length(), !0); if (-1 < l && (i = i.split(l + 1)) === a) return void this.optimize() } else if (a instanceof m.default) { var u = a.newlineIndex(0); -1 < u && a.split(u + 1) } var c = a.children.head instanceof g.default ? null : a.children.head; i.moveChildren(a, c), i.remove() } this.optimize() } }, { key: "enable", value: function () { var t = !(0 < arguments.length && void 0 !== arguments[0]) || arguments[0]; this.domNode.setAttribute("contenteditable", t) } }, { key: "formatAt", value: function (t, e, n, r) { (null == this.whitelist || this.whitelist[n]) && (d(f.prototype.__proto__ || Object.getPrototypeOf(f.prototype), "formatAt", this).call(this, t, e, n, r), this.optimize()) } }, { key: "insertAt", value: function (t, e, n) { if (null == n || null == this.whitelist || this.whitelist[e]) { if (t >= this.length()) if (null == n || null == a.default.query(e, a.default.Scope.BLOCK)) { var r = a.default.create(this.statics.defaultChild); this.appendChild(r), null == n && e.endsWith("\n") && (e = e.slice(0, -1)), r.insertAt(0, e, n) } else { var i = a.default.create(e, n); this.appendChild(i) } else d(f.prototype.__proto__ || Object.getPrototypeOf(f.prototype), "insertAt", this).call(this, t, e, n); this.optimize() } } }, { key: "insertBefore", value: function (t, e) { if (t.statics.scope === a.default.Scope.INLINE_BLOT) { var n = a.default.create(this.statics.defaultChild); n.appendChild(t), t = n } d(f.prototype.__proto__ || Object.getPrototypeOf(f.prototype), "insertBefore", this).call(this, t, e) } }, { key: "leaf", value: function (t) { return this.path(t).pop() || [null, -1] } }, { key: "line", value: function (t) { return t === this.length() ? this.line(t - 1) : this.descendant(s, t) } }, { key: "lines", value: function () { return function r(t, e, n) { var i = [], o = n; return t.children.forEachAt(e, n, function (t, e, n) { s(t) ? i.push(t) : t instanceof a.default.Container && (i = i.concat(r(t, e, o))), o -= n }), i }(this, 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0, 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : Number.MAX_VALUE) } }, { key: "optimize", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : [], e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; !0 !== this.batch && (d(f.prototype.__proto__ || Object.getPrototypeOf(f.prototype), "optimize", this).call(this, t, e), 0 < t.length && this.emitter.emit(o.default.events.SCROLL_OPTIMIZE, t, e)) } }, { key: "path", value: function (t) { return d(f.prototype.__proto__ || Object.getPrototypeOf(f.prototype), "path", this).call(this, t).slice(1) } }, { key: "update", value: function (t) { if (!0 !== this.batch) { var e = o.default.sources.USER; "string" == typeof t && (e = t), Array.isArray(t) || (t = this.observer.takeRecords()), 0 < t.length && this.emitter.emit(o.default.events.SCROLL_BEFORE_UPDATE, e, t), d(f.prototype.__proto__ || Object.getPrototypeOf(f.prototype), "update", this).call(this, t.concat([])), 0 < t.length && this.emitter.emit(o.default.events.SCROLL_UPDATE, e, t) } } }]), f }(); c.blotName = "scroll", c.className = "ql-editor", c.tagName = "DIV", c.defaultChild = "block", c.allowedChildren = [l.default, p.BlockEmbed, u.default], e.default = c }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function l(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function s(t, n, r) { return "object" === (void 0 === n ? "undefined" : g(n)) ? Object.keys(n).reduce(function (t, e) { return s(t, e, n[e]) }, t) : t.reduce(function (t, e) { return e.attributes && e.attributes[n] ? t.push(e) : t.insert(e.insert, (0, v.default)({}, l({}, n, r), e.attributes)) }, new b.default) } function i(t) { return t.nodeType !== Node.ELEMENT_NODE ? {} : t["__ql-computed-style"] || (t["__ql-computed-style"] = window.getComputedStyle(t)) } function u(t, e) { for (var n = "", r = t.ops.length - 1; 0 <= r && n.length < e.length; --r) { var i = t.ops[r]; if ("string" != typeof i.insert) break; n = i.insert + n } return n.slice(-1 * e.length) === e } function o(t) { return 0 !== t.childNodes.length && -1 < ["block", "list-item"].indexOf(i(t).display) } function a(t, e, n) { return s(n, t, !0) } function c(n, t) { var e = _.default.Attributor.Attribute.keys(n), r = _.default.Attributor.Class.keys(n), i = _.default.Attributor.Style.keys(n), o = {}; return e.concat(r).concat(i).forEach(function (t) { var e = _.default.query(t, _.default.Scope.ATTRIBUTE); null != e && (o[e.attrName] = e.value(n), o[e.attrName]) || (null == (e = M[t]) || e.attrName !== t && e.keyName !== t || (o[e.attrName] = e.value(n) || void 0), null == (e = D[t]) || e.attrName !== t && e.keyName !== t || (e = D[t], o[e.attrName] = e.value(n) || void 0)) }), 0 < Object.keys(o).length && (t = s(t, o)), t } function f(t, e) { var n = _.default.query(t); if (null == n) return e; if (n.prototype instanceof _.default.Embed) { var r = {}, i = n.value(t); null != i && (r[n.blotName] = i, e = (new b.default).insert(r, n.formats(t))) } else "function" == typeof n.formats && (e = s(e, n.blotName, n.formats(t))); return e } function h(t, e) { return u(e, "\n") || (o(t) || 0 < e.length() && t.nextSibling && o(t.nextSibling)) && e.insert("\n"), e } function d(t, e) { if (o(t) && null != t.nextElementSibling && !u(e, "\n\n")) { var n = t.offsetHeight + parseFloat(i(t).marginTop) + parseFloat(i(t).marginBottom); t.nextElementSibling.offsetTop > t.offsetTop + 1.5 * n && e.insert("\n") } return e } function p(t, e) { var n = t.data; if ("O:P" === t.parentNode.tagName) return e.insert(n.trim()); if (0 === n.trim().length && t.parentNode.classList.contains("ql-clipboard")) return e; if (!i(t.parentNode).whiteSpace.startsWith("pre")) { var r = function (t, e) { return (e = e.replace(/[^\u00a0]/g, "")).length < 1 && t ? " " : e }; n = (n = n.replace(/\r\n/g, " ").replace(/\n/g, " ")).replace(/\s\s+/g, r.bind(r, !0)), (null == t.previousSibling && o(t.parentNode) || null != t.previousSibling && o(t.previousSibling)) && (n = n.replace(/^\s+/, r.bind(r, !1))), (null == t.nextSibling && o(t.parentNode) || null != t.nextSibling && o(t.nextSibling)) && (n = n.replace(/\s+$/, r.bind(r, !1))) } return e.insert(n) } Object.defineProperty(e, "__esModule", { value: !0 }), e.matchText = e.matchSpacing = e.matchNewline = e.matchBlot = e.matchAttributor = e.default = void 0; var g = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, m = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, y = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), v = r(n(2)), b = r(n(4)), _ = r(n(0)), w = r(n(6)), x = r(n(10)), E = r(n(7)), T = n(34), k = n(35), j = r(n(13)), S = n(24), O = n(36), A = n(37), L = n(38), C = (0, x.default)("quill:clipboard"), P = "__ql-matcher", N = [[Node.TEXT_NODE, p], [Node.TEXT_NODE, h], ["br", function (t, e) { return u(e, "\n") || e.insert("\n"), e }], [Node.ELEMENT_NODE, h], [Node.ELEMENT_NODE, f], [Node.ELEMENT_NODE, d], [Node.ELEMENT_NODE, c], [Node.ELEMENT_NODE, function (t, e) { var n = {}, r = t.style || {}; return r.fontStyle && "italic" === i(t).fontStyle && (n.italic = !0), r.fontWeight && (i(t).fontWeight.startsWith("bold") || 700 <= parseInt(i(t).fontWeight)) && (n.bold = !0), 0 < Object.keys(n).length && (e = s(e, n)), 0 < parseFloat(r.textIndent || 0) && (e = (new b.default).insert("\t").concat(e)), e }], ["li", function (t, e) { var n = _.default.query(t); if (null == n || "list-item" !== n.blotName || !u(e, "\n")) return e; for (var r = -1, i = t.parentNode; !i.classList.contains("ql-clipboard");)"list" === (_.default.query(i) || {}).blotName && (r += 1), i = i.parentNode; return r <= 0 ? e : e.compose((new b.default).retain(e.length() - 1).retain(1, { indent: r })) }], ["b", a.bind(a, "bold")], ["i", a.bind(a, "italic")], ["style", function () { return new b.default }]], M = [T.AlignAttribute, O.DirectionAttribute].reduce(function (t, e) { return t[e.keyName] = e, t }, {}), D = [T.AlignStyle, k.BackgroundStyle, S.ColorStyle, O.DirectionStyle, A.FontStyle, L.SizeStyle].reduce(function (t, e) { return t[e.keyName] = e, t }, {}), R = function (t) { function e(t, i) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var o = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t, i)); return o.quill.root.addEventListener("paste", o.onPaste.bind(o)), o.container = o.quill.addContainer("ql-clipboard"), o.container.setAttribute("contenteditable", !0), o.container.setAttribute("tabindex", -1), o.matchers = [], N.concat(o.options.matchers).forEach(function (t) { var e = m(t, 2), n = e[0], r = e[1]; (i.matchVisual || r !== d) && o.addMatcher(n, r) }), o } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, E.default), y(e, [{ key: "addMatcher", value: function (t, e) { this.matchers.push([t, e]) } }, { key: "convert", value: function (t) { if ("string" == typeof t) return this.container.innerHTML = t.replace(/\>\r?\n +\</g, "><"), this.convert(); var e = this.quill.getFormat(this.quill.selection.savedRange.index); if (e[j.default.blotName]) { var n = this.container.innerText; return this.container.innerHTML = "", (new b.default).insert(n, l({}, j.default.blotName, e[j.default.blotName])) } var r = this.prepareMatching(), i = m(r, 2), o = i[0], s = i[1], a = function r(i, o, s) { return i.nodeType === i.TEXT_NODE ? s.reduce(function (t, e) { return e(i, t) }, new b.default) : i.nodeType === i.ELEMENT_NODE ? [].reduce.call(i.childNodes || [], function (t, n) { var e = r(n, o, s); return n.nodeType === i.ELEMENT_NODE && (e = o.reduce(function (t, e) { return e(n, t) }, e), e = (n[P] || []).reduce(function (t, e) { return e(n, t) }, e)), t.concat(e) }, new b.default) : new b.default }(this.container, o, s); return u(a, "\n") && null == a.ops[a.ops.length - 1].attributes && (a = a.compose((new b.default).retain(a.length() - 1).delete(1))), C.log("convert", this.container.innerHTML, a), this.container.innerHTML = "", a } }, { key: "dangerouslyPasteHTML", value: function (t, e) { var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : w.default.sources.API; if ("string" == typeof t) this.quill.setContents(this.convert(t), e), this.quill.setSelection(0, w.default.sources.SILENT); else { var r = this.convert(e); this.quill.updateContents((new b.default).retain(t).concat(r), n), this.quill.setSelection(t + r.length(), w.default.sources.SILENT) } } }, { key: "onPaste", value: function (t) { var e = this; if (!t.defaultPrevented && this.quill.isEnabled()) { var n = this.quill.getSelection(), r = (new b.default).retain(n.index), i = this.quill.scrollingContainer.scrollTop; this.container.focus(), this.quill.selection.update(w.default.sources.SILENT), setTimeout(function () { r = r.concat(e.convert()).delete(n.length), e.quill.updateContents(r, w.default.sources.USER), e.quill.setSelection(r.length() - n.length, w.default.sources.SILENT), e.quill.scrollingContainer.scrollTop = i, e.quill.focus() }, 1) } } }, { key: "prepareMatching", value: function () { var i = this, o = [], s = []; return this.matchers.forEach(function (t) { var e = m(t, 2), n = e[0], r = e[1]; switch (n) { case Node.TEXT_NODE: s.push(r); break; case Node.ELEMENT_NODE: o.push(r); break; default: [].forEach.call(i.container.querySelectorAll(n), function (t) { t[P] = t[P] || [], t[P].push(r) }) } }), [o, s] } }]), e }(); R.DEFAULTS = { matchers: [], matchVisual: !0 }, e.default = R, e.matchAttributor = c, e.matchBlot = f, e.matchNewline = h, e.matchSpacing = d, e.matchText = p }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function i(t) { var e, n, r = t.reduce(function (t, e) { return t + (e.delete || 0) }, 0), i = t.length() - r; return null != (n = (e = t).ops[e.ops.length - 1]) && (null != n.insert ? "string" == typeof n.insert && n.insert.endsWith("\n") : null != n.attributes && Object.keys(n.attributes).some(function (t) { return null != s.default.query(t, s.default.Scope.BLOCK) })) && (i -= 1), i } Object.defineProperty(e, "__esModule", { value: !0 }), e.getLastChangeIndex = e.default = void 0; var o = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), s = r(n(0)), a = r(n(6)), l = r(n(7)), u = function (t) { function n(t, e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, n); var i = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this, t, e)); return i.lastRecorded = 0, i.ignoreChange = !1, i.clear(), i.quill.on(a.default.events.EDITOR_CHANGE, function (t, e, n, r) { t !== a.default.events.TEXT_CHANGE || i.ignoreChange || (i.options.userOnly && r !== a.default.sources.USER ? i.transform(e) : i.record(e, n)) }), i.quill.keyboard.addBinding({ key: "Z", shortKey: !0 }, i.undo.bind(i)), i.quill.keyboard.addBinding({ key: "Z", shortKey: !0, shiftKey: !0 }, i.redo.bind(i)), /Win/i.test(navigator.platform) && i.quill.keyboard.addBinding({ key: "Y", shortKey: !0 }, i.redo.bind(i)), i } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(n, l.default), o(n, [{ key: "change", value: function (t, e) { if (0 !== this.stack[t].length) { var n = this.stack[t].pop(); this.stack[e].push(n), this.lastRecorded = 0, this.ignoreChange = !0, this.quill.updateContents(n[t], a.default.sources.USER), this.ignoreChange = !1; var r = i(n[t]); this.quill.setSelection(r) } } }, { key: "clear", value: function () { this.stack = { undo: [], redo: [] } } }, { key: "cutoff", value: function () { this.lastRecorded = 0 } }, { key: "record", value: function (t, e) { if (0 !== t.ops.length) { this.stack.redo = []; var n = this.quill.getContents().diff(e), r = Date.now(); if (this.lastRecorded + this.options.delay > r && 0 < this.stack.undo.length) { var i = this.stack.undo.pop(); n = n.compose(i.undo), t = i.redo.compose(t) } else this.lastRecorded = r; this.stack.undo.push({ redo: t, undo: n }), this.stack.undo.length > this.options.maxStack && this.stack.undo.shift() } } }, { key: "redo", value: function () { this.change("redo", "undo") } }, { key: "transform", value: function (e) { this.stack.undo.forEach(function (t) { t.undo = e.transform(t.undo, !0), t.redo = e.transform(t.redo, !0) }), this.stack.redo.forEach(function (t) { t.undo = e.transform(t.undo, !0), t.redo = e.transform(t.redo, !0) }) } }, { key: "undo", value: function () { this.change("undo", "redo") } }]), n }(); u.DEFAULTS = { delay: 1e3, maxStack: 100, userOnly: !1 }, e.default = u, e.getLastChangeIndex = i }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.IndentClass = void 0; var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, s = n(0), a = (r = s) && r.__esModule ? r : { default: r }, l = new (function (t) { function r() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, r), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (r.__proto__ || Object.getPrototypeOf(r)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(r, a.default.Attributor.Class), i(r, [{ key: "add", value: function (t, e) { if ("+1" === e || "-1" === e) { var n = this.value(t) || 0; e = "+1" === e ? n + 1 : n - 1 } return 0 === e ? (this.remove(t), !0) : o(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "add", this).call(this, t, e) } }, { key: "canAdd", value: function (t, e) { return o(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "canAdd", this).call(this, t, e) || o(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "canAdd", this).call(this, t, parseInt(e)) } }, { key: "value", value: function (t) { return parseInt(o(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "value", this).call(this, t)) || void 0 } }]), r }())("indent", "ql-indent", { scope: a.default.Scope.BLOCK, whitelist: [1, 2, 3, 4, 5, 6, 7, 8] }); e.IndentClass = l }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = n(3), o = (r = i) && r.__esModule ? r : { default: r }, s = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, o.default), e }(); s.blotName = "blockquote", s.tagName = "blockquote", e.default = s }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = n(3), s = (r = o) && r.__esModule ? r : { default: r }, a = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, s.default), i(e, null, [{ key: "formats", value: function (t) { return this.tagName.indexOf(t.tagName) + 1 } }]), e }(); a.blotName = "header", a.tagName = ["H1", "H2", "H3", "H4", "H5", "H6"], e.default = a }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function s(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function i(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.ListItem = void 0; var l = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), u = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, c = r(n(0)), o = r(n(3)), f = r(n(23)), h = function (t) { function n() { return s(this, n), a(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments)) } return i(n, o.default), l(n, [{ key: "format", value: function (t, e) { t !== d.blotName || e ? u(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "format", this).call(this, t, e) : this.replaceWith(c.default.create(this.statics.scope)) } }, { key: "remove", value: function () { null == this.prev && null == this.next ? this.parent.remove() : u(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "remove", this).call(this) } }, { key: "replaceWith", value: function (t, e) { return this.parent.isolate(this.offset(this.parent), this.length()), t === this.parent.statics.blotName ? (this.parent.replaceWith(t, e), this) : (this.parent.unwrap(), u(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "replaceWith", this).call(this, t, e)) } }], [{ key: "formats", value: function (t) { return t.tagName === this.tagName ? void 0 : u(n.__proto__ || Object.getPrototypeOf(n), "formats", this).call(this, t) } }]), n }(); h.blotName = "list-item", h.tagName = "LI"; var d = function (t) { function o(r) { s(this, o); var i = a(this, (o.__proto__ || Object.getPrototypeOf(o)).call(this, r)), t = function (t) { if (t.target.parentNode === r) { var e = i.statics.formats(r), n = c.default.find(t.target); "checked" === e ? n.format("list", "unchecked") : "unchecked" === e && n.format("list", "checked") } }; return r.addEventListener("touchstart", t), r.addEventListener("mousedown", t), i } return i(o, f.default), l(o, null, [{ key: "create", value: function (t) { var e = "ordered" === t ? "OL" : "UL", n = u(o.__proto__ || Object.getPrototypeOf(o), "create", this).call(this, e); return "checked" !== t && "unchecked" !== t || n.setAttribute("data-checked", "checked" === t), n } }, { key: "formats", value: function (t) { return "OL" === t.tagName ? "ordered" : "UL" === t.tagName ? t.hasAttribute("data-checked") ? "true" === t.getAttribute("data-checked") ? "checked" : "unchecked" : "bullet" : void 0 } }]), l(o, [{ key: "format", value: function (t, e) { 0 < this.children.length && this.children.tail.format(t, e) } }, { key: "formats", value: function () { return t = {}, e = this.statics.blotName, n = this.statics.formats(this.domNode), e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t; var t, e, n } }, { key: "insertBefore", value: function (t, e) { if (t instanceof h) u(o.prototype.__proto__ || Object.getPrototypeOf(o.prototype), "insertBefore", this).call(this, t, e); else { var n = null == e ? this.length() : e.offset(this), r = this.split(n); r.parent.insertBefore(t, r) } } }, { key: "optimize", value: function (t) { u(o.prototype.__proto__ || Object.getPrototypeOf(o.prototype), "optimize", this).call(this, t); var e = this.next; null != e && e.prev === this && e.statics.blotName === this.statics.blotName && e.domNode.tagName === this.domNode.tagName && e.domNode.getAttribute("data-checked") === this.domNode.getAttribute("data-checked") && (e.moveChildren(this), e.remove()) } }, { key: "replace", value: function (t) { if (t.statics.blotName !== this.statics.blotName) { var e = c.default.create(this.statics.defaultChild); t.moveChildren(e), this.appendChild(e) } u(o.prototype.__proto__ || Object.getPrototypeOf(o.prototype), "replace", this).call(this, t) } }]), o }(); d.blotName = "list", d.scope = c.default.Scope.BLOCK_BLOT, d.tagName = ["OL", "UL"], d.defaultChild = "list-item", d.allowedChildren = [h], e.ListItem = h, e.default = d }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = n(39), o = (r = i) && r.__esModule ? r : { default: r }, s = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, o.default), e }(); s.blotName = "italic", s.tagName = ["EM", "I"], e.default = s }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = n(5), s = (r = o) && r.__esModule ? r : { default: r }, a = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, s.default), i(e, null, [{ key: "create", value: function (t) { return "super" === t ? document.createElement("sup") : "sub" === t ? document.createElement("sub") : function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(e.__proto__ || Object.getPrototypeOf(e), "create", this).call(this, t) } }, { key: "formats", value: function (t) { return "SUB" === t.tagName ? "sub" : "SUP" === t.tagName ? "super" : void 0 } }]), e }(); a.blotName = "script", a.tagName = ["SUB", "SUP"], e.default = a }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = n(5), o = (r = i) && r.__esModule ? r : { default: r }, s = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, o.default), e }(); s.blotName = "strike", s.tagName = "S", e.default = s }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = n(5), o = (r = i) && r.__esModule ? r : { default: r }, s = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, o.default), e }(); s.blotName = "underline", s.tagName = "U", e.default = s }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, s = n(0), a = (r = s) && r.__esModule ? r : { default: r }, l = n(15), u = ["alt", "height", "width"], c = function (t) { function n() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, n), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(n, a.default.Embed), i(n, [{ key: "format", value: function (t, e) { -1 < u.indexOf(t) ? e ? this.domNode.setAttribute(t, e) : this.domNode.removeAttribute(t) : o(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "format", this).call(this, t, e) } }], [{ key: "create", value: function (t) { var e = o(n.__proto__ || Object.getPrototypeOf(n), "create", this).call(this, t); return "string" == typeof t && e.setAttribute("src", this.sanitize(t)), e } }, { key: "formats", value: function (n) { return u.reduce(function (t, e) { return n.hasAttribute(e) && (t[e] = n.getAttribute(e)), t }, {}) } }, { key: "match", value: function (t) { return /\.(jpe?g|gif|png)$/.test(t) || /^data:image\/.+;base64/.test(t) } }, { key: "sanitize", value: function (t) { return (0, l.sanitize)(t, ["http", "https", "data"]) ? t : "//:0" } }, { key: "value", value: function (t) { return t.getAttribute("src") } }]), n }(); c.blotName = "image", c.tagName = "IMG", e.default = c }, function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var r, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), o = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, s = n(3), a = n(15), l = (r = a) && r.__esModule ? r : { default: r }, u = ["height", "width"], c = function (t) { function n() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, n), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(n, s.BlockEmbed), i(n, [{ key: "format", value: function (t, e) { -1 < u.indexOf(t) ? e ? this.domNode.setAttribute(t, e) : this.domNode.removeAttribute(t) : o(n.prototype.__proto__ || Object.getPrototypeOf(n.prototype), "format", this).call(this, t, e) } }], [{ key: "create", value: function (t) { var e = o(n.__proto__ || Object.getPrototypeOf(n), "create", this).call(this, t); return e.setAttribute("frameborder", "0"), e.setAttribute("allowfullscreen", !0), e.setAttribute("src", this.sanitize(t)), e } }, { key: "formats", value: function (n) { return u.reduce(function (t, e) { return n.hasAttribute(e) && (t[e] = n.getAttribute(e)), t }, {}) } }, { key: "sanitize", value: function (t) { return l.default.sanitize(t) } }, { key: "value", value: function (t) { return t.getAttribute("src") } }]), n }(); c.blotName = "video", c.className = "ql-video", c.tagName = "IFRAME", e.default = c }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function i(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.FormulaBlot = void 0; var a = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), l = r(n(33)), u = r(n(6)), c = r(n(7)), f = function (t) { function n() { return i(this, n), o(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments)) } return s(n, l.default), a(n, null, [{ key: "create", value: function (t) { var e = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(n.__proto__ || Object.getPrototypeOf(n), "create", this).call(this, t); return "string" == typeof t && (window.katex.render(t, e, { throwOnError: !1, errorColor: "#f00" }), e.setAttribute("data-value", t)), e } }, { key: "value", value: function (t) { return t.getAttribute("data-value") } }]), n }(); f.blotName = "formula", f.className = "ql-formula", f.tagName = "SPAN"; var h = function (t) { function e() { i(this, e); var t = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this)); if (null == window.katex) throw new Error("Formula module requires KaTeX."); return t } return s(e, c.default), a(e, null, [{ key: "register", value: function () { u.default.register(f, !0) } }]), e }(); e.FormulaBlot = f, e.default = h }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function s(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.CodeToken = e.CodeBlock = void 0; var l = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), i = r(n(0)), u = r(n(6)), c = r(n(7)), f = r(n(13)), h = function (t) { function e() { return o(this, e), s(this, (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments)) } return a(e, f.default), l(e, [{ key: "replaceWith", value: function (t) { this.domNode.textContent = this.domNode.textContent, this.attach(), function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "replaceWith", this).call(this, t) } }, { key: "highlight", value: function (t) { var e = this.domNode.textContent; this.cachedText !== e && ((0 < e.trim().length || null == this.cachedText) && (this.domNode.innerHTML = t(e), this.domNode.normalize(), this.attach()), this.cachedText = e) } }]), e }(); h.className = "ql-syntax"; var d = new i.default.Attributor.Class("token", "hljs", { scope: i.default.Scope.INLINE }), p = function (t) { function i(t, e) { o(this, i); var n = s(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this, t, e)); if ("function" != typeof n.options.highlight) throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill."); var r = null; return n.quill.on(u.default.events.SCROLL_OPTIMIZE, function () { clearTimeout(r), r = setTimeout(function () { n.highlight(), r = null }, n.options.interval) }), n.highlight(), n } return a(i, c.default), l(i, null, [{ key: "register", value: function () { u.default.register(d, !0), u.default.register(h, !0) } }]), l(i, [{ key: "highlight", value: function () { var e = this; if (!this.quill.selection.composing) { this.quill.update(u.default.sources.USER); var t = this.quill.getSelection(); this.quill.scroll.descendants(h).forEach(function (t) { t.highlight(e.options.highlight) }), this.quill.update(u.default.sources.SILENT), null != t && this.quill.setSelection(t, u.default.sources.SILENT) } } }]), i }(); p.DEFAULTS = { highlight: null == window.hljs ? null : function (t) { return window.hljs.highlightAuto(t).value }, interval: 1e3 }, e.CodeBlock = h, e.CodeToken = d, e.default = p }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function s(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function l(t, e, n) { var r = document.createElement("button"); r.setAttribute("type", "button"), r.classList.add("ql-" + e), null != n && (r.value = n), t.appendChild(r) } function a(e, t) { Array.isArray(t[0]) || (t = [t]), t.forEach(function (t) { var a = document.createElement("span"); a.classList.add("ql-formats"), t.forEach(function (t) { if ("string" == typeof t) l(a, t); else { var e = Object.keys(t)[0], n = t[e]; Array.isArray(n) ? (r = a, i = e, o = n, (s = document.createElement("select")).classList.add("ql-" + i), o.forEach(function (t) { var e = document.createElement("option"); !1 !== t ? e.setAttribute("value", t) : e.setAttribute("selected", "selected"), s.appendChild(e) }), r.appendChild(s)) : l(a, e, n) } var r, i, o, s }), e.appendChild(a) }) } Object.defineProperty(e, "__esModule", { value: !0 }), e.addControls = e.default = void 0; var f = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, i = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), h = r(n(4)), d = r(n(0)), p = r(n(6)), o = r(n(10)), u = r(n(7)), g = (0, o.default)("quill:toolbar"), c = function (t) { function o(t, e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, o); var n, r = s(this, (o.__proto__ || Object.getPrototypeOf(o)).call(this, t, e)); if (Array.isArray(r.options.container)) { var i = document.createElement("div"); a(i, r.options.container), t.container.parentNode.insertBefore(i, t.container), r.container = i } else "string" == typeof r.options.container ? r.container = document.querySelector(r.options.container) : r.container = r.options.container; return r.container instanceof HTMLElement ? (r.container.classList.add("ql-toolbar"), r.controls = [], r.handlers = {}, Object.keys(r.options.handlers).forEach(function (t) { r.addHandler(t, r.options.handlers[t]) }), [].forEach.call(r.container.querySelectorAll("button, select"), function (t) { r.attach(t) }), r.quill.on(p.default.events.EDITOR_CHANGE, function (t, e) { t === p.default.events.SELECTION_CHANGE && r.update(e) }), r.quill.on(p.default.events.SCROLL_OPTIMIZE, function () { var t = r.quill.selection.getRange(), e = f(t, 1)[0]; r.update(e) }), r) : (n = g.error("Container required for toolbar", r.options), s(r, n)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(o, u.default), i(o, [{ key: "addHandler", value: function (t, e) { this.handlers[t] = e } }, { key: "attach", value: function (l) { var u = this, c = [].find.call(l.classList, function (t) { return 0 === t.indexOf("ql-") }); if (c) { if (c = c.slice("ql-".length), "BUTTON" === l.tagName && l.setAttribute("type", "button"), null == this.handlers[c]) { if (null != this.quill.scroll.whitelist && null == this.quill.scroll.whitelist[c]) return void g.warn("ignoring attaching to disabled format", c, l); if (null == d.default.query(c)) return void g.warn("ignoring attaching to nonexistent format", c, l) } var t = "SELECT" === l.tagName ? "change" : "click"; l.addEventListener(t, function (t) { var e = void 0; if ("SELECT" === l.tagName) { if (l.selectedIndex < 0) return; var n = l.options[l.selectedIndex]; e = !n.hasAttribute("selected") && (n.value || !1) } else e = !l.classList.contains("ql-active") && (l.value || !l.hasAttribute("value")), t.preventDefault(); u.quill.focus(); var r, i, o, s = u.quill.selection.getRange(), a = f(s, 1)[0]; if (null != u.handlers[c]) u.handlers[c].call(u, e); else if (d.default.query(c).prototype instanceof d.default.Embed) { if (!(e = prompt("Enter " + c))) return; u.quill.updateContents((new h.default).retain(a.index).delete(a.length).insert((o = e, (i = c) in (r = {}) ? Object.defineProperty(r, i, { value: o, enumerable: !0, configurable: !0, writable: !0 }) : r[i] = o, r)), p.default.sources.USER) } else u.quill.format(c, e, p.default.sources.USER); u.update(a) }), this.controls.push([c, l]) } } }, { key: "update", value: function (a) { var l = null == a ? {} : this.quill.getFormat(a); this.controls.forEach(function (t) { var e = f(t, 2), n = e[0], r = e[1]; if ("SELECT" === r.tagName) { var i = void 0; if (null == a) i = null; else if (null == l[n]) i = r.querySelector("option[selected]"); else if (!Array.isArray(l[n])) { var o = l[n]; "string" == typeof o && (o = o.replace(/\"/g, '\\"')), i = r.querySelector('option[value="' + o + '"]') } null == i ? (r.value = "", r.selectedIndex = -1) : i.selected = !0 } else if (null == a) r.classList.remove("ql-active"); else if (r.hasAttribute("value")) { var s = l[n] === r.getAttribute("value") || null != l[n] && l[n].toString() === r.getAttribute("value") || null == l[n] && !r.getAttribute("value"); r.classList.toggle("ql-active", s) } else r.classList.toggle("ql-active", null != l[n]) }) } }]), o }(); c.DEFAULTS = {}, c.DEFAULTS = { container: null, handlers: { clean: function () { var e = this, t = this.quill.getSelection(); if (null != t) if (0 == t.length) { var n = this.quill.getFormat(); Object.keys(n).forEach(function (t) { null != d.default.query(t, d.default.Scope.INLINE) && e.quill.format(t, !1) }) } else this.quill.removeFormat(t, p.default.sources.USER) }, direction: function (t) { var e = this.quill.getFormat().align; "rtl" === t && null == e ? this.quill.format("align", "right", p.default.sources.USER) : t || "right" !== e || this.quill.format("align", !1, p.default.sources.USER), this.quill.format("direction", t, p.default.sources.USER) }, indent: function (t) { var e = this.quill.getSelection(), n = this.quill.getFormat(e), r = parseInt(n.indent || 0); if ("+1" === t || "-1" === t) { var i = "+1" === t ? 1 : -1; "rtl" === n.direction && (i *= -1), this.quill.format("indent", r + i, p.default.sources.USER) } }, link: function (t) { !0 === t && (t = prompt("Enter link URL:")), this.quill.format("link", t, p.default.sources.USER) }, list: function (t) { var e = this.quill.getSelection(), n = this.quill.getFormat(e); "check" === t ? "checked" === n.list || "unchecked" === n.list ? this.quill.format("list", !1, p.default.sources.USER) : this.quill.format("list", "unchecked", p.default.sources.USER) : this.quill.format("list", t, p.default.sources.USER) } } }, e.default = c, e.addControls = a }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>' }, function (t, e) { t.exports = '<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>' }, function (t, e) { t.exports = '<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>' }, function (t, e) { t.exports = '<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>' }, function (t, e) { t.exports = '<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>' }, function (t, e) { t.exports = '<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>' }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function i(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } Object.defineProperty(e, "__esModule", { value: !0 }), e.default = e.BubbleTooltip = void 0; var a = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, l = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), u = r(n(2)), c = r(n(9)), f = n(44), h = r(f), d = n(22), p = r(n(26)), g = [["bold", "italic", "link"], [{ header: 1 }, { header: 2 }, "blockquote"]], m = function (t) { function r(t, e) { i(this, r), null != e.modules.toolbar && null == e.modules.toolbar.container && (e.modules.toolbar.container = g); var n = o(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this, t, e)); return n.quill.container.classList.add("ql-bubble"), n } return s(r, h.default), l(r, [{ key: "extendToolbar", value: function (t) { this.tooltip = new y(this.quill, this.options.bounds), this.tooltip.root.appendChild(t.container), this.buildButtons([].slice.call(t.container.querySelectorAll("button")), p.default), this.buildPickers([].slice.call(t.container.querySelectorAll("select")), p.default) } }]), r }(); m.DEFAULTS = (0, u.default)(!0, {}, h.default.DEFAULTS, { modules: { toolbar: { handlers: { link: function (t) { t ? this.quill.theme.tooltip.edit() : this.quill.format("link", !1) } } } } }); var y = function (t) { function r(t, e) { i(this, r); var u = o(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this, t, e)); return u.quill.on(c.default.events.EDITOR_CHANGE, function (t, e, n, r) { if (t === c.default.events.SELECTION_CHANGE) if (null != e && 0 < e.length && r === c.default.sources.USER) { u.show(), u.root.style.left = "0px", u.root.style.width = "", u.root.style.width = u.root.offsetWidth + "px"; var i = u.quill.getLines(e.index, e.length); if (1 === i.length) u.position(u.quill.getBounds(e)); else { var o = i[i.length - 1], s = u.quill.getIndex(o), a = Math.min(o.length() - 1, e.index + e.length - s), l = u.quill.getBounds(new d.Range(s, a)); u.position(l) } } else document.activeElement !== u.textbox && u.quill.hasFocus() && u.hide() }), u } return s(r, f.BaseTooltip), l(r, [{ key: "listen", value: function () { var e = this; a(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "listen", this).call(this), this.root.querySelector(".ql-close").addEventListener("click", function () { e.root.classList.remove("ql-editing") }), this.quill.on(c.default.events.SCROLL_OPTIMIZE, function () { setTimeout(function () { if (!e.root.classList.contains("ql-hidden")) { var t = e.quill.getSelection(); null != t && e.position(e.quill.getBounds(t)) } }, 1) }) } }, { key: "cancel", value: function () { this.show() } }, { key: "position", value: function (t) { var e = a(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "position", this).call(this, t), n = this.root.querySelector(".ql-tooltip-arrow"); if (n.style.marginLeft = "", 0 === e) return e; n.style.marginLeft = -1 * e - n.offsetWidth / 2 + "px" } }]), r }(); y.TEMPLATE = ['<span class="ql-tooltip-arrow"></span>', '<div class="ql-tooltip-editor">', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-close"></a>', "</div>"].join(""), e.BubbleTooltip = y, e.default = m }, function (t, e, n) { "use strict"; function r(t) { return t && t.__esModule ? t : { default: t } } function i(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } Object.defineProperty(e, "__esModule", { value: !0 }); var u = function (t, e) { if (Array.isArray(t)) return t; if (Symbol.iterator in Object(t)) return function (t, e) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); r = !0); } catch (t) { i = !0, o = t } finally { try { !r && a.return && a.return() } finally { if (i) throw o } } return n }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, a = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }, l = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(), c = r(n(2)), f = r(n(9)), h = n(44), d = r(h), p = r(n(15)), g = n(22), m = r(n(26)), y = [[{ header: ["1", "2", "3", !1] }], ["bold", "italic", "underline", "link"], [{ list: "ordered" }, { list: "bullet" }], ["clean"]], v = function (t) { function r(t, e) { i(this, r), null != e.modules.toolbar && null == e.modules.toolbar.container && (e.modules.toolbar.container = y); var n = o(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this, t, e)); return n.quill.container.classList.add("ql-snow"), n } return s(r, d.default), l(r, [{ key: "extendToolbar", value: function (n) { n.container.classList.add("ql-snow"), this.buildButtons([].slice.call(n.container.querySelectorAll("button")), m.default), this.buildPickers([].slice.call(n.container.querySelectorAll("select")), m.default), this.tooltip = new b(this.quill, this.options.bounds), n.container.querySelector(".ql-link") && this.quill.keyboard.addBinding({ key: "K", shortKey: !0 }, function (t, e) { n.handlers.link.call(n, !e.format.link) }) } }]), r }(); v.DEFAULTS = (0, c.default)(!0, {}, d.default.DEFAULTS, { modules: { toolbar: { handlers: { link: function (t) { if (t) { var e = this.quill.getSelection(); if (null == e || 0 == e.length) return; var n = this.quill.getText(e); /^\S+@\S+\.\S+$/.test(n) && 0 !== n.indexOf("mailto:") && (n = "mailto:" + n), this.quill.theme.tooltip.edit("link", n) } else this.quill.format("link", !1) } } } } }); var b = function (t) { function r(t, e) { i(this, r); var n = o(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this, t, e)); return n.preview = n.root.querySelector("a.ql-preview"), n } return s(r, h.BaseTooltip), l(r, [{ key: "listen", value: function () { var l = this; a(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "listen", this).call(this), this.root.querySelector("a.ql-action").addEventListener("click", function (t) { l.root.classList.contains("ql-editing") ? l.save() : l.edit("link", l.preview.textContent), t.preventDefault() }), this.root.querySelector("a.ql-remove").addEventListener("click", function (t) { if (null != l.linkRange) { var e = l.linkRange; l.restoreFocus(), l.quill.formatText(e, "link", !1, f.default.sources.USER), delete l.linkRange } t.preventDefault(), l.hide() }), this.quill.on(f.default.events.SELECTION_CHANGE, function (t, e, n) { if (null != t) { if (0 === t.length && n === f.default.sources.USER) { var r = l.quill.scroll.descendant(p.default, t.index), i = u(r, 2), o = i[0], s = i[1]; if (null != o) { l.linkRange = new g.Range(t.index - s, o.length()); var a = p.default.formats(o.domNode); return l.preview.textContent = a, l.preview.setAttribute("href", a), l.show(), void l.position(l.quill.getBounds(l.linkRange)) } } else delete l.linkRange; l.hide() } }) } }, { key: "show", value: function () { a(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), "show", this).call(this), this.root.removeAttribute("data-mode") } }]), r }(); b.TEMPLATE = ['<a class="ql-preview" target="_blank" href="about:blank"></a>', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-action"></a>', '<a class="ql-remove"></a>'].join(""), e.default = v }]).default }), function () { var e = function () { function r(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } return function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t } }(); var n = Quill.import("blots/block/embed"), t = function (t) { function r() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, r), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (r.__proto__ || Object.getPrototypeOf(r)).apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(r, n), e(r, null, [{ key: "create", value: function (t) { var e = function t(e, n, r) { null === e && (e = Function.prototype); var i = Object.getOwnPropertyDescriptor(e, n); if (void 0 === i) { var o = Object.getPrototypeOf(e); return null === o ? void 0 : t(o, n, r) } if ("value" in i) return i.value; var s = i.get; return void 0 !== s ? s.call(r) : void 0 }(r.__proto__ || Object.getPrototypeOf(r), "create", this).call(this), n = document.createElement("span"); return n.className = "math-content", n.innerHTML = t, e.appendChild(n), n.setAttribute("contenteditable", !1), MathQuill.StaticMath(n), e.dataset.latex = t, e } }, { key: "value", value: function (t) { return t.dataset.id } }]), r }(); t.blotName = "math", t.tagName = "div", t.className = "kr-math", Quill.register(t) }();